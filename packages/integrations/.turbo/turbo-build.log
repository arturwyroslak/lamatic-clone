
> @lamatic/integrations@1.0.0 build
> tsc

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m3[0m:[93m81[0m - [91merror[0m[90m TS2304: [0mCannot find name 'ExecutionContext'.

[7m3[0m export async function handleGraphQLProxy(request: Request, env: WorkerEnv, ctx: ExecutionContext): Promise<Response> {
[7m [0m [91m                                                                                ~~~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m26[0m:[93m24[0m - [91merror[0m[90m TS2339: [0mProperty 'GRAPHQL_API_URL' does not exist on type 'WorkerEnv'.

[7m26[0m     const apiUrl = env.GRAPHQL_API_URL || 'http://localhost:4000/graphql'
[7m  [0m [91m                       ~~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m54[0m:[93m15[0m - [91merror[0m[90m TS2339: [0mProperty 'CACHE' does not exist on type 'WorkerEnv'.

[7m54[0m       if (env.CACHE) {
[7m  [0m [91m              ~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m56[0m:[93m15[0m - [91merror[0m[90m TS2339: [0mProperty 'CACHE' does not exist on type 'WorkerEnv'.

[7m56[0m           env.CACHE.put(cacheKey, JSON.stringify(result), {
[7m  [0m [91m              ~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m90[0m:[93m29[0m - [91merror[0m[90m TS2552: [0mCannot find name 'WebSocketPair'. Did you mean 'webSocketPair'?

[7m90[0m   const webSocketPair = new WebSocketPair()
[7m  [0m [91m                            ~~~~~~~~~~~~~[0m

  [96m../../apps/edge/src/handlers/graphql.ts[0m:[93m90[0m:[93m9[0m
    [7m90[0m   const webSocketPair = new WebSocketPair()
    [7m  [0m [96m        ~~~~~~~~~~~~~[0m
    'webSocketPair' is declared here.

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m94[0m:[93m3[0m - [91merror[0m[90m TS18046: [0m'server' is of type 'unknown'.

[7m94[0m   server.accept()
[7m  [0m [91m  ~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m97[0m:[93m3[0m - [91merror[0m[90m TS18046: [0m'server' is of type 'unknown'.

[7m97[0m   server.addEventListener('message', async (event) => {
[7m  [0m [91m  ~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m97[0m:[93m45[0m - [91merror[0m[90m TS7006: [0mParameter 'event' implicitly has an 'any' type.

[7m97[0m   server.addEventListener('message', async (event) => {
[7m  [0m [91m                                            ~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m103[0m:[93m11[0m - [91merror[0m[90m TS18046: [0m'server' is of type 'unknown'.

[7m103[0m           server.send(JSON.stringify({ type: 'connection_ack' }))
[7m   [0m [91m          ~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m113[0m:[93m11[0m - [91merror[0m[90m TS18046: [0m'server' is of type 'unknown'.

[7m113[0m           server.send(JSON.stringify({
[7m   [0m [91m          ~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m131[0m:[93m11[0m - [91merror[0m[90m TS18046: [0m'server' is of type 'unknown'.

[7m131[0m           server.send(JSON.stringify({
[7m   [0m [91m          ~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m142[0m:[93m7[0m - [91merror[0m[90m TS18046: [0m'server' is of type 'unknown'.

[7m142[0m       server.send(JSON.stringify({
[7m   [0m [91m      ~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m149[0m:[93m3[0m - [91merror[0m[90m TS18046: [0m'server' is of type 'unknown'.

[7m149[0m   server.addEventListener('close', () => {
[7m   [0m [91m  ~~~~~~[0m

[96m../../apps/edge/src/handlers/graphql.ts[0m:[93m155[0m:[93m5[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'webSocket' does not exist in type 'ResponseInit'.

[7m155[0m     webSocket: client
[7m   [0m [91m    ~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m3[0m:[93m76[0m - [91merror[0m[90m TS2304: [0mCannot find name 'ExecutionContext'.

[7m3[0m export async function handleWebhook(request: Request, env: WorkerEnv, ctx: ExecutionContext): Promise<Response> {
[7m [0m [91m                                                                           ~~~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m13[0m:[93m11[0m - [91merror[0m[90m TS2339: [0mProperty 'WEBHOOK_SECRET' does not exist on type 'WorkerEnv'.

[7m13[0m   if (env.WEBHOOK_SECRET && signature) {
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m14[0m:[93m65[0m - [91merror[0m[90m TS2339: [0mProperty 'WEBHOOK_SECRET' does not exist on type 'WorkerEnv'.

[7m14[0m     const isValid = await validateWebhookSignature(request, env.WEBHOOK_SECRET, signature)
[7m  [0m [91m                                                                ~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m109[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'WEBHOOKS_KV' does not exist on type 'WorkerEnv'.

[7m109[0m     if (env.WEBHOOKS_KV) {
[7m   [0m [91m            ~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m110[0m:[93m32[0m - [91merror[0m[90m TS2339: [0mProperty 'WEBHOOKS_KV' does not exist on type 'WorkerEnv'.

[7m110[0m       const config = await env.WEBHOOKS_KV.get(`webhook:${webhookId}`)
[7m   [0m [91m                               ~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m143[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'EXECUTIONS_KV' does not exist on type 'WorkerEnv'.

[7m143[0m     if (env.EXECUTIONS_KV) {
[7m   [0m [91m            ~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m144[0m:[93m17[0m - [91merror[0m[90m TS2339: [0mProperty 'EXECUTIONS_KV' does not exist on type 'WorkerEnv'.

[7m144[0m       await env.EXECUTIONS_KV.put(`execution:${executionId}`, JSON.stringify({
[7m   [0m [91m                ~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m158[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'EXECUTIONS_KV' does not exist on type 'WorkerEnv'.

[7m158[0m     if (env.EXECUTIONS_KV) {
[7m   [0m [91m            ~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m159[0m:[93m17[0m - [91merror[0m[90m TS2339: [0mProperty 'EXECUTIONS_KV' does not exist on type 'WorkerEnv'.

[7m159[0m       await env.EXECUTIONS_KV.put(`execution:${executionId}`, JSON.stringify({
[7m   [0m [91m                ~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m179[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'LOGS_KV' does not exist on type 'WorkerEnv'.

[7m179[0m     if (env.LOGS_KV) {
[7m   [0m [91m            ~~~~~~~[0m

[96m../../apps/edge/src/handlers/webhook.ts[0m:[93m189[0m:[93m17[0m - [91merror[0m[90m TS2339: [0mProperty 'LOGS_KV' does not exist on type 'WorkerEnv'.

[7m189[0m       await env.LOGS_KV.put(`webhook-log:${webhookId}:${Date.now()}`, JSON.stringify(logEntry))
[7m   [0m [91m                ~~~~~~~[0m

[96m../../apps/edge/src/handlers/widget.ts[0m:[93m3[0m:[93m75[0m - [91merror[0m[90m TS2304: [0mCannot find name 'ExecutionContext'.

[7m3[0m export async function handleWidget(request: Request, env: WorkerEnv, ctx: ExecutionContext): Promise<Response> {
[7m [0m [91m                                                                          ~~~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/widget.ts[0m:[93m25[0m:[93m90[0m - [91merror[0m[90m TS2304: [0mCannot find name 'ExecutionContext'.

[7m25[0m async function handleChatWidget(request: Request, widgetId: string, env: WorkerEnv, ctx: ExecutionContext): Promise<Response> {
[7m  [0m [91m                                                                                         ~~~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/widget.ts[0m:[93m85[0m:[93m92[0m - [91merror[0m[90m TS2304: [0mCannot find name 'ExecutionContext'.

[7m85[0m async function handleSearchWidget(request: Request, widgetId: string, env: WorkerEnv, ctx: ExecutionContext): Promise<Response> {
[7m  [0m [91m                                                                                           ~~~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/widget.ts[0m:[93m131[0m:[93m91[0m - [91merror[0m[90m TS2304: [0mCannot find name 'ExecutionContext'.

[7m131[0m async function handleEmbedWidget(request: Request, widgetId: string, env: WorkerEnv, ctx: ExecutionContext): Promise<Response> {
[7m   [0m [91m                                                                                          ~~~~~~~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/widget.ts[0m:[93m341[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'WIDGETS_KV' does not exist on type 'WorkerEnv'.

[7m341[0m     if (env.WIDGETS_KV) {
[7m   [0m [91m            ~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/widget.ts[0m:[93m342[0m:[93m32[0m - [91merror[0m[90m TS2339: [0mProperty 'WIDGETS_KV' does not exist on type 'WorkerEnv'.

[7m342[0m       const config = await env.WIDGETS_KV.get(`widget:${widgetId}`)
[7m   [0m [91m                               ~~~~~~~~~~[0m

[96m../../apps/edge/src/handlers/workflow.ts[0m:[93m26[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'CACHE' does not exist on type 'WorkerEnv'.

[7m26[0m     if (env.CACHE) {
[7m  [0m [91m            ~~~~~[0m

[96m../../apps/edge/src/handlers/workflow.ts[0m:[93m27[0m:[93m17[0m - [91merror[0m[90m TS2339: [0mProperty 'CACHE' does not exist on type 'WorkerEnv'.

[7m27[0m       await env.CACHE.put(`execution:${execution.id}`, JSON.stringify(execution))
[7m  [0m [91m                ~~~~~[0m

[96m../../apps/edge/src/handlers/workflow.ts[0m:[93m47[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'CACHE' does not exist on type 'WorkerEnv'.

[7m47[0m     if (env.CACHE) {
[7m  [0m [91m            ~~~~~[0m

[96m../../apps/edge/src/handlers/workflow.ts[0m:[93m48[0m:[93m32[0m - [91merror[0m[90m TS2339: [0mProperty 'CACHE' does not exist on type 'WorkerEnv'.

[7m48[0m       const stored = await env.CACHE.get(`execution:${executionId}`)
[7m  [0m [91m                               ~~~~~[0m

