(()=>{var e={};e.id=348,e.ids=[348],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7011:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),n(5639),n(4904),n(7824);var s=n(3282),r=n(5736),a=n(3906),i=n.n(a),l=n(6880),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);n.d(t,o);let c=["",{children:["studio",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,5639)),"/home/runner/work/lamatic-clone/lamatic-clone/apps/web/app/studio/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,4904)),"/home/runner/work/lamatic-clone/lamatic-clone/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,7824,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/work/lamatic-clone/lamatic-clone/apps/web/app/studio/page.tsx"],u="/studio/page",m={require:n,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/studio/page",pathname:"/studio",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8943:(e,t,n)=>{Promise.resolve().then(n.bind(n,2299))},2299:(e,t,n)=>{"use strict";let s,r,a,i,l,o,c;n.d(t,{StudioInterface:()=>ul});var d,u,m,h,x,p,f,g,v,y,j,w,b={};n.r(b);var N=n(3227),S=n(3677),k=n(4547),C=n(1250),E=n(4988),M=n(6312);function A(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)""!==(s=A(e[n]))&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}function _(){}function D(e){return null==e?_:function(){return this.querySelector(e)}}function P(){return[]}function T(e){return null==e?P:function(){return this.querySelectorAll(e)}}function z(e){return function(){return this.matches(e)}}function O(e){return function(t){return t.matches(e)}}var R=Array.prototype.find;function I(){return this.firstElementChild}var L=Array.prototype.filter;function Z(){return Array.from(this.children)}function $(e){return Array(e.length)}function H(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function V(e,t,n,s,r,a){for(var i,l=0,o=t.length,c=a.length;l<c;++l)(i=t[l])?(i.__data__=a[l],s[l]=i):n[l]=new H(e,a[l]);for(;l<o;++l)(i=t[l])&&(r[l]=i)}function W(e,t,n,s,r,a,i){var l,o,c,d=new Map,u=t.length,m=a.length,h=Array(u);for(l=0;l<u;++l)(o=t[l])&&(h[l]=c=i.call(o,o.__data__,l,t)+"",d.has(c)?r[l]=o:d.set(c,o));for(l=0;l<m;++l)c=i.call(e,a[l],l,a)+"",(o=d.get(c))?(s[l]=o,o.__data__=a[l],d.delete(c)):n[l]=new H(e,a[l]);for(l=0;l<u;++l)(o=t[l])&&d.get(h[l])===o&&(r[l]=o)}function B(e){return e.__data__}function F(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}H.prototype={constructor:H,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var U="http://www.w3.org/1999/xhtml";let q={svg:"http://www.w3.org/2000/svg",xhtml:U,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Y(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),q.hasOwnProperty(t)?{space:q[t],local:e}:e}function K(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function G(e,t){return e.style.getPropertyValue(t)||K(e).getComputedStyle(e,null).getPropertyValue(t)}function X(e){return e.trim().split(/^|\s+/)}function J(e){return e.classList||new Q(e)}function Q(e){this._node=e,this._names=X(e.getAttribute("class")||"")}function ee(e,t){for(var n=J(e),s=-1,r=t.length;++s<r;)n.add(t[s])}function et(e,t){for(var n=J(e),s=-1,r=t.length;++s<r;)n.remove(t[s])}function en(){this.textContent=""}function es(){this.innerHTML=""}function er(){this.nextSibling&&this.parentNode.appendChild(this)}function ea(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ei(e){var t=Y(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===U&&t.documentElement.namespaceURI===U?t.createElement(e):t.createElementNS(n,e)}})(t)}function el(){return null}function eo(){var e=this.parentNode;e&&e.removeChild(this)}function ec(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ed(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eu(e){return function(){var t=this.__on;if(t){for(var n,s=0,r=-1,a=t.length;s<a;++s)(n=t[s],e.type&&n.type!==e.type||n.name!==e.name)?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function em(e,t,n){return function(){var s,r=this.__on,a=function(e){t.call(this,e,this.__data__)};if(r){for(var i=0,l=r.length;i<l;++i)if((s=r[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(s):this.__on=[s]}}function eh(e,t,n){var s=K(e),r=s.CustomEvent;"function"==typeof r?r=new r(t,n):(r=s.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}Q.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ex=[null];function ep(e,t){this._groups=e,this._parents=t}function ef(){return new ep([[document.documentElement]],ex)}ep.prototype=ef.prototype={constructor:ep,select:function(e){"function"!=typeof e&&(e=D(e));for(var t=this._groups,n=t.length,s=Array(n),r=0;r<n;++r)for(var a,i,l=t[r],o=l.length,c=s[r]=Array(o),d=0;d<o;++d)(a=l[d])&&(i=e.call(a,a.__data__,d,l))&&("__data__"in a&&(i.__data__=a.__data__),c[d]=i);return new ep(s,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=T(e);for(var n=this._groups,s=n.length,r=[],a=[],i=0;i<s;++i)for(var l,o=n[i],c=o.length,d=0;d<c;++d)(l=o[d])&&(r.push(e.call(l,l.__data__,d,o)),a.push(l));return new ep(r,a)},selectChild:function(e){var t;return this.select(null==e?I:(t="function"==typeof e?e:O(e),function(){return R.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?Z:(t="function"==typeof e?e:O(e),function(){return L.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=z(e));for(var t=this._groups,n=t.length,s=Array(n),r=0;r<n;++r)for(var a,i=t[r],l=i.length,o=s[r]=[],c=0;c<l;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&o.push(a);return new ep(s,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,B);var n=t?W:V,s=this._parents,r=this._groups;"function"!=typeof e&&(v=e,e=function(){return v});for(var a=r.length,i=Array(a),l=Array(a),o=Array(a),c=0;c<a;++c){var d=s[c],u=r[c],m=u.length,h="object"==typeof(g=e.call(d,d&&d.__data__,c,s))&&"length"in g?g:Array.from(g),x=h.length,p=l[c]=Array(x),f=i[c]=Array(x);n(d,u,p,f,o[c]=Array(m),h,t);for(var g,v,y,j,w=0,b=0;w<x;++w)if(y=p[w]){for(w>=b&&(b=w+1);!(j=f[b])&&++b<x;);y._next=j||null}}return(i=new ep(i,s))._enter=l,i._exit=o,i},enter:function(){return new ep(this._enter||this._groups.map($),this._parents)},exit:function(){return new ep(this._exit||this._groups.map($),this._parents)},join:function(e,t,n){var s=this.enter(),r=this,a=this.exit();return"function"==typeof e?(s=e(s))&&(s=s.selection()):s=s.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?a.remove():n(a),s&&r?s.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,r=n.length,a=s.length,i=Math.min(r,a),l=Array(r),o=0;o<i;++o)for(var c,d=n[o],u=s[o],m=d.length,h=l[o]=Array(m),x=0;x<m;++x)(c=d[x]||u[x])&&(h[x]=c);for(;o<r;++o)l[o]=n[o];return new ep(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s,r=e[t],a=r.length-1,i=r[a];--a>=0;)(s=r[a])&&(i&&4^s.compareDocumentPosition(i)&&i.parentNode.insertBefore(s,i),i=s);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=F);for(var n=this._groups,s=n.length,r=Array(s),a=0;a<s;++a){for(var i,l=n[a],o=l.length,c=r[a]=Array(o),d=0;d<o;++d)(i=l[d])&&(c[d]=i);c.sort(t)}return new ep(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,a=s.length;r<a;++r){var i=s[r];if(i)return i}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var r,a=t[n],i=0,l=a.length;i<l;++i)(r=a[i])&&e.call(r,r.__data__,i,a);return this},attr:function(e,t){var n=Y(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var s=t.apply(this,arguments);null==s?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):G(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=X(e+"");if(arguments.length<2){for(var s=J(this.node()),r=-1,a=n.length;++r<a;)if(!s.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?ee:et)(this,e)}}:t?function(e){return function(){ee(this,e)}}:function(e){return function(){et(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?en:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?es:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(er)},lower:function(){return this.each(ea)},append:function(e){var t="function"==typeof e?e:ei(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:ei(e),s=null==t?el:"function"==typeof t?t:D(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})},remove:function(){return this.each(eo)},clone:function(e){return this.select(e?ed:ec)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var s,r,a=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),i=a.length;if(arguments.length<2){var l=this.node().__on;if(l){for(var o,c=0,d=l.length;c<d;++c)for(s=0,o=l[c];s<i;++s)if((r=a[s]).type===o.type&&r.name===o.name)return o.value}return}for(s=0,l=t?em:eu;s<i;++s)this.each(l(a[s],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return eh(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return eh(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s,r=e[t],a=0,i=r.length;a<i;++a)(s=r[a])&&(yield s)}};var eg={value:()=>{}};function ev(){for(var e,t=0,n=arguments.length,s={};t<n;++t){if(!(e=arguments[t]+"")||e in s||/[\s.]/.test(e))throw Error("illegal type: "+e);s[e]=[]}return new ey(s)}function ey(e){this._=e}function ej(e,t,n){for(var s=0,r=e.length;s<r;++s)if(e[s].name===t){e[s]=eg,e=e.slice(0,s).concat(e.slice(s+1));break}return null!=n&&e.push({name:t,value:n}),e}ey.prototype=ev.prototype={constructor:ey,on:function(e,t){var n,s=this._,r=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!s.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),a=-1,i=r.length;if(arguments.length<2){for(;++a<i;)if((n=(e=r[a]).type)&&(n=function(e,t){for(var n,s=0,r=e.length;s<r;++s)if((n=e[s]).name===t)return n.value}(s[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++a<i;)if(n=(e=r[a]).type)s[n]=ej(s[n],e.name,t);else if(null==t)for(n in s)s[n]=ej(s[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ey(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,s,r=Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(s=this._[e],a=0,n=s.length;a<n;++a)s[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)}};var ew,eb,eN=0,eS=0,ek=0,eC=0,eE=0,eM=0,eA="object"==typeof performance&&performance.now?performance:Date,e_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function eD(){return eE||(e_(eP),eE=eA.now()+eM)}function eP(){eE=0}function eT(){this._call=this._time=this._next=null}function ez(e,t,n){var s=new eT;return s.restart(e,t,n),s}function eO(){eE=(eC=eA.now())+eM,eN=eS=0;try{!function(){eD(),++eN;for(var e,t=ew;t;)(e=eE-t._time)>=0&&t._call.call(void 0,e),t=t._next;--eN}()}finally{eN=0,function(){for(var e,t,n=ew,s=1/0;n;)n._call?(s>n._time&&(s=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ew=t);eb=e,eI(s)}(),eE=0}}function eR(){var e=eA.now(),t=e-eC;t>1e3&&(eM-=t,eC=e)}function eI(e){!eN&&(eS&&(eS=clearTimeout(eS)),e-eE>24?(e<1/0&&(eS=setTimeout(eO,e-eA.now()-eM)),ek&&(ek=clearInterval(ek))):(ek||(eC=eA.now(),ek=setInterval(eR,1e3)),eN=1,e_(eO)))}function eL(e,t,n){var s=new eT;return t=null==t?0:+t,s.restart(n=>{s.stop(),e(n+t)},t,n),s}eT.prototype=ez.prototype={constructor:eT,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?eD():+n)+(null==t?0:+t),this._next||eb===this||(eb?eb._next=this:ew=this,eb=this),this._call=e,this._time=n,eI()},stop:function(){this._call&&(this._call=null,this._time=1/0,eI())}};var eZ=ev("start","end","cancel","interrupt"),e$=[];function eH(e,t,n,s,r,a){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};(function(e,t,n){var s,r=e.__transition;function a(o){var c,d,u,m;if(1!==n.state)return l();for(c in r)if((m=r[c]).name===n.name){if(3===m.state)return eL(a);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=6,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(eL(function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(o))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(c=0,n.state=3,s=Array(u=n.tween.length),d=-1;c<u;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(s[++d]=m);s.length=d+1}}function i(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,i=s.length;++a<i;)s[a].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var s in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=ez(function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)},0,n.time)})(e,n,{name:t,index:s,group:r,on:eZ,tween:e$,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function eV(e,t){var n=eB(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function eW(e,t){var n=eB(e,t);if(n.state>3)throw Error("too late; already running");return n}function eB(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function eF(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var eU=180/Math.PI,eq={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eY(e,t,n,s,r,a){var i,l,o;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(o=e*n+t*s)&&(n-=e*o,s-=t*o),(l=Math.sqrt(n*n+s*s))&&(n/=l,s/=l,o/=l),e*s<t*n&&(e=-e,t=-t,o=-o,i=-i),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*eU,skewX:Math.atan(o)*eU,scaleX:i,scaleY:l}}function eK(e,t,n,s){function r(e){return e.length?e.pop()+" ":""}return function(a,i){var l,o,c,d,u=[],m=[];return a=e(a),i=e(i),function(e,s,r,a,i,l){if(e!==r||s!==a){var o=i.push("translate(",null,t,null,n);l.push({i:o-4,x:eF(e,r)},{i:o-2,x:eF(s,a)})}else(r||a)&&i.push("translate("+r+t+a+n)}(a.translateX,a.translateY,i.translateX,i.translateY,u,m),(l=a.rotate)!==(o=i.rotate)?(l-o>180?o+=360:o-l>180&&(l+=360),m.push({i:u.push(r(u)+"rotate(",null,s)-2,x:eF(l,o)})):o&&u.push(r(u)+"rotate("+o+s),(c=a.skewX)!==(d=i.skewX)?m.push({i:u.push(r(u)+"skewX(",null,s)-2,x:eF(c,d)}):d&&u.push(r(u)+"skewX("+d+s),function(e,t,n,s,a,i){if(e!==n||t!==s){var l=a.push(r(a)+"scale(",null,",",null,")");i.push({i:l-4,x:eF(e,n)},{i:l-2,x:eF(t,s)})}else(1!==n||1!==s)&&a.push(r(a)+"scale("+n+","+s+")")}(a.scaleX,a.scaleY,i.scaleX,i.scaleY,u,m),a=i=null,function(e){for(var t,n=-1,s=m.length;++n<s;)u[(t=m[n]).i]=t.x(e);return u.join("")}}}var eG=eK(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?eq:eY(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),eX=eK(function(e){return null==e?eq:(u||(u=document.createElementNS("http://www.w3.org/2000/svg","g")),u.setAttribute("transform",e),e=u.transform.baseVal.consolidate())?eY((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):eq},", ",")",")");function eJ(e,t,n){var s=e._id;return e.each(function(){var e=eW(this,s);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return eB(e,s).value[t]}}function eQ(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e0(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function e1(){}var e2="\\s*([+-]?\\d+)\\s*",e4="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",e3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e5=/^#([0-9a-f]{3,8})$/,e6=RegExp(`^rgb\\(${e2},${e2},${e2}\\)$`),e8=RegExp(`^rgb\\(${e3},${e3},${e3}\\)$`),e7=RegExp(`^rgba\\(${e2},${e2},${e2},${e4}\\)$`),e9=RegExp(`^rgba\\(${e3},${e3},${e3},${e4}\\)$`),te=RegExp(`^hsl\\(${e4},${e3},${e3}\\)$`),tt=RegExp(`^hsla\\(${e4},${e3},${e3},${e4}\\)$`),tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ts(){return this.rgb().formatHex()}function tr(){return this.rgb().formatRgb()}function ta(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=e5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ti(t):3===n?new tc(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tl(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=e6.exec(e))?new tc(t[1],t[2],t[3],1):(t=e8.exec(e))?new tc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=e7.exec(e))?tl(t[1],t[2],t[3],t[4]):(t=e9.exec(e))?tl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=te.exec(e))?tp(t[1],t[2]/100,t[3]/100,1):(t=tt.exec(e))?tp(t[1],t[2]/100,t[3]/100,t[4]):tn.hasOwnProperty(e)?ti(tn[e]):"transparent"===e?new tc(NaN,NaN,NaN,0):null}function ti(e){return new tc(e>>16&255,e>>8&255,255&e,1)}function tl(e,t,n,s){return s<=0&&(e=t=n=NaN),new tc(e,t,n,s)}function to(e,t,n,s){var r;return 1==arguments.length?((r=e)instanceof e1||(r=ta(r)),r)?new tc((r=r.rgb()).r,r.g,r.b,r.opacity):new tc:new tc(e,t,n,null==s?1:s)}function tc(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}function td(){return`#${tx(this.r)}${tx(this.g)}${tx(this.b)}`}function tu(){let e=tm(this.opacity);return`${1===e?"rgb(":"rgba("}${th(this.r)}, ${th(this.g)}, ${th(this.b)}${1===e?")":`, ${e})`}`}function tm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function th(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tx(e){return((e=th(e))<16?"0":"")+e.toString(16)}function tp(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tg(e,t,n,s)}function tf(e){if(e instanceof tg)return new tg(e.h,e.s,e.l,e.opacity);if(e instanceof e1||(e=ta(e)),!e)return new tg;if(e instanceof tg)return e;var t=(e=e.rgb()).r/255,n=e.g/255,s=e.b/255,r=Math.min(t,n,s),a=Math.max(t,n,s),i=NaN,l=a-r,o=(a+r)/2;return l?(i=t===a?(n-s)/l+(n<s)*6:n===a?(s-t)/l+2:(t-n)/l+4,l/=o<.5?a+r:2-a-r,i*=60):l=o>0&&o<1?0:i,new tg(i,l,o,e.opacity)}function tg(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}function tv(e){return(e=(e||0)%360)<0?e+360:e}function ty(e){return Math.max(0,Math.min(1,e||0))}function tj(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function tw(e,t,n,s,r){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*n+(1+3*e+3*a-3*i)*s+i*r)/6}eQ(e1,ta,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ts,formatHex:ts,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tf(this).formatHsl()},formatRgb:tr,toString:tr}),eQ(tc,to,e0(e1,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tc(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tc(th(this.r),th(this.g),th(this.b),tm(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:td,formatHex:td,formatHex8:function(){return`#${tx(this.r)}${tx(this.g)}${tx(this.b)}${tx((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:tu,toString:tu})),eQ(tg,function(e,t,n,s){return 1==arguments.length?tf(e):new tg(e,t,n,null==s?1:s)},e0(e1,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tg(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,r=2*n-s;return new tc(tj(e>=240?e-240:e+120,r,s),tj(e,r,s),tj(e<120?e+240:e-120,r,s),this.opacity)},clamp(){return new tg(tv(this.h),ty(this.s),ty(this.l),tm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=tm(this.opacity);return`${1===e?"hsl(":"hsla("}${tv(this.h)}, ${100*ty(this.s)}%, ${100*ty(this.l)}%${1===e?")":`, ${e})`}`}}));let tb=e=>()=>e;function tN(e,t){var n=t-e;return n?function(t){return e+t*n}:tb(isNaN(e)?t:e)}let tS=function e(t){var n,s=1==(n=+(n=t))?tN:function(e,t){var s,r,a;return t-e?(s=e,r=t,s=Math.pow(s,a=n),r=Math.pow(r,a)-s,a=1/a,function(e){return Math.pow(s+e*r,a)}):tb(isNaN(e)?t:e)};function r(e,t){var n=s((e=to(e)).r,(t=to(t)).r),r=s(e.g,t.g),a=s(e.b,t.b),i=tN(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=a(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function tk(e){return function(t){var n,s,r=t.length,a=Array(r),i=Array(r),l=Array(r);for(n=0;n<r;++n)s=to(t[n]),a[n]=s.r||0,i[n]=s.g||0,l[n]=s.b||0;return a=e(a),i=e(i),l=e(l),s.opacity=1,function(e){return s.r=a(e),s.g=i(e),s.b=l(e),s+""}}}tk(function(e){var t=e.length-1;return function(n){var s=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[s],a=e[s+1],i=s>0?e[s-1]:2*r-a,l=s<t-1?e[s+2]:2*a-r;return tw((n-s/t)*t,i,r,a,l)}}),tk(function(e){var t=e.length;return function(n){var s=Math.floor(((n%=1)<0?++n:n)*t),r=e[(s+t-1)%t],a=e[s%t],i=e[(s+1)%t],l=e[(s+2)%t];return tw((n-s/t)*t,r,a,i,l)}});var tC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tE=RegExp(tC.source,"g");function tM(e,t){var n;return("number"==typeof t?eF:t instanceof ta?tS:(n=ta(t))?(t=n,tS):function(e,t){var n,s,r,a,i,l=tC.lastIndex=tE.lastIndex=0,o=-1,c=[],d=[];for(e+="",t+="";(r=tC.exec(e))&&(a=tE.exec(t));)(i=a.index)>l&&(i=t.slice(l,i),c[o]?c[o]+=i:c[++o]=i),(r=r[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,d.push({i:o,x:eF(r,a)})),l=tE.lastIndex;return l<t.length&&(i=t.slice(l),c[o]?c[o]+=i:c[++o]=i),c.length<2?d[0]?(n=d[0].x,function(e){return n(e)+""}):(s=t,function(){return s}):(t=d.length,function(e){for(var n,s=0;s<t;++s)c[(n=d[s]).i]=n.x(e);return c.join("")})})(e,t)}var tA=ef.prototype.constructor;function t_(e){return function(){this.style.removeProperty(e)}}var tD=0;function tP(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}var tT=ef.prototype;tP.prototype=(function(e){return ef().transition(e)}).prototype={constructor:tP,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=D(e));for(var s=this._groups,r=s.length,a=Array(r),i=0;i<r;++i)for(var l,o,c=s[i],d=c.length,u=a[i]=Array(d),m=0;m<d;++m)(l=c[m])&&(o=e.call(l,l.__data__,m,c))&&("__data__"in l&&(o.__data__=l.__data__),u[m]=o,eH(u[m],t,n,m,u,eB(l,n)));return new tP(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=T(e));for(var s=this._groups,r=s.length,a=[],i=[],l=0;l<r;++l)for(var o,c=s[l],d=c.length,u=0;u<d;++u)if(o=c[u]){for(var m,h=e.call(o,o.__data__,u,c),x=eB(o,n),p=0,f=h.length;p<f;++p)(m=h[p])&&eH(m,t,n,p,h,x);a.push(h),i.push(o)}return new tP(a,i,t,n)},selectChild:tT.selectChild,selectChildren:tT.selectChildren,filter:function(e){"function"!=typeof e&&(e=z(e));for(var t=this._groups,n=t.length,s=Array(n),r=0;r<n;++r)for(var a,i=t[r],l=i.length,o=s[r]=[],c=0;c<l;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&o.push(a);return new tP(s,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,s=t.length,r=n.length,a=Math.min(s,r),i=Array(s),l=0;l<a;++l)for(var o,c=t[l],d=n[l],u=c.length,m=i[l]=Array(u),h=0;h<u;++h)(o=c[h]||d[h])&&(m[h]=o);for(;l<s;++l)i[l]=t[l];return new tP(i,this._parents,this._name,this._id)},selection:function(){return new tA(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++tD,s=this._groups,r=s.length,a=0;a<r;++a)for(var i,l=s[a],o=l.length,c=0;c<o;++c)if(i=l[c]){var d=eB(i,t);eH(i,e,n,c,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new tP(s,this._parents,e,n)},call:tT.call,nodes:tT.nodes,node:tT.node,size:tT.size,empty:tT.empty,each:tT.each,on:function(e,t){var n,s,r,a=this._id;return arguments.length<2?eB(this.node(),a).on.on(e):this.each((r=(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?eV:eW,function(){var i=r(this,a),l=i.on;l!==n&&(s=(n=l).copy()).on(e,t),i.on=s}))},attr:function(e,t){var n=Y(e),s="transform"===n?eX:tM;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var s,r,a;return function(){var i,l,o=n(this);return null==o?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local))===(l=o+"")?null:i===s&&l===r?a:(r=l,a=t(s=i,o))}}:function(e,t,n){var s,r,a;return function(){var i,l,o=n(this);return null==o?void this.removeAttribute(e):(i=this.getAttribute(e))===(l=o+"")?null:i===s&&l===r?a:(r=l,a=t(s=i,o))}})(n,s,eJ(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var s,r,a=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===s?r:r=t(s=i,n)}}:function(e,t,n){var s,r,a=n+"";return function(){var i=this.getAttribute(e);return i===a?null:i===s?r:r=t(s=i,n)}})(n,s,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var s=Y(e);return this.tween(n,(s.local?function(e,t){var n,s;function r(){var r=t.apply(this,arguments);return r!==s&&(n=(s=r)&&function(t){this.setAttributeNS(e.space,e.local,r.call(this,t))}),n}return r._value=t,r}:function(e,t){var n,s;function r(){var r=t.apply(this,arguments);return r!==s&&(n=(s=r)&&function(t){this.setAttribute(e,r.call(this,t))}),n}return r._value=t,r})(s,t))},style:function(e,t,n){var s,r,a,i,l,o,c,d,u,m,h,x,p,f,g,v,y,j,w,b,N,S="transform"==(e+="")?eG:tM;return null==t?this.styleTween(e,(s=e,function(){var e=G(this,s),t=(this.style.removeProperty(s),G(this,s));return e===t?null:e===r&&t===a?i:i=S(r=e,a=t)})).on("end.style."+e,t_(e)):"function"==typeof t?this.styleTween(e,(l=e,o=eJ(this,"style."+e,t),function(){var e=G(this,l),t=o(this),n=t+"";return null==t&&(this.style.removeProperty(l),n=t=G(this,l)),e===n?null:e===c&&n===d?u:(d=n,u=S(c=e,t))})).each((m=this._id,y="end."+(v="style."+(h=e)),function(){var e=eW(this,m),t=e.on,n=null==e.value[v]?g||(g=t_(h)):void 0;(t!==x||f!==n)&&(p=(x=t).copy()).on(y,f=n),e.on=p})):this.styleTween(e,(j=e,N=t+"",function(){var e=G(this,j);return e===N?null:e===w?b:b=S(w=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==t)return this.tween(s,null);if("function"!=typeof t)throw Error();return this.tween(s,function(e,t,n){var s,r;function a(){var a=t.apply(this,arguments);return a!==r&&(s=(r=a)&&function(t){this.style.setProperty(e,a.call(this,t),n)}),s}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=eJ(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function s(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&function(e){this.textContent=s.call(this,e)}),t}return s._value=e,s}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s,r=eB(this.node(),n).tween,a=0,i=r.length;a<i;++a)if((s=r[a]).name===e)return s.value;return null}return this.each((null==t?function(e,t){var n,s;return function(){var r=eW(this,e),a=r.tween;if(a!==n){s=n=a;for(var i=0,l=s.length;i<l;++i)if(s[i].name===t){(s=s.slice()).splice(i,1);break}}r.tween=s}}:function(e,t,n){var s,r;if("function"!=typeof n)throw Error();return function(){var a=eW(this,e),i=a.tween;if(i!==s){r=(s=i).slice();for(var l={name:t,value:n},o=0,c=r.length;o<c;++o)if(r[o].name===t){r[o]=l;break}o===c&&r.push(l)}a.tween=r}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eV(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){eV(this,e).delay=t}})(t,e)):eB(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eW(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){eW(this,e).duration=t}})(t,e)):eB(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){eW(this,e).ease=t}}(t,e)):eB(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();eW(this,t).ease=n}))},end:function(){var e,t,n=this,s=n._id,r=n.size();return new Promise(function(a,i){var l={value:i},o={value:function(){0==--r&&a()}};n.each(function(){var n=eW(this,s),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(o)),n.on=t}),0===r&&a()})},[Symbol.iterator]:tT[Symbol.iterator]};var tz={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function tO(e,t,n){this.k=e,this.x=t,this.y=n}ef.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var n,s,r,a=e.__transition,i=!0;if(a){for(r in t=null==t?null:t+"",a){if((n=a[r]).name!==t){i=!1;continue}s=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[r]}i&&delete e.__transition}}(this,e)})},ef.prototype.transition=function(e){var t,n;e instanceof tP?(t=e._id,e=e._name):(t=++tD,(n=tz).time=eD(),e=null==e?null:e+"");for(var s=this._groups,r=s.length,a=0;a<r;++a)for(var i,l=s[a],o=l.length,c=0;c<o;++c)(i=l[c])&&eH(i,e,t,c,l,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(i,t));return new tP(s,this._parents,e,t)},tO.prototype={constructor:tO,scale:function(e){return 1===e?this:new tO(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tO(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new tO(1,0,0),tO.prototype;let tR={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:s}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},tI=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],tL=["Enter"," ","Escape"],tZ={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};(function(e){e.Strict="strict",e.Loose="loose"})(m||(m={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(h||(h={})),function(e){e.Partial="partial",e.Full="full"}(x||(x={}));let t$={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(p||(p={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(f||(f={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(g||(g={}));let tH={[g.Left]:g.Right,[g.Right]:g.Left,[g.Top]:g.Bottom,[g.Bottom]:g.Top};function tV(e){return null===e?null:e?"valid":"invalid"}let tW=e=>"id"in e&&"source"in e&&"target"in e,tB=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),tF=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),tU=(e,t=[0,0])=>{let{width:n,height:s}=nu(e),r=e.origin??t,a=n*r[0],i=s*r[1];return{x:e.position.x-a,y:e.position.y-i}},tq=(e,t={nodeOrigin:[0,0]})=>0===e.length?{x:0,y:0,width:0,height:0}:t6(e.reduce((e,n)=>{let s="string"==typeof n,r=t.nodeLookup||s?void 0:n;return t.nodeLookup&&(r=s?t.nodeLookup.get(n):tF(n)?n:t.nodeLookup.get(n.id)),t3(e,r?t7(r,t.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),tY=(e,t={})=>{if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(e=>{if(void 0===t.filter||t.filter(e)){let t=t7(e);n=t3(n,t)}}),t6(n)},tK=(e,t,[n,s,r]=[0,0,1],a=!1,i=!1)=>{let l={...na(t,[n,s,r]),width:t.width/r,height:t.height/r},o=[];for(let t of e.values()){let{measured:e,selectable:n=!0,hidden:s=!1}=t;if(i&&!n||s)continue;let r=e.width??t.width??t.initialWidth??null,c=e.height??t.height??t.initialHeight??null,d=ne(l,t8(t)),u=(r??0)*(c??0),m=a&&d>0;(!t.internals.handleBounds||m||d>=u||t.dragging)&&o.push(t)}return o},tG=(e,t)=>{let n=new Set;return e.forEach(e=>{n.add(e.id)}),t.filter(e=>n.has(e.source)||n.has(e.target))};async function tX({nodes:e,width:t,height:n,panZoom:s,minZoom:r,maxZoom:a},i){if(0===e.size)return Promise.resolve(!0);let l=no(tY(function(e,t){let n=new Map,s=t?.nodes?new Set(t.nodes.map(e=>e.id)):null;return e.forEach(e=>{e.measured.width&&e.measured.height&&(t?.includeHiddenNodes||!e.hidden)&&(!s||s.has(e.id))&&n.set(e.id,e)}),n}(e,i)),t,n,i?.minZoom??r,i?.maxZoom??a,i?.padding??.1);return await s.setViewport(l,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)}async function tJ({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:s,onBeforeDelete:r}){let a=new Set(e.map(e=>e.id)),i=[];for(let e of n){if(!1===e.deletable)continue;let t=a.has(e.id),n=!t&&e.parentId&&i.find(t=>t.id===e.parentId);(t||n)&&i.push(e)}let l=new Set(t.map(e=>e.id)),o=s.filter(e=>!1!==e.deletable),c=tG(i,o);for(let e of o)l.has(e.id)&&!c.find(t=>t.id===e.id)&&c.push(e);if(!r)return{edges:c,nodes:i};let d=await r({nodes:i,edges:c});return"boolean"==typeof d?d?{edges:c,nodes:i}:{edges:[],nodes:[]}:d}let tQ=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),t0=(e={x:0,y:0},t,n)=>({x:tQ(e.x,t[0][0],t[1][0]-(n?.width??0)),y:tQ(e.y,t[0][1],t[1][1]-(n?.height??0))});function t1(e,t,n){let{width:s,height:r}=nu(n),{x:a,y:i}=n.internals.positionAbsolute;return t0(e,[[a,i],[a+s,i+r]],t)}let t2=(e,t,n)=>e<t?tQ(Math.abs(e-t),1,t)/t:e>n?-tQ(Math.abs(e-n),1,t)/t:0,t4=(e,t,n=15,s=40)=>[t2(e.x,s,t.width-s)*n,t2(e.y,s,t.height-s)*n],t3=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),t5=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),t6=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),t8=(e,t=[0,0])=>{let{x:n,y:s}=tF(e)?e.internals.positionAbsolute:tU(e,t);return{x:n,y:s,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},t7=(e,t=[0,0])=>{let{x:n,y:s}=tF(e)?e.internals.positionAbsolute:tU(e,t);return{x:n,y:s,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:s+(e.measured?.height??e.height??e.initialHeight??0)}},t9=(e,t)=>t6(t3(t5(e),t5(t))),ne=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),nt=e=>nn(e.width)&&nn(e.height)&&nn(e.x)&&nn(e.y),nn=e=>!isNaN(e)&&isFinite(e),ns=(e,t)=>{},nr=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),na=({x:e,y:t},[n,s,r],a=!1,i=[1,1])=>{let l={x:(e-n)/r,y:(t-s)/r};return a?nr(l,i):l},ni=({x:e,y:t},[n,s,r])=>({x:e*r+n,y:t*r+s});function nl(e,t){if("number"==typeof e)return Math.floor((t-t/(1+e))*.5);if("string"==typeof e&&e.endsWith("px")){let t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){let n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}let no=(e,t,n,s,r,a)=>{let i=function(e,t,n){if("string"==typeof e||"number"==typeof e){let s=nl(e,n),r=nl(e,t);return{top:s,right:r,bottom:s,left:r,x:2*r,y:2*s}}if("object"==typeof e){let s=nl(e.top??e.y??0,n),r=nl(e.bottom??e.y??0,n),a=nl(e.left??e.x??0,t),i=nl(e.right??e.x??0,t);return{top:s,right:i,bottom:r,left:a,x:a+i,y:s+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(a,t,n),l=tQ(Math.min((t-i.x)/e.width,(n-i.y)/e.height),s,r),o=e.x+e.width/2,c=e.y+e.height/2,d=t/2-o*l,u=n/2-c*l,m=function(e,t,n,s,r,a){let{x:i,y:l}=ni(e,[t,n,s]),{x:o,y:c}=ni({x:e.x+e.width,y:e.y+e.height},[t,n,s]);return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(r-o),bottom:Math.floor(a-c)}}(e,d,u,l,t,n),h={left:Math.min(m.left-i.left,0),top:Math.min(m.top-i.top,0),right:Math.min(m.right-i.right,0),bottom:Math.min(m.bottom-i.bottom,0)};return{x:d-h.left+h.right,y:u-h.top+h.bottom,zoom:l}},nc=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function nd(e){return null!=e&&"parent"!==e}function nu(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function nm(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function nh(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let nx=e=>({width:e.offsetWidth,height:e.offsetHeight}),np=e=>e?.getRootNode?.()||window?.document,nf=["INPUT","SELECT","TEXTAREA"],ng=e=>"clientX"in e,nv=(e,t)=>{let n=ng(e),s=n?e.clientX:e.touches?.[0].clientX,r=n?e.clientY:e.touches?.[0].clientY;return{x:s-(t?.left??0),y:r-(t?.top??0)}},ny=(e,t,n,s,r)=>{let a=t.querySelectorAll(`.${e}`);return a&&a.length?Array.from(a).map(t=>{let a=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:r,position:t.getAttribute("data-handlepos"),x:(a.left-n.left)/s,y:(a.top-n.top)/s,...nx(t)}}):null};function nj({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:r,sourceControlY:a,targetControlX:i,targetControlY:l}){let o=.125*e+.375*r+.375*i+.125*n,c=.125*t+.375*a+.375*l+.125*s;return[o,c,Math.abs(o-e),Math.abs(c-t)]}function nw(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function nb({pos:e,x1:t,y1:n,x2:s,y2:r,c:a}){switch(e){case g.Left:return[t-nw(t-s,a),n];case g.Right:return[t+nw(s-t,a),n];case g.Top:return[t,n-nw(n-r,a)];case g.Bottom:return[t,n+nw(r-n,a)]}}function nN({sourceX:e,sourceY:t,sourcePosition:n=g.Bottom,targetX:s,targetY:r,targetPosition:a=g.Top,curvature:i=.25}){let[l,o]=nb({pos:n,x1:e,y1:t,x2:s,y2:r,c:i}),[c,d]=nb({pos:a,x1:s,y1:r,x2:e,y2:t,c:i}),[u,m,h,x]=nj({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:l,sourceControlY:o,targetControlX:c,targetControlY:d});return[`M${e},${t} C${l},${o} ${c},${d} ${s},${r}`,u,m,h,x]}function nS({sourceX:e,sourceY:t,targetX:n,targetY:s}){let r=Math.abs(n-e)/2,a=Math.abs(s-t)/2;return[n<e?n+r:n-r,s<t?s+a:s-a,r,a]}let nk=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`xy-edge__${e}${t||""}-${n}${s||""}`,nC=(e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),nE=(e,t)=>{let n;return e.source&&e.target?nC(n=tW(e)?{...e}:{...e,id:nk(e)},t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n)):(ns("006",tR.error006()),t)};function nM({sourceX:e,sourceY:t,targetX:n,targetY:s}){let[r,a,i,l]=nS({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,r,a,i,l]}let nA={[g.Left]:{x:-1,y:0},[g.Right]:{x:1,y:0},[g.Top]:{x:0,y:-1},[g.Bottom]:{x:0,y:1}},n_=({source:e,sourcePosition:t=g.Bottom,target:n})=>t===g.Left||t===g.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},nD=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nP({sourceX:e,sourceY:t,sourcePosition:n=g.Bottom,targetX:s,targetY:r,targetPosition:a=g.Top,borderRadius:i=5,centerX:l,centerY:o,offset:c=20,stepPosition:d=.5}){let[u,m,h,x,p]=function({source:e,sourcePosition:t=g.Bottom,target:n,targetPosition:s=g.Top,center:r,offset:a,stepPosition:i}){let l,o;let c=nA[t],d=nA[s],u={x:e.x+c.x*a,y:e.y+c.y*a},m={x:n.x+d.x*a,y:n.y+d.y*a},h=n_({source:u,sourcePosition:t,target:m}),x=0!==h.x?"x":"y",p=h[x],f=[],v={x:0,y:0},y={x:0,y:0},[,,j,w]=nS({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[x]*d[x]==-1){"x"===x?(l=r.x??u.x+(m.x-u.x)*i,o=r.y??(u.y+m.y)/2):(l=r.x??(u.x+m.x)/2,o=r.y??u.y+(m.y-u.y)*i);let e=[{x:l,y:u.y},{x:l,y:m.y}],t=[{x:u.x,y:o},{x:m.x,y:o}];f=c[x]===p?"x"===x?e:t:"x"===x?t:e}else{let r=[{x:u.x,y:m.y}],i=[{x:m.x,y:u.y}];if(f="x"===x?c.x===p?i:r:c.y===p?r:i,t===s){let t=Math.abs(e[x]-n[x]);if(t<=a){let s=Math.min(a-1,a-t);c[x]===p?v[x]=(u[x]>e[x]?-1:1)*s:y[x]=(m[x]>n[x]?-1:1)*s}}if(t!==s){let e="x"===x?"y":"x",t=c[x]===d[e],n=u[e]>m[e],s=u[e]<m[e];(1===c[x]&&(!t&&n||t&&s)||1!==c[x]&&(!t&&s||t&&n))&&(f="x"===x?r:i)}let h={x:u.x+v.x,y:u.y+v.y},g={x:m.x+y.x,y:m.y+y.y};Math.max(Math.abs(h.x-f[0].x),Math.abs(g.x-f[0].x))>=Math.max(Math.abs(h.y-f[0].y),Math.abs(g.y-f[0].y))?(l=(h.x+g.x)/2,o=f[0].y):(l=f[0].x,o=(h.y+g.y)/2)}return[[e,{x:u.x+v.x,y:u.y+v.y},...f,{x:m.x+y.x,y:m.y+y.y},n],l,o,j,w]}({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:r},targetPosition:a,center:{x:l,y:o},offset:c,stepPosition:d});return[u.reduce((e,t,n)=>e+(n>0&&n<u.length-1?function(e,t,n,s){let r=Math.min(nD(e,t)/2,nD(t,n)/2,s),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return`L${a} ${i}`;if(e.y===i){let t=e.x<n.x?-1:1,s=e.y<n.y?1:-1;return`L ${a+r*t},${i}Q ${a},${i} ${a},${i+r*s}`}let l=e.x<n.x?1:-1,o=e.y<n.y?-1:1;return`L ${a},${i+r*o}Q ${a},${i} ${a+r*l},${i}`}(u[n-1],t,u[n+1],i):`${0===n?"M":"L"}${t.x} ${t.y}`),""),m,h,x,p]}function nT(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function nz(e){if(!e)return null;let t=[],n=[];for(let s of e)s.width=s.width??1,s.height=s.height??1,"source"===s.type?t.push(s):"target"===s.type&&n.push(s);return{source:t,target:n}}function nO(e,t,n=g.Left,s=!1){let r=(t?.x??0)+e.internals.positionAbsolute.x,a=(t?.y??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??nu(e);if(s)return{x:r+i/2,y:a+l/2};switch(t?.position??n){case g.Top:return{x:r+i/2,y:a};case g.Right:return{x:r+i,y:a+l/2};case g.Bottom:return{x:r+i/2,y:a+l};case g.Left:return{x:r,y:a+l/2}}}function nR(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function nI(e,t){if(!e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}let nL={nodeOrigin:[0,0],nodeExtent:tI,elevateNodesOnSelect:!0,defaults:{}},nZ={...nL,checkEquality:!0};function n$(e,t){let n={...e};for(let e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function nH(e,t,n,s){let r=n$(nZ,s),a=e.length>0,i=new Map(t),l=r?.elevateNodesOnSelect?1e3:0;for(let o of(t.clear(),n.clear(),e)){let e=i.get(o.id);if(r.checkEquality&&o===e?.internals.userNode)t.set(o.id,e);else{let n=t0(tU(o,r.nodeOrigin),nd(o.extent)?o.extent:r.nodeExtent,nu(o));e={...r.defaults,...o,measured:{width:o.measured?.width,height:o.measured?.height},internals:{positionAbsolute:n,handleBounds:function(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;let n=[],s=[];for(let t of e.handles){let r={width:t.width??1,height:t.height??1,nodeId:e.id,x:t.x,y:t.y,position:t.position,type:t.type};"source"===t.type?n.push(r):"target"===t.type&&s.push(r)}return{source:n,target:s}}(o,e),z:nW(o,l),userNode:o}},t.set(o.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(a=!1),o.parentId&&nV(e,t,n,s)}return a}function nV(e,t,n,s){let{elevateNodesOnSelect:r,nodeOrigin:a,nodeExtent:i}=n$(nL,s),l=e.parentId,o=t.get(l);if(!o){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}!function(e,t){if(!e.parentId)return;let n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);let{x:c,y:d,z:u}=function(e,t,n,s,r){let{x:a,y:i}=t.internals.positionAbsolute,l=nu(e),o=tU(e,n),c=nd(e.extent)?t0(o,e.extent,l):o,d=t0({x:a+c.x,y:i+c.y},s,l);"parent"===e.extent&&(d=t1(d,l,t));let u=nW(e,r),m=t.internals.z??0;return{x:d.x,y:d.y,z:m>=u?m+1:u}}(e,o,a,i,r?1e3:0),{positionAbsolute:m}=e.internals,h=c!==m.x||d!==m.y;(h||u!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:h?{x:c,y:d}:m,z:u}})}function nW(e,t){return(nn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function nB(e,t,n,s=[0,0]){let r=[],a=new Map;for(let n of e){let e=t.get(n.parentId);if(!e)continue;let s=t9(a.get(n.parentId)?.expandedRect??t8(e),n.rect);a.set(n.parentId,{expandedRect:s,parent:e})}return a.size>0&&a.forEach(({expandedRect:t,parent:a},i)=>{let l=a.internals.positionAbsolute,o=nu(a),c=a.origin??s,d=t.x<l.x?Math.round(Math.abs(l.x-t.x)):0,u=t.y<l.y?Math.round(Math.abs(l.y-t.y)):0,m=Math.max(o.width,Math.round(t.width)),h=Math.max(o.height,Math.round(t.height)),x=(m-o.width)*c[0],p=(h-o.height)*c[1];(d>0||u>0||x||p)&&(r.push({id:i,type:"position",position:{x:a.position.x-d+x,y:a.position.y-u+p}}),n.get(i)?.forEach(t=>{e.some(e=>e.id===t.id)||r.push({id:t.id,type:"position",position:{x:t.position.x+d,y:t.position.y+u}})})),(o.width<t.width||o.height<t.height||d||u)&&r.push({id:i,type:"dimensions",setAttributes:!0,dimensions:{width:m+(d?c[0]*d-x:0),height:h+(u?c[1]*u-p:0)}})}),r}async function nF({delta:e,panZoom:t,transform:n,translateExtent:s,width:r,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);let i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[r,a]],s);return Promise.resolve(!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]))}function nU(e,t,n,s,r,a){let i=r,l=s.get(i)||new Map;s.set(i,l.set(n,t)),i=`${r}-${e}`;let o=s.get(i)||new Map;if(s.set(i,o.set(n,t)),a){i=`${r}-${e}-${a}`;let l=s.get(i)||new Map;s.set(i,l.set(n,t))}}function nq(e,t,n){for(let s of(e.clear(),t.clear(),n)){let{source:n,target:r,sourceHandle:a=null,targetHandle:i=null}=s,l={edgeId:s.id,source:n,target:r,sourceHandle:a,targetHandle:i},o=`${n}-${a}--${r}-${i}`;nU("source",l,`${r}-${i}--${n}-${a}`,e,n,a),nU("target",l,o,e,r,i),t.set(s.id,s)}}function nY(e,t,n,s,r,a=!1){let i=s.get(e);if(!i)return null;let l="strict"===r?i.internals.handleBounds?.[t]:[...i.internals.handleBounds?.source??[],...i.internals.handleBounds?.target??[]],o=(n?l?.find(e=>e.id===n):l?.[0])??null;return o&&a?{...o,...nO(i,o,o.position,!0)}:o}function nK(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}let nG=()=>!0;function nX(e,{handle:t,connectionMode:n,fromNodeId:s,fromHandleId:r,fromType:a,doc:i,lib:l,flowId:o,isValidConnection:c=nG,nodeLookup:d}){let u="target"===a,h=t?i.querySelector(`.${l}-flow__handle[data-id="${o}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x,y:p}=nv(e),f=i.elementFromPoint(x,p),g=f?.classList.contains(`${l}-flow__handle`)?f:h,v={handleDomNode:g,isValid:!1,connection:null,toHandle:null};if(g){let e=nK(void 0,g),t=g.getAttribute("data-nodeid"),a=g.getAttribute("data-handleid"),i=g.classList.contains("connectable"),l=g.classList.contains("connectableend");if(!t||!e)return v;let o={source:u?t:s,sourceHandle:u?a:r,target:u?s:t,targetHandle:u?r:a};v.connection=o;let h=i&&l&&(n===m.Strict?u&&"source"===e||!u&&"target"===e:t!==s||a!==r);v.isValid=h&&c(o),v.toHandle=nY(t,e,a,d,n,!0)}return v}let nJ={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:s,nodeId:r,edgeUpdaterType:a,isTarget:i,domNode:l,nodeLookup:o,lib:c,autoPanOnConnect:d,flowId:u,panBy:m,cancelConnection:h,onConnectStart:x,onConnect:p,onConnectEnd:f,isValidConnection:v=nG,onReconnectEnd:y,updateConnection:j,getTransform:w,getFromHandle:b,autoPanSpeed:N,dragThreshold:S=1,handleDomNode:k}){let C;let E=np(e.target),M=0,{x:A,y:_}=nv(e),D=nK(a,k),P=l?.getBoundingClientRect(),T=!1;if(!P||!D)return;let z=nY(r,D,s,o,t);if(!z)return;let O=nv(e,P),R=!1,I=null,L=!1,Z=null,$={...z,nodeId:r,type:D,position:z.position},H=o.get(r),V={inProgress:!0,isValid:null,from:nO(H,$,g.Left,!0),fromHandle:$,fromPosition:$.position,fromNode:H,to:O,toHandle:null,toPosition:tH[$.position],toNode:null};function W(){T=!0,j(V),x?.(e,{nodeId:r,handleId:s,handleType:D})}function B(e){var a,l;let h;if(!T){let{x:t,y:n}=nv(e),s=t-A,r=n-_;if(!(s*s+r*r>S*S))return;W()}if(!b()||!$){F(e);return}let x=w();C=function(e,t,n,s){let r=[],a=1/0;for(let i of function(e,t,n){let s=[],r={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(let e of t.values())ne(r,t8(e))>0&&s.push(e);return s}(e,n,t+250))for(let n of[...i.internals.handleBounds?.source??[],...i.internals.handleBounds?.target??[]]){if(s.nodeId===n.nodeId&&s.type===n.type&&s.id===n.id)continue;let{x:l,y:o}=nO(i,n,n.position,!0),c=Math.sqrt(Math.pow(l-e.x,2)+Math.pow(o-e.y,2));c>t||(c<a?(r=[{...n,x:l,y:o}],a=c):c===a&&r.push({...n,x:l,y:o}))}if(!r.length)return null;if(r.length>1){let e="source"===s.type?"target":"source";return r.find(t=>t.type===e)??r[0]}return r[0]}(na(O=nv(e,P),x,!1,[1,1]),n,o,$),R||(function e(){if(!d||!P)return;let[t,n]=t4(O,P,N);m({x:t,y:n}),M=requestAnimationFrame(e)}(),R=!0);let p=nX(e,{handle:C,connectionMode:t,fromNodeId:r,fromHandleId:s,fromType:i?"target":"source",isValidConnection:v,doc:E,lib:c,flowId:u,nodeLookup:o});Z=p.handleDomNode,I=p.connection,a=!!C,l=p.isValid,h=null,l?h=!0:a&&!l&&(h=!1),L=h;let f={...V,isValid:L,to:p.toHandle&&L?ni({x:p.toHandle.x,y:p.toHandle.y},x):O,toHandle:p.toHandle,toPosition:L&&p.toHandle?p.toHandle.position:tH[$.position],toNode:p.toHandle?o.get(p.toHandle.nodeId):null};L&&C&&V.toHandle&&f.toHandle&&V.toHandle.type===f.toHandle.type&&V.toHandle.nodeId===f.toHandle.nodeId&&V.toHandle.id===f.toHandle.id&&V.to.x===f.to.x&&V.to.y===f.to.y||(j(f),V=f)}function F(e){if(!("touches"in e)||!(e.touches.length>0)){if(T){(C||Z)&&I&&L&&p?.(I);let{inProgress:t,...n}=V,s={...n,toPosition:V.toHandle?V.toPosition:null};f?.(e,s),a&&y?.(e,s)}h(),cancelAnimationFrame(M),R=!1,L=!1,I=null,Z=null,E.removeEventListener("mousemove",B),E.removeEventListener("mouseup",F),E.removeEventListener("touchmove",B),E.removeEventListener("touchend",F)}}0===S&&W(),E.addEventListener("mousemove",B),E.addEventListener("mouseup",F),E.addEventListener("touchmove",B),E.addEventListener("touchend",F)},isValid:nX};!function(e){e.Line="line",e.Handle="handle"}(v||(v={}));var nQ=n(9957);let n0=e=>{let t;let n=new Set,s=(e,s)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=s?s:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:s,getState:r,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(s,r,a);return a},n1=e=>e?n0(e):n0,{useDebugValue:n2}=S,{useSyncExternalStoreWithSelector:n4}=nQ,n3=e=>e;function n5(e,t=n3,n){let s=n4(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return n2(s),s}let n6=(e,t)=>{let n=n1(e),s=(e,s=t)=>n5(n,e,s);return Object.assign(s,n),s},n8=(e,t)=>e?n6(e,t):n6;function n7(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,s]of e)if(!Object.is(s,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var n9=n(2812);let se=(0,S.createContext)(null),st=se.Provider,sn=tR.error001();function ss(e,t){let n=(0,S.useContext)(se);if(null===n)throw Error(sn);return n5(n,e,t)}function sr(){let e=(0,S.useContext)(se);if(null===e)throw Error(sn);return(0,S.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let sa={display:"none"},si={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},sl="react-flow__node-desc",so="react-flow__edge-desc",sc=e=>e.ariaLiveMessage,sd=e=>e.ariaLabelConfig;function su({rfId:e}){let t=ss(sc);return(0,N.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:si,children:t})}function sm({rfId:e,disableKeyboardA11y:t}){let n=ss(sd);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{id:`${sl}-${e}`,style:sa,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),(0,N.jsx)("div",{id:`${so}-${e}`,style:sa,children:n["edge.a11yDescription.default"]}),!t&&(0,N.jsx)(su,{rfId:e})]})}let sh=(0,S.forwardRef)(({position:e="top-left",children:t,className:n,style:s,...r},a)=>{let i=`${e}`.split("-");return(0,N.jsx)("div",{className:A(["react-flow__panel",n,...i]),style:s,ref:a,...r,children:t})});function sx({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,N.jsx)(sh,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,N.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}sh.displayName="Panel";let sp=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},sf=e=>e.id;function sg(e,t){return n7(e.selectedNodes.map(sf),t.selectedNodes.map(sf))&&n7(e.selectedEdges.map(sf),t.selectedEdges.map(sf))}function sv({onSelectionChange:e}){sr();let{selectedNodes:t,selectedEdges:n}=ss(sp,sg);return null}let sy=e=>!!e.onSelectionChangeHandlers;function sj({onSelectionChange:e}){let t=ss(sy);return e||t?(0,N.jsx)(sv,{onSelectionChange:e}):null}let sw=[0,0],sb={x:0,y:0,zoom:1},sN=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig","rfId"],sS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),sk={translateExtent:tI,nodeOrigin:sw,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function sC(e){let{setNodes:t,setEdges:n,setMinZoom:s,setMaxZoom:r,setTranslateExtent:a,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:o,setPaneClickDistance:c}=ss(sS,n7),d=sr(),u=(0,S.useRef)(sk);return(0,S.useEffect)(()=>{for(let l of sN){let o=e[l];o!==u.current[l]&&void 0!==e[l]&&("nodes"===l?t(o):"edges"===l?n(o):"minZoom"===l?s(o):"maxZoom"===l?r(o):"translateExtent"===l?a(o):"nodeExtent"===l?i(o):"paneClickDistance"===l?c(o):"ariaLabelConfig"===l?d.setState({ariaLabelConfig:{...tZ,...o||{}}}):"fitView"===l?d.setState({fitViewQueued:o}):"fitViewOptions"===l?d.setState({fitViewOptions:o}):d.setState({[l]:o}))}u.current=e},sN.map(t=>e[t])),null}let sE="undefined"!=typeof document?document:null;function sM(e=null,t={target:sE,actInsideInputWithModifier:!0}){let[n,s]=(0,S.useState)(!1);(0,S.useRef)(!1),(0,S.useRef)(new Set([]));let[r,a]=(0,S.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return n}let sA=()=>{let e=sr();return(0,S.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:s}=e.getState();return s?s.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{let{transform:[s,r,a],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??s,y:t.y??r,zoom:t.zoom??a},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,s]=e.getState().transform;return{x:t,y:n,zoom:s}},setCenter:async(t,n,s)=>e.getState().setCenter(t,n,s),fitBounds:async(t,n)=>{let{width:s,height:r,minZoom:a,maxZoom:i,panZoom:l}=e.getState(),o=no(t,s,r,a,i,n?.padding??.1);return l?(await l.setViewport(o,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{let{transform:s,snapGrid:r,snapToGrid:a,domNode:i}=e.getState();if(!i)return t;let{x:l,y:o}=i.getBoundingClientRect(),c={x:t.x-l,y:t.y-o},d=n.snapGrid??r;return na(c,s,n.snapToGrid??a,d)},flowToScreenPosition:t=>{let{transform:n,domNode:s}=e.getState();if(!s)return t;let{x:r,y:a}=s.getBoundingClientRect(),i=ni(t,n);return{x:i.x+r,y:i.y+a}}}),[])};function s_(e,t){let n=[],s=new Map,r=[];for(let t of e){if("add"===t.type){r.push(t);continue}if("remove"===t.type||"replace"===t.type)s.set(t.id,[t]);else{let e=s.get(t.id);e?e.push(t):s.set(t.id,[t])}}for(let e of t){let t=s.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let r={...e};for(let e of t)(function(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((!0===e.setAttributes||"width"===e.setAttributes)&&(t.width=e.dimensions.width),(!0===e.setAttributes||"height"===e.setAttributes)&&(t.height=e.dimensions.height))),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}})(e,r);n.push(r)}return r.length&&r.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function sD(e,t){return{id:e,type:"select",selected:t}}function sP(e,t=new Set,n=!1){let s=[];for(let[r,a]of e){let e=t.has(r);(void 0!==a.selected||e)&&a.selected!==e&&(n&&(a.selected=e),s.push(sD(a.id,e)))}return s}function sT({items:e=[],lookup:t}){let n=[],s=new Map(e.map(e=>[e.id,e]));for(let[s,r]of e.entries()){let e=t.get(r.id),a=e?.internals?.userNode??e;void 0!==a&&a!==r&&n.push({id:r.id,item:r,type:"replace"}),void 0===a&&n.push({item:r,type:"add",index:s})}for(let[e]of t)void 0===s.get(e)&&n.push({id:e,type:"remove"});return n}function sz(e){return{id:e.id,type:"remove"}}let sO=e=>tB(e),sR=e=>tW(e);function sI(e){return(0,S.forwardRef)(e)}let sL=S.useEffect;function sZ(e){let[t,n]=(0,S.useState)(BigInt(0)),[s]=(0,S.useState)(()=>{var e;let t;return e=()=>n(e=>e+BigInt(1)),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return sL(()=>{let t=s.get();t.length&&(e(t),s.reset())},[t]),s}let s$=(0,S.createContext)(null);function sH({children:e}){let t=sr(),n=sZ((0,S.useCallback)(e=>{let{nodes:n=[],setNodes:s,hasDefaultNodes:r,onNodesChange:a,nodeLookup:i,fitViewQueued:l}=t.getState(),o=n;for(let t of e)o="function"==typeof t?t(o):t;let c=sT({items:o,lookup:i});r&&s(o),c.length>0?a?.(c):l&&window.requestAnimationFrame(()=>{let{fitViewQueued:e,nodes:n,setNodes:s}=t.getState();e&&s(n)})},[])),s=sZ((0,S.useCallback)(e=>{let{edges:n=[],setEdges:s,hasDefaultEdges:r,onEdgesChange:a,edgeLookup:i}=t.getState(),l=n;for(let t of e)l="function"==typeof t?t(l):t;r?s(l):a&&a(sT({items:l,lookup:i}))},[])),r=(0,S.useMemo)(()=>({nodeQueue:n,edgeQueue:s}),[]);return(0,N.jsx)(s$.Provider,{value:r,children:e})}let sV=e=>!!e.panZoom;function sW(){let e=sA(),t=sr(),n=function(){let e=(0,S.useContext)(s$);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),s=ss(sV),r=(0,S.useMemo)(()=>{let e=e=>t.getState().nodeLookup.get(e),s=e=>{n.nodeQueue.push(e)},r=e=>{n.edgeQueue.push(e)},a=e=>{let{nodeLookup:n,nodeOrigin:s}=t.getState(),r=sO(e)?e:n.get(e.id),a=r.parentId?function(e,t={width:0,height:0},n,s,r){let a={...e},i=s.get(n);if(i){let e=i.origin||r;a.x+=i.internals.positionAbsolute.x-(t.width??0)*e[0],a.y+=i.internals.positionAbsolute.y-(t.height??0)*e[1]}return a}(r.position,r.measured,r.parentId,n,s):r.position;return t8({...r,position:a,width:r.measured?.width??r.width,height:r.measured?.height??r.height})},i=(e,t,n={replace:!1})=>{s(s=>s.map(s=>{if(s.id===e){let e="function"==typeof t?t(s):t;return n.replace&&sO(e)?e:{...s,...e}}return s}))},l=(e,t,n={replace:!1})=>{r(s=>s.map(s=>{if(s.id===e){let e="function"==typeof t?t(s):t;return n.replace&&sR(e)?e:{...s,...e}}return s}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:s,setEdges:r,addNodes:e=>{let t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:n=[],transform:s}=t.getState(),[r,a,i]=s;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:r,y:a,zoom:i}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{let{nodes:s,edges:r,onNodesDelete:a,onEdgesDelete:i,triggerNodeChanges:l,triggerEdgeChanges:o,onDelete:c,onBeforeDelete:d}=t.getState(),{nodes:u,edges:m}=await tJ({nodesToRemove:e,edgesToRemove:n,nodes:s,edges:r,onBeforeDelete:d}),h=m.length>0,x=u.length>0;if(h){let e=m.map(sz);i?.(m),o(e)}if(x){let e=u.map(sz);a?.(u),l(e)}return(x||h)&&c?.({nodes:u,edges:m}),{deletedNodes:u,deletedEdges:m}},getIntersectingNodes:(e,n=!0,s)=>{let r=nt(e),i=r?e:a(e),l=void 0!==s;return i?(s||t.getState().nodes).filter(s=>{let a=t.getState().nodeLookup.get(s.id);if(a&&!r&&(s.id===e.id||!a.internals.positionAbsolute))return!1;let o=t8(l?s:a),c=ne(o,i);return n&&c>0||c>=o.width*o.height||c>=i.width*i.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{let s=nt(e)?e:a(e);if(!s)return!1;let r=ne(s,t);return n&&r>0||r>=t.width*t.height||r>=s.width*s.height},updateNode:i,updateNodeData:(e,t,n={replace:!1})=>{i(e,e=>{let s="function"==typeof t?t(e):t;return n.replace?{...e,data:s}:{...e,data:{...e.data,...s}}},n)},updateEdge:l,updateEdgeData:(e,t,n={replace:!1})=>{l(e,e=>{let s="function"==typeof t?t(e):t;return n.replace?{...e,data:s}:{...e,data:{...e.data,...s}}},n)},getNodesBounds:e=>{let{nodeLookup:n,nodeOrigin:s}=t.getState();return tq(e,{nodeLookup:n,nodeOrigin:s})},getHandleConnections:({type:e,id:n,nodeId:s})=>Array.from(t.getState().connectionLookup.get(`${s}-${e}${n?`-${n}`:""}`)?.values()??[]),getNodeConnections:({type:e,handleId:n,nodeId:s})=>Array.from(t.getState().connectionLookup.get(`${s}${e?n?`-${e}-${n}`:`-${e}`:""}`)?.values()??[]),fitView:async e=>{let s,r;let a=t.getState().fitViewResolver??{promise:new Promise((e,t)=>{s=e,r=t}),resolve:s,reject:r};return t.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:a}),n.nodeQueue.push(e=>[...e]),a.promise}}},[]);return(0,S.useMemo)(()=>({...r,...e,viewportInitialized:s}),[s])}let sB=void 0,sF={position:"absolute",width:"100%",height:"100%",top:0,left:0},sU=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function sq({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:s=!1,panOnScrollSpeed:r=.5,panOnScrollMode:a=h.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:o,translateExtent:c,minZoom:d,maxZoom:u,zoomActivationKeyCode:m,preventScrolling:x=!0,children:p,noWheelClassName:f,noPanClassName:g,onViewportChange:v,isControlledViewport:y,paneClickDistance:j}){let w=sr(),b=(0,S.useRef)(null),{userSelectionActive:k,lib:C,connectionInProgress:E}=ss(sU,n7);return sM(m),(0,S.useRef)(),sr(),(0,S.useCallback)(e=>{v?.({x:e[0],y:e[1],zoom:e[2]}),y||w.setState({transform:e})},[v,y]),(0,N.jsx)("div",{className:"react-flow__renderer",ref:b,style:sF,children:p})}let sY=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function sK(){let{userSelectionActive:e,userSelectionRect:t}=ss(sY,n7);return e&&t?(0,N.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}let sG=(e,t)=>n=>{n.target===t.current&&e?.(n)},sX=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function sJ({isSelecting:e,selectionKeyPressed:t,selectionMode:n=x.Full,panOnDrag:s,selectionOnDrag:r,onSelectionStart:a,onSelectionEnd:i,onPaneClick:l,onPaneContextMenu:o,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:u,onPaneMouseLeave:m,children:h}){let p=sr(),{userSelectionActive:f,elementsSelectable:g,dragging:v,connectionInProgress:y}=ss(sX,n7),j=g&&(e||f),w=(0,S.useRef)(null),b=(0,S.useRef)(),k=(0,S.useRef)(new Set),C=(0,S.useRef)(new Set),E=(0,S.useRef)(!1),M=(0,S.useRef)(!1),_=e=>{if(E.current||y){E.current=!1;return}l?.(e),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},D=!0===s||Array.isArray(s)&&s.includes(0);return(0,N.jsxs)("div",{className:A(["react-flow__pane",{draggable:D,dragging:v,selection:e}]),onClick:j?void 0:sG(_,w),onContextMenu:sG(e=>{if(Array.isArray(s)&&s?.includes(2)){e.preventDefault();return}o?.(e)},w),onWheel:sG(c?e=>c(e):void 0,w),onPointerEnter:j?void 0:d,onPointerDown:j?t=>{let{resetSelectedElements:n,domNode:s}=p.getState();if(b.current=s?.getBoundingClientRect(),!g||!e||0!==t.button||t.target!==w.current||!b.current)return;t.target?.setPointerCapture?.(t.pointerId),M.current=!0,E.current=!1;let{x:r,y:i}=nv(t.nativeEvent,b.current);n(),p.setState({userSelectionRect:{width:0,height:0,startX:r,startY:i,x:r,y:i}}),a?.(t)}:u,onPointerMove:j?e=>{let{userSelectionRect:t,transform:s,nodeLookup:r,edgeLookup:a,connectionLookup:i,triggerNodeChanges:l,triggerEdgeChanges:o,defaultEdgeOptions:c}=p.getState();if(!b.current||!t)return;E.current=!0;let{x:d,y:u}=nv(e.nativeEvent,b.current),{startX:m,startY:h}=t,f={startX:m,startY:h,x:d<m?d:m,y:u<h?u:h,width:Math.abs(d-m),height:Math.abs(u-h)},g=k.current,v=C.current;k.current=new Set(tK(r,f,s,n===x.Partial,!0).map(e=>e.id)),C.current=new Set;let y=c?.selectable??!0;for(let e of k.current){let t=i.get(e);if(t)for(let{edgeId:e}of t.values()){let t=a.get(e);t&&(t.selectable??y)&&C.current.add(e)}}nh(g,k.current)||l(sP(r,k.current,!0)),nh(v,C.current)||o(sP(a,C.current)),p.setState({userSelectionRect:f,userSelectionActive:!0,nodesSelectionActive:!1})}:u,onPointerUp:j?e=>{if(0!==e.button||!M.current)return;e.target?.releasePointerCapture?.(e.pointerId);let{userSelectionRect:n}=p.getState();!f&&n&&e.target===w.current&&_?.(e),p.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:k.current.size>0}),i?.(e),(t||r)&&(E.current=!1),M.current=!1}:void 0,onPointerLeave:m,ref:w,style:sF,children:[h,(0,N.jsx)(sK,{})]})}function sQ({id:e,store:t,unselect:n=!1,nodeRef:s}){let{addSelectedNodes:r,unselectNodesAndEdges:a,multiSelectionActive:i,nodeLookup:l,onError:o}=t.getState(),c=l.get(e);if(!c){o?.("012",tR.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(a({nodes:[c],edges:[]}),requestAnimationFrame(()=>s?.current?.blur())):r([e])}function s0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:r,isSelectable:a,nodeClickDistance:i}){sr();let[l,o]=(0,S.useState)(!1);return(0,S.useRef)(),l}let s1=e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable);function s2(){let e=sr();return(0,S.useCallback)(t=>{let{nodeExtent:n,snapToGrid:s,snapGrid:r,nodesDraggable:a,onError:i,updateNodePositions:l,nodeLookup:o,nodeOrigin:c}=e.getState(),d=new Map,u=s1(a),m=s?r[0]:5,h=s?r[1]:5,x=t.direction.x*m*t.factor,p=t.direction.y*h*t.factor;for(let[,e]of o){if(!u(e))continue;let t={x:e.internals.positionAbsolute.x+x,y:e.internals.positionAbsolute.y+p};s&&(t=nr(t,r));let{position:a,positionAbsolute:l}=function({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:s=[0,0],nodeExtent:r,onError:a}){let i=n.get(e),l=i.parentId?n.get(i.parentId):void 0,{x:o,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},d=i.origin??s,u=i.extent||r;if("parent"!==i.extent||i.expandParent)l&&nd(i.extent)&&(u=[[i.extent[0][0]+o,i.extent[0][1]+c],[i.extent[1][0]+o,i.extent[1][1]+c]]);else if(l){let e=l.measured.width,t=l.measured.height;e&&t&&(u=[[o,c],[o+e,c+t]])}else a?.("005",tR.error005());let m=nd(u)?t0(t,u,i.measured):t;return(void 0===i.measured.width||void 0===i.measured.height)&&a?.("015",tR.error015()),{position:{x:m.x-o+(i.measured.width??0)*d[0],y:m.y-c+(i.measured.height??0)*d[1]},positionAbsolute:m}}({nodeId:e.id,nextPosition:t,nodeLookup:o,nodeExtent:n,nodeOrigin:c,onError:i});e.position=a,e.internals.positionAbsolute=l,d.set(e.id,e)}l(d)},[])}let s4=(0,S.createContext)(null),s3=s4.Provider;s4.Consumer;let s5=()=>(0,S.useContext)(s4),s6=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),s8=(e,t,n)=>s=>{let{connectionClickStartHandle:r,connectionMode:a,connection:i}=s,{fromHandle:l,toHandle:o,isValid:c}=i,d=o?.nodeId===e&&o?.id===t&&o?.type===n;return{connectingFrom:l?.nodeId===e&&l?.id===t&&l?.type===n,connectingTo:d,clickConnecting:r?.nodeId===e&&r?.id===t&&r?.type===n,isPossibleEndHandle:a===m.Strict?l?.type!==n:e!==l?.nodeId||t!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!r,valid:d&&c}},s7=(0,S.memo)(sI(function({type:e="source",position:t=g.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:r=!0,isConnectableEnd:a=!0,id:i,onConnect:l,children:o,className:c,onMouseDown:d,onTouchStart:u,...m},h){let x=i||null,p="target"===e,f=sr(),v=s5(),{connectOnClick:y,noPanClassName:j,rfId:w}=ss(s6,n7),{connectingFrom:b,connectingTo:S,clickConnecting:k,isPossibleEndHandle:C,connectionInProcess:E,clickConnectionInProcess:M,valid:_}=ss(s8(v,x,e),n7);v||f.getState().onError?.("010",tR.error010());let D=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:s}=f.getState(),r={...t,...e};if(s){let{edges:e,setEdges:t}=f.getState();t(nE(r,e))}n?.(r),l?.(r)},P=e=>{if(!v)return;let t=ng(e.nativeEvent);if(r&&(t&&0===e.button||!t)){let t=f.getState();nJ.onPointerDown(e.nativeEvent,{handleDomNode:e.currentTarget,autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:p,handleId:x,nodeId:v,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:D,isValidConnection:n||t.isValidConnection,getTransform:()=>f.getState().transform,getFromHandle:()=>f.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed,dragThreshold:t.connectionDragThreshold})}t?d?.(e):u?.(e)};return(0,N.jsx)("div",{"data-handleid":x,"data-nodeid":v,"data-handlepos":t,"data-id":`${w}-${v}-${x}-${e}`,className:A(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,c,{source:!p,target:p,connectable:s,connectablestart:r,connectableend:a,clickconnecting:k,connectingfrom:b,connectingto:S,valid:_,connectionindicator:s&&(!E||C)&&(E||M?a:r)}]),onMouseDown:P,onTouchStart:P,onClick:y?t=>{let{onClickConnectStart:s,onClickConnectEnd:a,connectionClickStartHandle:i,connectionMode:l,isValidConnection:o,lib:c,rfId:d,nodeLookup:u,connection:m}=f.getState();if(!v||!i&&!r)return;if(!i){s?.(t.nativeEvent,{nodeId:v,handleId:x,handleType:e}),f.setState({connectionClickStartHandle:{nodeId:v,type:e,id:x}});return}let h=np(t.target),p=n||o,{connection:g,isValid:y}=nJ.isValid(t.nativeEvent,{handle:{nodeId:v,id:x,type:e},connectionMode:l,fromNodeId:i.nodeId,fromHandleId:i.id||null,fromType:i.type,isValidConnection:p,flowId:d,doc:h,lib:c,nodeLookup:u});y&&g&&D(g);let j=structuredClone(m);delete j.inProgress,j.toPosition=j.toHandle?j.toHandle.position:null,a?.(t,j),f.setState({connectionClickStartHandle:null})}:void 0,ref:h,...m,children:o})})),s9={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},re={input:function({data:e,isConnectable:t,sourcePosition:n=g.Bottom}){return(0,N.jsxs)(N.Fragment,{children:[e?.label,(0,N.jsx)(s7,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=g.Top,sourcePosition:s=g.Bottom}){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(s7,{type:"target",position:n,isConnectable:t}),e?.label,(0,N.jsx)(s7,{type:"source",position:s,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=g.Top}){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(s7,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},rt=e=>{let{width:t,height:n,x:s,y:r}=tY(e.nodeLookup,{filter:e=>!!e.selected});return{width:nn(t)?t:null,height:nn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${r}px)`}};function rn({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let s=sr(),{width:r,height:a,transformString:i,userSelectionActive:l}=ss(rt,n7),o=s2(),c=(0,S.useRef)(null);return(s0({nodeRef:c}),!l&&r&&a)?(0,N.jsx)("div",{className:A(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:(0,N.jsx)("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:e?t=>{e(t,s.getState().nodes.filter(e=>e.selected))}:void 0,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(s9,e.key)&&(e.preventDefault(),o({direction:s9[e.key],factor:e.shiftKey?4:1}))},style:{width:r,height:a}})}):null}let rs=void 0,rr=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function ra({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:a,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:o,selectionKeyCode:c,selectionOnDrag:d,selectionMode:u,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:x,panActivationKeyCode:p,zoomActivationKeyCode:f,elementsSelectable:g,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:j,panOnScrollSpeed:w,panOnScrollMode:b,zoomOnDoubleClick:S,panOnDrag:k,defaultViewport:C,translateExtent:E,minZoom:M,maxZoom:A,preventScrolling:_,onSelectionContextMenu:D,noWheelClassName:P,noPanClassName:T,disableKeyboardA11y:z,onViewportChange:O,isControlledViewport:R}){let{nodesSelectionActive:I,userSelectionActive:L}=ss(rr),Z=sM(c,{target:rs}),$=sM(p,{target:rs}),H=$||k,V=$||j,W=d&&!0!==H,B=Z||L||W;return function({deleteKeyCode:e,multiSelectionKeyCode:t}){sr();let{deleteElements:n}=sW();sM(e,{actInsideInputWithModifier:!1}),sM(t,{target:sB})}({deleteKeyCode:o,multiSelectionKeyCode:x}),(0,N.jsx)(sq,{onPaneContextMenu:a,elementsSelectable:g,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:V,panOnScrollSpeed:w,panOnScrollMode:b,zoomOnDoubleClick:S,panOnDrag:!Z&&H,defaultViewport:C,translateExtent:E,minZoom:M,maxZoom:A,zoomActivationKeyCode:f,preventScrolling:_,noWheelClassName:P,noPanClassName:T,onViewportChange:O,isControlledViewport:R,paneClickDistance:l,children:(0,N.jsxs)(sJ,{onSelectionStart:m,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:a,onPaneScroll:i,panOnDrag:H,isSelecting:!!B,selectionMode:u,selectionKeyPressed:Z,selectionOnDrag:W,children:[e,I&&(0,N.jsx)(rn,{onSelectionContextMenu:D,noPanClassName:T,disableKeyboardA11y:z})]})})}ra.displayName="FlowRenderer";let ri=(0,S.memo)(ra),rl=e=>t=>e?tK(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()),ro=e=>e.updateNodeInternals;function rc({id:e,onClick:t,onMouseEnter:n,onMouseMove:s,onMouseLeave:r,onContextMenu:a,onDoubleClick:i,nodesDraggable:l,elementsSelectable:o,nodesConnectable:c,nodesFocusable:d,resizeObserver:u,noDragClassName:m,noPanClassName:h,disableKeyboardA11y:x,rfId:p,nodeTypes:f,nodeClickDistance:g,onError:v}){let{node:y,internals:j,isParent:w}=ss(t=>{let n=t.nodeLookup.get(e),s=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:s}},n7),b=y.type||"default",k=f?.[b]||re[b];void 0===k&&(v?.("003",tR.error003(b)),b="default",k=f?.default||re.default);let C=!!(y.draggable||l&&void 0===y.draggable),E=!!(y.selectable||o&&void 0===y.selectable),M=!!(y.connectable||c&&void 0===y.connectable),_=!!(y.focusable||d&&void 0===y.focusable),D=sr(),P=nm(y),T=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:s}){sr();let r=(0,S.useRef)(null);return(0,S.useRef)(null),(0,S.useRef)(e.sourcePosition),(0,S.useRef)(e.targetPosition),(0,S.useRef)(t),n&&e.internals.handleBounds,r}({node:y,nodeType:b,hasDimensions:P,resizeObserver:u}),z=s0({nodeRef:T,disabled:y.hidden||!C,noDragClassName:m,handleSelector:y.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:g}),O=s2();if(y.hidden)return null;let R=nu(y),I=void 0===y.internals.handleBounds?{width:y.width??y.initialWidth??y.style?.width,height:y.height??y.initialHeight??y.style?.height}:{width:y.width??y.style?.width,height:y.height??y.style?.height},L=E||C||t||n||s||r;return(0,N.jsx)("div",{className:A(["react-flow__node",`react-flow__node-${b}`,{[h]:C},y.className,{selected:y.selected,selectable:E,parent:w,draggable:C,dragging:z}]),ref:T,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:L?"all":"none",visibility:P?"visible":"hidden",...y.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:n?e=>n(e,{...j.userNode}):void 0,onMouseMove:s?e=>s(e,{...j.userNode}):void 0,onMouseLeave:r?e=>r(e,{...j.userNode}):void 0,onContextMenu:a?e=>a(e,{...j.userNode}):void 0,onClick:n=>{let{selectNodesOnDrag:s,nodeDragThreshold:r}=D.getState();E&&(!s||!C||r>0)&&sQ({id:e,store:D,nodeRef:T}),t&&t(n,{...j.userNode})},onDoubleClick:i?e=>i(e,{...j.userNode}):void 0,onKeyDown:_?t=>{if(!function(e){let t=e.composedPath?.()?.[0]||e.target;return t?.nodeType===1&&(nf.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey"))}(t.nativeEvent)&&!x){if(tL.includes(t.key)&&E)sQ({id:e,store:D,unselect:"Escape"===t.key,nodeRef:T});else if(C&&y.selected&&Object.prototype.hasOwnProperty.call(s9,t.key)){t.preventDefault();let{ariaLabelConfig:e}=D.getState();D.setState({ariaLiveMessage:e["node.a11yDescription.ariaLiveMessage"]({direction:t.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),O({direction:s9[t.key],factor:t.shiftKey?4:1})}}}:void 0,tabIndex:_?0:void 0,onFocus:_?()=>{if(x||!T.current?.matches(":focus-visible"))return;let{transform:t,width:n,height:s,autoPanOnNodeFocus:r,setCenter:a}=D.getState();r&&(tK(new Map([[e,y]]),{x:0,y:0,width:n,height:s},t,!0).length>0||a(y.position.x+R.width/2,y.position.y+R.height/2,{zoom:t[2]}))}:void 0,role:y.ariaRole??(_?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${sl}-${p}`,"aria-label":y.ariaLabel,...y.domAttributes,children:(0,N.jsx)(s3,{value:e,children:(0,N.jsx)(k,{id:e,data:y.data,type:b,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:y.selected??!1,selectable:E,draggable:C,deletable:y.deletable??!0,isConnectable:M,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:z,dragHandle:y.dragHandle,zIndex:j.z,parentId:y.parentId,...R})})})}let rd=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function ru(e){var t;let{nodesDraggable:n,nodesConnectable:s,nodesFocusable:r,elementsSelectable:a,onError:i}=ss(rd,n7),l=(t=e.onlyRenderVisibleElements,ss((0,S.useCallback)(rl(t),[t]),n7)),o=function(){let e=ss(ro),[t]=(0,S.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return t}();return(0,N.jsx)("div",{className:"react-flow__nodes",style:sF,children:l.map(t=>(0,N.jsx)(rc,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:o,nodesDraggable:n,nodesConnectable:s,nodesFocusable:r,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:i},t))})}ru.displayName="NodeRenderer";let rm=(0,S.memo)(ru),rh={[f.Arrow]:({color:e="none",strokeWidth:t=1})=>{let n={strokeWidth:t,...e&&{stroke:e}};return(0,N.jsx)("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},[f.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>{let n={strokeWidth:t,...e&&{stroke:e,fill:e}};return(0,N.jsx)("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},rx=({id:e,type:t,color:n,width:s=12.5,height:r=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{let o=function(e){let t=sr();return(0,S.useMemo)(()=>Object.prototype.hasOwnProperty.call(rh,e)?rh[e]:(t.getState().onError?.("009",tR.error009(e)),null),[e])}(t);return o?(0,N.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0",children:(0,N.jsx)(o,{color:n,strokeWidth:i})}):null},rp=({defaultColor:e,rfId:t})=>{let n=ss(e=>e.edges),s=ss(e=>e.defaultEdgeOptions),r=(0,S.useMemo)(()=>(function(e,{id:t,defaultColor:n,defaultMarkerStart:s,defaultMarkerEnd:r}){let a=new Set;return e.reduce((e,i)=>([i.markerStart||s,i.markerEnd||r].forEach(s=>{if(s&&"object"==typeof s){let r=nI(s,t);a.has(r)||(e.push({id:r,color:s.color||n,...s}),a.add(r))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))})(n,{id:t,defaultColor:e,defaultMarkerStart:s?.markerStart,defaultMarkerEnd:s?.markerEnd}),[n,s,t,e]);return r.length?(0,N.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,N.jsx)("defs",{children:r.map(e=>(0,N.jsx)(rx,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};rp.displayName="MarkerDefinitions";var rf=(0,S.memo)(rp);function rg({x:e,y:t,label:n,labelStyle:s,labelShowBg:r=!0,labelBgStyle:a,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:o,className:c,...d}){let[u,m]=(0,S.useState)({x:1,y:0,width:0,height:0}),h=A(["react-flow__edge-textwrapper",c]),x=(0,S.useRef)(null);return n?(0,N.jsxs)("g",{transform:`translate(${e-u.width/2} ${t-u.height/2})`,className:h,visibility:u.width?"visible":"hidden",...d,children:[r&&(0,N.jsx)("rect",{width:u.width+2*i[0],x:-i[0],y:-i[1],height:u.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),(0,N.jsx)("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:x,style:s,children:n}),o]}):null}rg.displayName="EdgeText";let rv=(0,S.memo)(rg);function ry({path:e,labelX:t,labelY:n,label:s,labelStyle:r,labelShowBg:a,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:o,interactionWidth:c=20,...d}){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("path",{...d,d:e,fill:"none",className:A(["react-flow__edge-path",d.className])}),c?(0,N.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,s&&nn(t)&&nn(n)?(0,N.jsx)(rv,{x:t,y:n,label:s,labelStyle:r,labelShowBg:a,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:o}):null]})}function rj({pos:e,x1:t,y1:n,x2:s,y2:r}){return e===g.Left||e===g.Right?[.5*(t+s),n]:[t,.5*(n+r)]}function rw({sourceX:e,sourceY:t,sourcePosition:n=g.Bottom,targetX:s,targetY:r,targetPosition:a=g.Top}){let[i,l]=rj({pos:n,x1:e,y1:t,x2:s,y2:r}),[o,c]=rj({pos:a,x1:s,y1:r,x2:e,y2:t}),[d,u,m,h]=nj({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:i,sourceControlY:l,targetControlX:o,targetControlY:c});return[`M${e},${t} C${i},${l} ${o},${c} ${s},${r}`,d,u,m,h]}function rb(e){return(0,S.memo)(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:a,sourcePosition:i,targetPosition:l,label:o,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:h,style:x,markerEnd:p,markerStart:f,interactionWidth:g})=>{let[v,y,j]=rw({sourceX:n,sourceY:s,sourcePosition:i,targetX:r,targetY:a,targetPosition:l}),w=e.isInternal?void 0:t;return(0,N.jsx)(ry,{id:w,path:v,labelX:y,labelY:j,label:o,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:h,style:x,markerEnd:p,markerStart:f,interactionWidth:g})})}let rN=rb({isInternal:!1}),rS=rb({isInternal:!0});function rk(e){return(0,S.memo)(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:a,label:i,labelStyle:l,labelShowBg:o,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,sourcePosition:h=g.Bottom,targetPosition:x=g.Top,markerEnd:p,markerStart:f,pathOptions:v,interactionWidth:y})=>{let[j,w,b]=nP({sourceX:n,sourceY:s,sourcePosition:h,targetX:r,targetY:a,targetPosition:x,borderRadius:v?.borderRadius,offset:v?.offset,stepPosition:v?.stepPosition}),S=e.isInternal?void 0:t;return(0,N.jsx)(ry,{id:S,path:j,labelX:w,labelY:b,label:i,labelStyle:l,labelShowBg:o,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,markerEnd:p,markerStart:f,interactionWidth:y})})}rN.displayName="SimpleBezierEdge",rS.displayName="SimpleBezierEdgeInternal";let rC=rk({isInternal:!1}),rE=rk({isInternal:!0});function rM(e){return(0,S.memo)(({id:t,...n})=>{let s=e.isInternal?void 0:t;return(0,N.jsx)(rC,{...n,id:s,pathOptions:(0,S.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}rC.displayName="SmoothStepEdge",rE.displayName="SmoothStepEdgeInternal";let rA=rM({isInternal:!1}),r_=rM({isInternal:!0});function rD(e){return(0,S.memo)(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:a,label:i,labelStyle:l,labelShowBg:o,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,markerEnd:h,markerStart:x,interactionWidth:p})=>{let[f,g,v]=nM({sourceX:n,sourceY:s,targetX:r,targetY:a}),y=e.isInternal?void 0:t;return(0,N.jsx)(ry,{id:y,path:f,labelX:g,labelY:v,label:i,labelStyle:l,labelShowBg:o,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,markerEnd:h,markerStart:x,interactionWidth:p})})}rA.displayName="StepEdge",r_.displayName="StepEdgeInternal";let rP=rD({isInternal:!1}),rT=rD({isInternal:!0});function rz(e){return(0,S.memo)(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:a,sourcePosition:i=g.Bottom,targetPosition:l=g.Top,label:o,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:h,style:x,markerEnd:p,markerStart:f,pathOptions:v,interactionWidth:y})=>{let[j,w,b]=nN({sourceX:n,sourceY:s,sourcePosition:i,targetX:r,targetY:a,targetPosition:l,curvature:v?.curvature}),S=e.isInternal?void 0:t;return(0,N.jsx)(ry,{id:S,path:j,labelX:w,labelY:b,label:o,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:h,style:x,markerEnd:p,markerStart:f,interactionWidth:y})})}rP.displayName="StraightEdge",rT.displayName="StraightEdgeInternal";let rO=rz({isInternal:!1}),rR=rz({isInternal:!0});rO.displayName="BezierEdge",rR.displayName="BezierEdgeInternal";let rI={default:rR,straight:rT,step:r_,smoothstep:rE,simplebezier:rS},rL={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},rZ=(e,t,n)=>n===g.Left?e-t:n===g.Right?e+t:e,r$=(e,t,n)=>n===g.Top?e-t:n===g.Bottom?e+t:e,rH="react-flow__edgeupdater";function rV({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:r,onMouseEnter:a,onMouseOut:i,type:l}){return(0,N.jsx)("circle",{onMouseDown:r,onMouseEnter:a,onMouseOut:i,className:A([rH,`${rH}-${l}`]),cx:rZ(t,s,e),cy:r$(n,s,e),r:s,stroke:"transparent",fill:"transparent"})}function rW({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:s,sourceY:r,targetX:a,targetY:i,sourcePosition:l,targetPosition:o,onReconnect:c,onReconnectStart:d,onReconnectEnd:u,setReconnecting:m,setUpdateHover:h}){let x=sr(),p=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:s,domNode:r,isValidConnection:a,connectionMode:i,connectionRadius:l,lib:o,onConnectStart:h,onConnectEnd:p,cancelConnection:f,nodeLookup:g,rfId:v,panBy:y,updateConnection:j}=x.getState(),w="target"===t.type;nJ.onPointerDown(e.nativeEvent,{autoPanOnConnect:s,connectionMode:i,connectionRadius:l,domNode:r,handleId:t.id,nodeId:t.nodeId,nodeLookup:g,isTarget:w,edgeUpdaterType:t.type,lib:o,flowId:v,cancelConnection:f,panBy:y,isValidConnection:a,onConnect:e=>c?.(n,e),onConnectStart:(s,r)=>{m(!0),d?.(e,n,t.type),h?.(s,r)},onConnectEnd:p,onReconnectEnd:(e,s)=>{m(!1),u?.(e,n,t.type,s)},updateConnection:j,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:e.currentTarget})},f=()=>h(!0),g=()=>h(!1);return(0,N.jsxs)(N.Fragment,{children:[(!0===e||"source"===e)&&(0,N.jsx)(rV,{position:l,centerX:s,centerY:r,radius:t,onMouseDown:e=>p(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:f,onMouseOut:g,type:"source"}),(!0===e||"target"===e)&&(0,N.jsx)(rV,{position:o,centerX:a,centerY:i,radius:t,onMouseDown:e=>p(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:f,onMouseOut:g,type:"target"})]})}function rB({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:s,onClick:r,onDoubleClick:a,onContextMenu:i,onMouseEnter:l,onMouseMove:o,onMouseLeave:c,reconnectRadius:d,onReconnect:u,onReconnectStart:h,onReconnectEnd:x,rfId:p,edgeTypes:f,noPanClassName:v,onError:y,disableKeyboardA11y:j}){let w=ss(t=>t.edgeLookup.get(e)),b=ss(e=>e.defaultEdgeOptions),k=(w=b?{...b,...w}:w).type||"default",C=f?.[k]||rI[k];void 0===C&&(y?.("011",tR.error011(k)),k="default",C=f?.default||rI.default);let E=!!(w.focusable||t&&void 0===w.focusable),M=void 0!==u&&(w.reconnectable||n&&void 0===w.reconnectable),_=!!(w.selectable||s&&void 0===w.selectable),D=(0,S.useRef)(null),[P,T]=(0,S.useState)(!1),[z,O]=(0,S.useState)(!1),R=sr(),{zIndex:I,sourceX:L,sourceY:Z,targetX:$,targetY:H,sourcePosition:V,targetPosition:W}=ss((0,S.useCallback)(t=>{let n=t.nodeLookup.get(w.source),s=t.nodeLookup.get(w.target);if(!n||!s)return{zIndex:w.zIndex,...rL};let r=function(e){let{sourceNode:t,targetNode:n}=e;if(!nT(t)||!nT(n))return null;let s=t.internals.handleBounds||nz(t.handles),r=n.internals.handleBounds||nz(n.handles),a=nR(s?.source??[],e.sourceHandle),i=nR(e.connectionMode===m.Strict?r?.target??[]:(r?.target??[]).concat(r?.source??[]),e.targetHandle);if(!a||!i)return e.onError?.("008",tR.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;let l=a?.position||g.Bottom,o=i?.position||g.Top,c=nO(t,a,l),d=nO(n,i,o);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:o}}({id:e,sourceNode:n,targetNode:s,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:t.connectionMode,onError:y});return{zIndex:function({sourceNode:e,targetNode:t,selected:n=!1,zIndex:s,elevateOnSelect:r=!1}){if(void 0!==s)return s;let a=Math.max(e.parentId||r&&e.selected?e.internals.z:0,t.parentId||r&&t.selected?t.internals.z:0);return(r&&n?1e3:0)+a}({selected:w.selected,zIndex:w.zIndex,sourceNode:n,targetNode:s,elevateOnSelect:t.elevateEdgesOnSelect}),...r||rL}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),n7),B=(0,S.useMemo)(()=>w.markerStart?`url('#${nI(w.markerStart,p)}')`:void 0,[w.markerStart,p]),F=(0,S.useMemo)(()=>w.markerEnd?`url('#${nI(w.markerEnd,p)}')`:void 0,[w.markerEnd,p]);if(w.hidden||null===L||null===Z||null===$||null===H)return null;let U=a?e=>{a(e,{...w})}:void 0,q=i?e=>{i(e,{...w})}:void 0,Y=l?e=>{l(e,{...w})}:void 0,K=o?e=>{o(e,{...w})}:void 0,G=c?e=>{c(e,{...w})}:void 0;return(0,N.jsx)("svg",{style:{zIndex:I},children:(0,N.jsxs)("g",{className:A(["react-flow__edge",`react-flow__edge-${k}`,w.className,v,{selected:w.selected,animated:w.animated,inactive:!_&&!r,updating:P,selectable:_}]),onClick:t=>{let{addSelectedEdges:n,unselectNodesAndEdges:s,multiSelectionActive:a}=R.getState();_&&(R.setState({nodesSelectionActive:!1}),w.selected&&a?(s({nodes:[],edges:[w]}),D.current?.blur()):n([e])),r&&r(t,w)},onDoubleClick:U,onContextMenu:q,onMouseEnter:Y,onMouseMove:K,onMouseLeave:G,onKeyDown:E?t=>{if(!j&&tL.includes(t.key)&&_){let{unselectNodesAndEdges:n,addSelectedEdges:s}=R.getState();"Escape"===t.key?(D.current?.blur(),n({edges:[w]})):s([e])}}:void 0,tabIndex:E?0:void 0,role:w.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===w.ariaLabel?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":E?`${so}-${p}`:void 0,ref:D,...w.domAttributes,children:[!z&&(0,N.jsx)(C,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:_,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:L,sourceY:Z,targetX:$,targetY:H,sourcePosition:V,targetPosition:W,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:B,markerEnd:F,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),M&&(0,N.jsx)(rW,{edge:w,isReconnectable:M,reconnectRadius:d,onReconnect:u,onReconnectStart:h,onReconnectEnd:x,sourceX:L,sourceY:Z,targetX:$,targetY:H,sourcePosition:V,targetPosition:W,setUpdateHover:T,setReconnecting:O})]})})}let rF=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function rU({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:s,noPanClassName:r,onReconnect:a,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:o,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:u,onEdgeDoubleClick:m,onReconnectStart:h,onReconnectEnd:x,disableKeyboardA11y:p}){let{edgesFocusable:f,edgesReconnectable:g,elementsSelectable:v,onError:y}=ss(rF,n7),j=ss((0,S.useCallback)(e=>{if(!t)return e.edges.map(e=>e.id);let n=[];if(e.width&&e.height)for(let t of e.edges){let s=e.nodeLookup.get(t.source),r=e.nodeLookup.get(t.target);s&&r&&function({sourceNode:e,targetNode:t,width:n,height:s,transform:r}){let a=t3(t7(e),t7(t));return a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1),ne({x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:s/r[2]},t6(a))>0}({sourceNode:s,targetNode:r,width:e.width,height:e.height,transform:e.transform})&&n.push(t.id)}return n},[t]),n7);return(0,N.jsxs)("div",{className:"react-flow__edges",children:[(0,N.jsx)(rf,{defaultColor:e,rfId:n}),j.map(e=>(0,N.jsx)(rB,{id:e,edgesFocusable:f,edgesReconnectable:g,elementsSelectable:v,noPanClassName:r,onReconnect:a,onContextMenu:i,onMouseEnter:l,onMouseMove:o,onMouseLeave:c,onClick:d,reconnectRadius:u,onDoubleClick:m,onReconnectStart:h,onReconnectEnd:x,rfId:n,onError:y,edgeTypes:s,disableKeyboardA11y:p},e))]})}rU.displayName="EdgeRenderer";let rq=(0,S.memo)(rU),rY=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function rK({children:e}){let t=ss(rY);return(0,N.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}let rG=e=>e.panZoom?.syncViewport;function rX(e){return e.connection.inProgress?{...e.connection,to:na(e.connection.to,e.transform)}:{...e.connection}}let rJ=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function rQ({containerStyle:e,style:t,type:n,component:s}){let{nodesConnectable:r,width:a,height:i,isValid:l,inProgress:o}=ss(rJ,n7);return a&&r&&o?(0,N.jsx)("svg",{style:e,width:a,height:i,className:"react-flow__connectionline react-flow__container",children:(0,N.jsx)("g",{className:A(["react-flow__connection",tV(l)]),children:(0,N.jsx)(r0,{style:t,type:n,CustomComponent:s,isValid:l})})}):null}let r0=({style:e,type:t=p.Bezier,CustomComponent:n,isValid:s})=>{var r;let{inProgress:a,from:i,fromNode:l,fromHandle:o,fromPosition:c,to:d,toNode:u,toHandle:m,toPosition:h}=ss(rX,n7);if(!a)return;if(n)return(0,N.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:o,fromX:i.x,fromY:i.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:h,connectionStatus:tV(s),toNode:u,toHandle:m});let x="",f={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:h};switch(t){case p.Bezier:[x]=nN(f);break;case p.SimpleBezier:[x]=rw(f);break;case p.Step:[x]=nP({...f,borderRadius:0});break;case p.SmoothStep:[x]=nP(f);break;default:[x]=nM(f)}return(0,N.jsx)("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};r0.displayName="ConnectionLine";let r1={};function r2(e=r1){(0,S.useRef)(e),sr()}function r4({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:s,onEdgeClick:r,onNodeDoubleClick:a,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:o,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:u,onSelectionStart:m,onSelectionEnd:h,connectionLineType:x,connectionLineStyle:p,connectionLineComponent:f,connectionLineContainerStyle:g,selectionKeyCode:v,selectionOnDrag:y,selectionMode:j,multiSelectionKeyCode:w,panActivationKeyCode:b,zoomActivationKeyCode:k,deleteKeyCode:C,onlyRenderVisibleElements:E,elementsSelectable:M,defaultViewport:A,translateExtent:_,minZoom:D,maxZoom:P,preventScrolling:T,defaultMarkerColor:z,zoomOnScroll:O,zoomOnPinch:R,panOnScroll:I,panOnScrollSpeed:L,panOnScrollMode:Z,zoomOnDoubleClick:$,panOnDrag:H,onPaneClick:V,onPaneMouseEnter:W,onPaneMouseMove:B,onPaneMouseLeave:F,onPaneScroll:U,onPaneContextMenu:q,paneClickDistance:Y,nodeClickDistance:K,onEdgeContextMenu:G,onEdgeMouseEnter:X,onEdgeMouseMove:J,onEdgeMouseLeave:Q,reconnectRadius:ee,onReconnect:et,onReconnectStart:en,onReconnectEnd:es,noDragClassName:er,noWheelClassName:ea,noPanClassName:ei,disableKeyboardA11y:el,nodeExtent:eo,rfId:ec,viewport:ed,onViewportChange:eu}){return r2(e),r2(t),sr(),(0,S.useRef)(!1),sW(),(0,S.useRef)(!1),ss(rG),sr(),(0,N.jsx)(ri,{onPaneClick:V,onPaneMouseEnter:W,onPaneMouseMove:B,onPaneMouseLeave:F,onPaneContextMenu:q,onPaneScroll:U,paneClickDistance:Y,deleteKeyCode:C,selectionKeyCode:v,selectionOnDrag:y,selectionMode:j,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:w,panActivationKeyCode:b,zoomActivationKeyCode:k,elementsSelectable:M,zoomOnScroll:O,zoomOnPinch:R,zoomOnDoubleClick:$,panOnScroll:I,panOnScrollSpeed:L,panOnScrollMode:Z,panOnDrag:H,defaultViewport:A,translateExtent:_,minZoom:D,maxZoom:P,onSelectionContextMenu:u,preventScrolling:T,noDragClassName:er,noWheelClassName:ea,noPanClassName:ei,disableKeyboardA11y:el,onViewportChange:eu,isControlledViewport:!!ed,children:(0,N.jsxs)(rK,{children:[(0,N.jsx)(rq,{edgeTypes:t,onEdgeClick:r,onEdgeDoubleClick:i,onReconnect:et,onReconnectStart:en,onReconnectEnd:es,onlyRenderVisibleElements:E,onEdgeContextMenu:G,onEdgeMouseEnter:X,onEdgeMouseMove:J,onEdgeMouseLeave:Q,reconnectRadius:ee,defaultMarkerColor:z,noPanClassName:ei,disableKeyboardA11y:el,rfId:ec}),(0,N.jsx)(rQ,{style:p,type:x,component:f,containerStyle:g}),(0,N.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,N.jsx)(rm,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:o,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:K,onlyRenderVisibleElements:E,noPanClassName:ei,noDragClassName:er,disableKeyboardA11y:el,nodeExtent:eo,rfId:ec}),(0,N.jsx)("div",{className:"react-flow__viewport-portal"})]})})}r4.displayName="GraphView";let r3=(0,S.memo)(r4),r5=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:a,fitView:i,fitViewOptions:l,minZoom:o=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:u}={})=>{let h=new Map,x=new Map,p=new Map,f=new Map,g=s??t??[],v=n??e??[],y=d??[0,0],j=u??tI;nq(p,f,g);let w=nH(v,h,x,{nodeOrigin:y,nodeExtent:j,elevateNodesOnSelect:!1}),b=[0,0,1];if(i&&r&&a){let{x:e,y:t,zoom:n}=no(tY(h,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),r,a,o,c,l?.padding??.1);b=[e,t,n]}return{rfId:"1",width:r??0,height:a??0,transform:b,nodes:v,nodesInitialized:w,nodeLookup:h,parentLookup:x,edges:g,edgeLookup:f,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==s,panZoom:null,minZoom:o,maxZoom:c,translateExtent:tI,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:m.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...t$},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:ns,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:tZ}},r6=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:a,fitView:i,fitViewOptions:l,minZoom:o,maxZoom:c,nodeOrigin:d,nodeExtent:u})=>n8((m,h)=>{async function x(){let{nodeLookup:e,panZoom:t,fitViewOptions:n,fitViewResolver:s,width:r,height:a,minZoom:i,maxZoom:l}=h();t&&(await tX({nodes:e,width:r,height:a,panZoom:t,minZoom:i,maxZoom:l},n),s?.resolve(!0),m({fitViewResolver:null}))}return{...r5({nodes:e,edges:t,width:r,height:a,fitView:i,fitViewOptions:l,minZoom:o,maxZoom:c,nodeOrigin:d,nodeExtent:u,defaultNodes:n,defaultEdges:s}),setNodes:e=>{let{nodeLookup:t,parentLookup:n,nodeOrigin:s,elevateNodesOnSelect:r,fitViewQueued:a}=h(),i=nH(e,t,n,{nodeOrigin:s,nodeExtent:u,elevateNodesOnSelect:r,checkEquality:!0});a&&i?(x(),m({nodes:e,nodesInitialized:i,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:e,nodesInitialized:i})},setEdges:e=>{let{connectionLookup:t,edgeLookup:n}=h();nq(t,n,e),m({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){let{setNodes:t}=h();t(e),m({hasDefaultNodes:!0})}if(t){let{setEdges:e}=h();e(t),m({hasDefaultEdges:!0})}},updateNodeInternals:e=>{let{triggerNodeChanges:t,nodeLookup:n,parentLookup:s,domNode:r,nodeOrigin:a,nodeExtent:i,debug:l,fitViewQueued:o}=h(),{changes:c,updatedInternals:d}=function(e,t,n,s,r,a){let i=s?.querySelector(".xyflow__viewport"),l=!1;if(!i)return{changes:[],updatedInternals:l};let o=[],c=window.getComputedStyle(i),{m22:d}=new window.DOMMatrixReadOnly(c.transform),u=[];for(let s of e.values()){let e=t.get(s.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),l=!0;continue}let i=nx(s.nodeElement),c=e.measured.width!==i.width||e.measured.height!==i.height;if(i.width&&i.height&&(c||!e.internals.handleBounds||s.force)){let m=s.nodeElement.getBoundingClientRect(),h=nd(e.extent)?e.extent:a,{positionAbsolute:x}=e.internals;e.parentId&&"parent"===e.extent?x=t1(x,i,t.get(e.parentId)):h&&(x=t0(x,h,i));let p={...e,measured:i,internals:{...e.internals,positionAbsolute:x,handleBounds:{source:ny("source",s.nodeElement,m,d,e.id),target:ny("target",s.nodeElement,m,d,e.id)}}};t.set(e.id,p),e.parentId&&nV(p,t,n,{nodeOrigin:r}),l=!0,c&&(o.push({id:e.id,type:"dimensions",dimensions:i}),e.expandParent&&e.parentId&&u.push({id:e.id,parentId:e.parentId,rect:t8(p,r)}))}}if(u.length>0){let e=nB(u,t,n,r);o.push(...e)}return{changes:o,updatedInternals:l}}(e,n,s,r,a,i);d&&(function(e,t,n){let s=n$(nL,n);for(let n of e.values())if(n.parentId)nV(n,e,t,s);else{let e=t0(tU(n,s.nodeOrigin),nd(n.extent)?n.extent:s.nodeExtent,nu(n));n.internals.positionAbsolute=e}}(n,s,{nodeOrigin:a,nodeExtent:i}),o?(x(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),c?.length>0&&(l&&console.log("React Flow: trigger node changes",c),t?.(c)))},updateNodePositions:(e,t=!1)=>{let n=[],s=[],{nodeLookup:r,triggerNodeChanges:a}=h();for(let[a,i]of e){let e=r.get(a),l=!!(e?.expandParent&&e?.parentId&&i?.position),o={id:a,type:"position",position:l?{x:Math.max(0,i.position.x),y:Math.max(0,i.position.y)}:i.position,dragging:t};l&&e.parentId&&n.push({id:a,parentId:e.parentId,rect:{...i.internals.positionAbsolute,width:i.measured.width??0,height:i.measured.height??0}}),s.push(o)}if(n.length>0){let{parentLookup:e,nodeOrigin:t}=h(),a=nB(n,r,e,t);s.push(...a)}a(s)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:s,hasDefaultNodes:r,debug:a}=h();e?.length&&(r&&n(s_(e,s)),a&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:s,hasDefaultEdges:r,debug:a}=h();e?.length&&(r&&n(s_(e,s)),a&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:s,triggerNodeChanges:r,triggerEdgeChanges:a}=h();if(t){r(e.map(e=>sD(e,!0)));return}r(sP(s,new Set([...e]),!0)),a(sP(n))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:s,triggerNodeChanges:r,triggerEdgeChanges:a}=h();if(t){a(e.map(e=>sD(e,!0)));return}a(sP(n,new Set([...e]))),r(sP(s,new Set,!0))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{let{edges:n,nodes:s,nodeLookup:r,triggerNodeChanges:a,triggerEdgeChanges:i}=h(),l=(e||s).map(e=>{let t=r.get(e.id);return t&&(t.selected=!1),sD(e.id,!1)}),o=(t||n).map(e=>sD(e.id,!1));a(l),i(o)},setMinZoom:e=>{let{panZoom:t,maxZoom:n}=h();t?.setScaleExtent([e,n]),m({minZoom:e})},setMaxZoom:e=>{let{panZoom:t,minZoom:n}=h();t?.setScaleExtent([n,e]),m({maxZoom:e})},setTranslateExtent:e=>{h().panZoom?.setTranslateExtent(e),m({translateExtent:e})},setPaneClickDistance:e=>{h().panZoom?.setClickDistance(e)},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:s,elementsSelectable:r}=h();if(!r)return;let a=t.reduce((e,t)=>t.selected?[...e,sD(t.id,!1)]:e,[]),i=e.reduce((e,t)=>t.selected?[...e,sD(t.id,!1)]:e,[]);n(a),s(i)},setNodeExtent:e=>{let{nodes:t,nodeLookup:n,parentLookup:s,nodeOrigin:r,elevateNodesOnSelect:a,nodeExtent:i}=h();(e[0][0]!==i[0][0]||e[0][1]!==i[0][1]||e[1][0]!==i[1][0]||e[1][1]!==i[1][1])&&(nH(t,n,s,{nodeOrigin:r,nodeExtent:e,elevateNodesOnSelect:a,checkEquality:!1}),m({nodeExtent:e}))},panBy:e=>{let{transform:t,width:n,height:s,panZoom:r,translateExtent:a}=h();return nF({delta:e,panZoom:r,transform:t,translateExtent:a,width:n,height:s})},setCenter:async(e,t,n)=>{let{width:s,height:r,maxZoom:a,panZoom:i}=h();if(!i)return Promise.resolve(!1);let l=void 0!==n?.zoom?n.zoom:a;return await i.setViewport({x:s/2-e*l,y:r/2-t*l,zoom:l},{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...t$}})},updateConnection:e=>{m({connection:e})},reset:()=>m({...r5()})}},Object.is);function r8({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:s,initialWidth:r,initialHeight:a,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:o,fitView:c,nodeOrigin:d,nodeExtent:u,children:m}){let[h]=(0,S.useState)(()=>r6({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:a,fitView:c,minZoom:i,maxZoom:l,fitViewOptions:o,nodeOrigin:d,nodeExtent:u}));return(0,N.jsx)(st,{value:h,children:(0,N.jsx)(sH,{children:m})})}function r7({children:e,nodes:t,edges:n,defaultNodes:s,defaultEdges:r,width:a,height:i,fitView:l,fitViewOptions:o,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:m}){return(0,S.useContext)(se)?(0,N.jsx)(N.Fragment,{children:e}):(0,N.jsx)(r8,{initialNodes:t,initialEdges:n,defaultNodes:s,defaultEdges:r,initialWidth:a,initialHeight:i,fitView:l,initialFitViewOptions:o,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:u,nodeExtent:m,children:e})}let r9={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var ae=sI(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:r,nodeTypes:a,edgeTypes:i,onNodeClick:l,onEdgeClick:o,onInit:c,onMove:d,onMoveStart:u,onMoveEnd:m,onConnect:f,onConnectStart:g,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:j,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:E,onNodeDragStart:M,onNodeDrag:_,onNodeDragStop:D,onNodesDelete:P,onEdgesDelete:T,onDelete:z,onSelectionChange:O,onSelectionDragStart:R,onSelectionDrag:I,onSelectionDragStop:L,onSelectionContextMenu:Z,onSelectionStart:$,onSelectionEnd:H,onBeforeDelete:V,connectionMode:W,connectionLineType:B=p.Bezier,connectionLineStyle:F,connectionLineComponent:U,connectionLineContainerStyle:q,deleteKeyCode:Y="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:G=!1,selectionMode:X=x.Full,panActivationKeyCode:J="Space",multiSelectionKeyCode:Q=nc()?"Meta":"Control",zoomActivationKeyCode:ee=nc()?"Meta":"Control",snapToGrid:et,snapGrid:en,onlyRenderVisibleElements:es=!1,selectNodesOnDrag:er,nodesDraggable:ea,autoPanOnNodeFocus:ei,nodesConnectable:el,nodesFocusable:eo,nodeOrigin:ec=sw,edgesFocusable:ed,edgesReconnectable:eu,elementsSelectable:em=!0,defaultViewport:eh=sb,minZoom:ex=.5,maxZoom:ep=2,translateExtent:ef=tI,preventScrolling:eg=!0,nodeExtent:ev,defaultMarkerColor:ey="#b1b1b7",zoomOnScroll:ej=!0,zoomOnPinch:ew=!0,panOnScroll:eb=!1,panOnScrollSpeed:eN=.5,panOnScrollMode:eS=h.Free,zoomOnDoubleClick:ek=!0,panOnDrag:eC=!0,onPaneClick:eE,onPaneMouseEnter:eM,onPaneMouseMove:eA,onPaneMouseLeave:e_,onPaneScroll:eD,onPaneContextMenu:eP,paneClickDistance:eT=0,nodeClickDistance:ez=0,children:eO,onReconnect:eR,onReconnectStart:eI,onReconnectEnd:eL,onEdgeContextMenu:eZ,onEdgeDoubleClick:e$,onEdgeMouseEnter:eH,onEdgeMouseMove:eV,onEdgeMouseLeave:eW,reconnectRadius:eB=10,onNodesChange:eF,onEdgesChange:eU,noDragClassName:eq="nodrag",noWheelClassName:eY="nowheel",noPanClassName:eK="nopan",fitView:eG,fitViewOptions:eX,connectOnClick:eJ,attributionPosition:eQ,proOptions:e0,defaultEdgeOptions:e1,elevateNodesOnSelect:e2,elevateEdgesOnSelect:e4,disableKeyboardA11y:e3=!1,autoPanOnConnect:e5,autoPanOnNodeDrag:e6,autoPanSpeed:e8,connectionRadius:e7,isValidConnection:e9,onError:te,style:tt,id:tn,nodeDragThreshold:ts,connectionDragThreshold:tr,viewport:ta,onViewportChange:ti,width:tl,height:to,colorMode:tc="light",debug:td,onScroll:tu,ariaLabelConfig:tm,...th},tx){let tp=tn||"1",tf=function(e){let[t,n]=(0,S.useState)("system"===e?null:e);return null!==t?t:"light"}(tc),tg=(0,S.useCallback)(e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),tu?.(e)},[tu]);return(0,N.jsx)("div",{"data-testid":"rf__wrapper",...th,onScroll:tg,style:{...tt,...r9},ref:tx,className:A(["react-flow",r,tf]),id:tn,role:"application",children:(0,N.jsxs)(r7,{nodes:e,edges:t,width:tl,height:to,fitView:eG,fitViewOptions:eX,minZoom:ex,maxZoom:ep,nodeOrigin:ec,nodeExtent:ev,children:[(0,N.jsx)(r3,{onInit:c,onNodeClick:l,onEdgeClick:o,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:E,nodeTypes:a,edgeTypes:i,connectionLineType:B,connectionLineStyle:F,connectionLineComponent:U,connectionLineContainerStyle:q,selectionKeyCode:K,selectionOnDrag:G,selectionMode:X,deleteKeyCode:Y,multiSelectionKeyCode:Q,panActivationKeyCode:J,zoomActivationKeyCode:ee,onlyRenderVisibleElements:es,defaultViewport:eh,translateExtent:ef,minZoom:ex,maxZoom:ep,preventScrolling:eg,zoomOnScroll:ej,zoomOnPinch:ew,zoomOnDoubleClick:ek,panOnScroll:eb,panOnScrollSpeed:eN,panOnScrollMode:eS,panOnDrag:eC,onPaneClick:eE,onPaneMouseEnter:eM,onPaneMouseMove:eA,onPaneMouseLeave:e_,onPaneScroll:eD,onPaneContextMenu:eP,paneClickDistance:eT,nodeClickDistance:ez,onSelectionContextMenu:Z,onSelectionStart:$,onSelectionEnd:H,onReconnect:eR,onReconnectStart:eI,onReconnectEnd:eL,onEdgeContextMenu:eZ,onEdgeDoubleClick:e$,onEdgeMouseEnter:eH,onEdgeMouseMove:eV,onEdgeMouseLeave:eW,reconnectRadius:eB,defaultMarkerColor:ey,noDragClassName:eq,noWheelClassName:eY,noPanClassName:eK,rfId:tp,disableKeyboardA11y:e3,nodeExtent:ev,viewport:ta,onViewportChange:ti}),(0,N.jsx)(sC,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:f,onConnectStart:g,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:j,nodesDraggable:ea,autoPanOnNodeFocus:ei,nodesConnectable:el,nodesFocusable:eo,edgesFocusable:ed,edgesReconnectable:eu,elementsSelectable:em,elevateNodesOnSelect:e2,elevateEdgesOnSelect:e4,minZoom:ex,maxZoom:ep,nodeExtent:ev,onNodesChange:eF,onEdgesChange:eU,snapToGrid:et,snapGrid:en,connectionMode:W,translateExtent:ef,connectOnClick:eJ,defaultEdgeOptions:e1,fitView:eG,fitViewOptions:eX,onNodesDelete:P,onEdgesDelete:T,onDelete:z,onNodeDragStart:M,onNodeDrag:_,onNodeDragStop:D,onSelectionDrag:I,onSelectionDragStart:R,onSelectionDragStop:L,onMove:d,onMoveStart:u,onMoveEnd:m,noPanClassName:eK,nodeOrigin:ec,rfId:tp,autoPanOnConnect:e5,autoPanOnNodeDrag:e6,autoPanSpeed:e8,onError:te,connectionRadius:e7,isValidConnection:e9,selectNodesOnDrag:er,nodeDragThreshold:ts,connectionDragThreshold:tr,onBeforeDelete:V,paneClickDistance:eT,debug:td,ariaLabelConfig:tm}),(0,N.jsx)(sj,{onSelectionChange:O}),eO,(0,N.jsx)(sx,{proOptions:e0,position:eQ}),(0,N.jsx)(sm,{rfId:tp,disableKeyboardA11y:e3})]})})});function at({dimensions:e,lineWidth:t,variant:n,className:s}){return(0,N.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:A(["react-flow__background-pattern",n,s])})}function an({radius:e,className:t}){return(0,N.jsx)("circle",{cx:e,cy:e,r:e,className:A(["react-flow__background-pattern","dots",t])})}tR.error014(),function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(y||(y={}));let as={[y.Dots]:1,[y.Lines]:1,[y.Cross]:6},ar=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function aa({id:e,variant:t=y.Dots,gap:n=20,size:s,lineWidth:r=1,offset:a=0,color:i,bgColor:l,style:o,className:c,patternClassName:d}){let u=(0,S.useRef)(null),{transform:m,patternId:h}=ss(ar,n7),x=s||as[t],p=t===y.Dots,f=t===y.Cross,g=Array.isArray(n)?n:[n,n],v=[g[0]*m[2]||1,g[1]*m[2]||1],j=x*m[2],w=Array.isArray(a)?a:[a,a],b=f?[j,j]:v,k=[w[0]*m[2]||1+b[0]/2,w[1]*m[2]||1+b[1]/2],C=`${h}${e||""}`;return(0,N.jsxs)("svg",{className:A(["react-flow__background",c]),style:{...o,...sF,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:u,"data-testid":"rf__background",children:[(0,N.jsx)("pattern",{id:C,x:m[0]%v[0],y:m[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`,children:p?(0,N.jsx)(an,{radius:j/2,className:d}):(0,N.jsx)(at,{dimensions:b,lineWidth:r,variant:t,className:d})}),(0,N.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}aa.displayName="Background";let ai=(0,S.memo)(aa);function al(){return(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,N.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ao(){return(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,N.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function ac(){return(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,N.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function ad(){return(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,N.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function au(){return(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,N.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function am({children:e,className:t,...n}){return(0,N.jsx)("button",{type:"button",className:A(["react-flow__controls-button",t]),...n,children:e})}let ah=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ax({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:r,onZoomIn:a,onZoomOut:i,onFitView:l,onInteractiveChange:o,className:c,children:d,position:u="bottom-left",orientation:m="vertical","aria-label":h}){let x=sr(),{isInteractive:p,minZoomReached:f,maxZoomReached:g,ariaLabelConfig:v}=ss(ah,n7),{zoomIn:y,zoomOut:j,fitView:w}=sW();return(0,N.jsxs)(sh,{className:A(["react-flow__controls","horizontal"===m?"horizontal":"vertical",c]),position:u,style:e,"data-testid":"rf__controls","aria-label":h??v["controls.ariaLabel"],children:[t&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(am,{onClick:()=>{y(),a?.()},className:"react-flow__controls-zoomin",title:v["controls.zoomIn.ariaLabel"],"aria-label":v["controls.zoomIn.ariaLabel"],disabled:g,children:(0,N.jsx)(al,{})}),(0,N.jsx)(am,{onClick:()=>{j(),i?.()},className:"react-flow__controls-zoomout",title:v["controls.zoomOut.ariaLabel"],"aria-label":v["controls.zoomOut.ariaLabel"],disabled:f,children:(0,N.jsx)(ao,{})})]}),n&&(0,N.jsx)(am,{className:"react-flow__controls-fitview",onClick:()=>{w(r),l?.()},title:v["controls.fitView.ariaLabel"],"aria-label":v["controls.fitView.ariaLabel"],children:(0,N.jsx)(ac,{})}),s&&(0,N.jsx)(am,{className:"react-flow__controls-interactive",onClick:()=>{x.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),o?.(!p)},title:v["controls.interactive.ariaLabel"],"aria-label":v["controls.interactive.ariaLabel"],children:p?(0,N.jsx)(au,{}):(0,N.jsx)(ad,{})}),d]})}ax.displayName="Controls";let ap=(0,S.memo)(ax),af=(0,S.memo)(function({id:e,x:t,y:n,width:s,height:r,style:a,color:i,strokeColor:l,strokeWidth:o,className:c,borderRadius:d,shapeRendering:u,selected:m,onClick:h}){let{background:x,backgroundColor:p}=a||{};return(0,N.jsx)("rect",{className:A(["react-flow__minimap-node",{selected:m},c]),x:t,y:n,rx:d,ry:d,width:s,height:r,style:{fill:i||x||p,stroke:l,strokeWidth:o},shapeRendering:u,onClick:h?t=>h(t,e):void 0})}),ag=e=>e.nodes.map(e=>e.id),av=e=>e instanceof Function?e:()=>e,ay=(0,S.memo)(function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:s,nodeBorderRadius:r,nodeStrokeWidth:a,shapeRendering:i,NodeComponent:l,onClick:o}){let{node:c,x:d,y:u,width:m,height:h}=ss(t=>{let{internals:n}=t.nodeLookup.get(e),s=n.userNode,{x:r,y:a}=n.positionAbsolute,{width:i,height:l}=nu(s);return{node:s,x:r,y:a,width:i,height:l}},n7);return c&&!c.hidden&&nm(c)?(0,N.jsx)(l,{x:d,y:u,width:m,height:h,style:c.style,selected:!!c.selected,className:s(c),color:t(c),borderRadius:r,strokeColor:n(c),strokeWidth:a,shapeRendering:i,onClick:o,id:c.id}):null});var aj=(0,S.memo)(function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:s=5,nodeStrokeWidth:r,nodeComponent:a=af,onClick:i}){let l=ss(ag,n7),o=av(t),c=av(e),d=av(n);return(0,N.jsx)(N.Fragment,{children:l.map(e=>(0,N.jsx)(ay,{id:e,nodeColorFunc:o,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:s,nodeStrokeWidth:r,NodeComponent:a,onClick:i,shapeRendering:"crispEdges"},e))})});let aw=e=>!e.hidden,ab=e=>{let t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?t9(tY(e.nodeLookup,{filter:aw}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}};function aN({style:e,className:t,nodeStrokeColor:n,nodeColor:s,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:o,maskColor:c,maskStrokeColor:d,maskStrokeWidth:u,position:m="bottom-right",onClick:h,onNodeClick:x,pannable:p=!1,zoomable:f=!1,ariaLabel:g,inversePan:v,zoomStep:y=1,offsetScale:j=5}){let w=sr(),b=(0,S.useRef)(null),{boundingRect:k,viewBB:C,rfId:E,panZoom:M,translateExtent:_,flowWidth:D,flowHeight:P,ariaLabelConfig:T}=ss(ab,n7),z=e?.width??200,O=e?.height??150,R=Math.max(k.width/z,k.height/O),I=R*z,L=R*O,Z=j*R,$=k.x-(I-k.width)/2-Z,H=k.y-(L-k.height)/2-Z,V=I+2*Z,W=L+2*Z,B=`react-flow__minimap-desc-${E}`,F=(0,S.useRef)(0),U=(0,S.useRef)();F.current=R;let q=x?(0,S.useCallback)((e,t)=>{x(e,w.getState().nodeLookup.get(t).internals.userNode)},[]):void 0,Y=g??T["minimap.ariaLabel"];return(0,N.jsx)(sh,{position:m,style:{...e,"--xy-minimap-background-color-props":"string"==typeof o?o:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof c?c:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof d?d:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof u?u*R:void 0,"--xy-minimap-node-background-color-props":"string"==typeof s?s:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof i?i:void 0},className:A(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,N.jsxs)("svg",{width:z,height:O,viewBox:`${$} ${H} ${V} ${W}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":B,ref:b,onClick:h?e=>{let[t,n]=U.current?.pointer(e)||[0,0];h(e,{x:t,y:n})}:void 0,children:[Y&&(0,N.jsx)("title",{id:B,children:Y}),(0,N.jsx)(aj,{onClick:q,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:r,nodeStrokeWidth:i,nodeComponent:l}),(0,N.jsx)("path",{className:"react-flow__minimap-mask",d:`M${$-Z},${H-Z}h${V+2*Z}v${W+2*Z}h${-V-2*Z}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}aN.displayName="MiniMap";let aS=(0,S.memo)(aN);v.Line,v.Handle,n(7346);var ak=n(9580),aC=n(1500),aE=n(1109);let aM=(0,aE.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var aA=n(1372),a_=n(7139);let aD=(0,aE.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),aP=(0,aE.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var aT=n(6714);let az=(0,aE.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var aO=n(5429),aR=n(3516);let aI=(0,aE.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),aL=(0,aE.Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),aZ=(0,aE.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var a$=n(7744);let aH=(0,aE.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),aV=(0,aE.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var aW=n(1999);let aB=(0,aE.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),aF=(0,aE.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),aU=(0,aE.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),aq=(0,aE.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),aY=(0,aE.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),aK=[{name:"Triggers",description:"Start your workflow with these triggers",nodes:[{type:"slack-trigger",name:"Slack Message",description:"Triggered by Slack events",icon:aM,color:"bg-green-500"},{type:"teams-trigger",name:"Teams Message",description:"Triggered by Microsoft Teams events",icon:aM,color:"bg-blue-500"},{type:"webhook-trigger",name:"Webhook",description:"HTTP webhook trigger",icon:aA.Z,color:"bg-orange-500"},{type:"schedule-trigger",name:"Schedule",description:"Time-based trigger",icon:a_.Z,color:"bg-purple-500"},{type:"email-trigger",name:"Email",description:"Triggered by email events",icon:aD,color:"bg-red-500"},{type:"form-trigger",name:"Form Submit",description:"Triggered by form submissions",icon:aP,color:"bg-indigo-500"}]},{name:"AI Models",description:"AI-powered processing nodes",nodes:[{type:"gpt-4",name:"GPT-4",description:"OpenAI GPT-4 model",icon:aT.Z,color:"bg-green-600"},{type:"claude-3",name:"Claude 3",description:"Anthropic Claude 3 model",icon:aT.Z,color:"bg-orange-600"},{type:"gemini",name:"Gemini",description:"Google Gemini model",icon:aT.Z,color:"bg-blue-600"},{type:"dall-e",name:"DALL-E 3",description:"OpenAI image generation",icon:az,color:"bg-pink-600"},{type:"stable-diffusion",name:"Stable Diffusion",description:"Stability AI image generation",icon:az,color:"bg-purple-600"},{type:"whisper",name:"Whisper",description:"OpenAI speech-to-text",icon:aP,color:"bg-teal-600"}]},{name:"Data Sources",description:"Connect to external data sources",nodes:[{type:"google-drive",name:"Google Drive",description:"Access Google Drive files",icon:aO.Z,color:"bg-yellow-500"},{type:"google-sheets",name:"Google Sheets",description:"Read/write Google Sheets",icon:aR.Z,color:"bg-green-500"},{type:"airtable",name:"Airtable",description:"Access Airtable data",icon:aO.Z,color:"bg-orange-500"},{type:"notion",name:"Notion",description:"Read/write Notion pages",icon:aP,color:"bg-gray-600"},{type:"postgresql",name:"PostgreSQL",description:"Connect to PostgreSQL database",icon:aO.Z,color:"bg-blue-600"},{type:"mongodb",name:"MongoDB",description:"Connect to MongoDB database",icon:aO.Z,color:"bg-green-600"},{type:"aws-s3",name:"AWS S3",description:"Access AWS S3 buckets",icon:aO.Z,color:"bg-orange-600"}]},{name:"Communication",description:"Send messages and notifications",nodes:[{type:"slack-action",name:"Send Slack Message",description:"Send message to Slack",icon:aM,color:"bg-green-500"},{type:"teams-action",name:"Send Teams Message",description:"Send message to Microsoft Teams",icon:aM,color:"bg-blue-500"},{type:"discord-action",name:"Send Discord Message",description:"Send message to Discord",icon:aM,color:"bg-indigo-500"},{type:"email-action",name:"Send Email",description:"Send email message",icon:aD,color:"bg-red-500"},{type:"sms-action",name:"Send SMS",description:"Send SMS message",icon:aI,color:"bg-green-500"},{type:"telegram-action",name:"Send Telegram",description:"Send Telegram message",icon:aM,color:"bg-blue-500"}]},{name:"Processing",description:"Process and transform data",nodes:[{type:"text-processor",name:"Text Processor",description:"Process and transform text",icon:aP,color:"bg-yellow-500"},{type:"json-processor",name:"JSON Processor",description:"Parse and manipulate JSON",icon:aL,color:"bg-blue-500"},{type:"code-executor",name:"Code Executor",description:"Execute JavaScript code",icon:aL,color:"bg-gray-500"},{type:"filter",name:"Filter",description:"Filter data based on conditions",icon:aZ,color:"bg-teal-500"},{type:"mapper",name:"Data Mapper",description:"Map data between formats",icon:a$.Z,color:"bg-purple-500"},{type:"aggregator",name:"Aggregator",description:"Aggregate and combine data",icon:aR.Z,color:"bg-orange-500"}]},{name:"Business Apps",description:"Connect to business applications",nodes:[{type:"hubspot",name:"HubSpot",description:"Connect to HubSpot CRM",icon:aH,color:"bg-orange-500"},{type:"salesforce",name:"Salesforce",description:"Connect to Salesforce CRM",icon:aH,color:"bg-blue-500"},{type:"zendesk",name:"Zendesk",description:"Connect to Zendesk support",icon:aV,color:"bg-green-500"},{type:"intercom",name:"Intercom",description:"Connect to Intercom chat",icon:aM,color:"bg-blue-500"},{type:"jira",name:"Jira",description:"Connect to Jira issues",icon:aW.Z,color:"bg-blue-600"},{type:"asana",name:"Asana",description:"Connect to Asana tasks",icon:aW.Z,color:"bg-red-500"},{type:"trello",name:"Trello",description:"Connect to Trello boards",icon:aW.Z,color:"bg-blue-500"}]},{name:"E-commerce",description:"E-commerce and payment integrations",nodes:[{type:"shopify",name:"Shopify",description:"Connect to Shopify store",icon:aB,color:"bg-green-500"},{type:"woocommerce",name:"WooCommerce",description:"Connect to WooCommerce store",icon:aB,color:"bg-purple-500"},{type:"stripe",name:"Stripe",description:"Process payments with Stripe",icon:aF,color:"bg-indigo-500"},{type:"paypal",name:"PayPal",description:"Process payments with PayPal",icon:aF,color:"bg-blue-500"}]},{name:"Utilities",description:"Utility and helper nodes",nodes:[{type:"delay",name:"Delay",description:"Add delay to workflow",icon:a_.Z,color:"bg-gray-500"},{type:"branch",name:"Branch",description:"Split flow into multiple paths",icon:a$.Z,color:"bg-indigo-500"},{type:"merge",name:"Merge",description:"Merge multiple paths",icon:a$.Z,color:"bg-green-500"},{type:"error-handler",name:"Error Handler",description:"Handle errors in workflow",icon:aU,color:"bg-red-500"},{type:"logger",name:"Logger",description:"Log data for debugging",icon:aq,color:"bg-yellow-500"},{type:"counter",name:"Counter",description:"Count occurrences",icon:aY,color:"bg-blue-500"}]}];function aG(){let e=(e,t)=>{e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"};return N.jsx(aC.x,{className:"h-full",children:N.jsx("div",{className:"space-y-6",children:aK.map(t=>(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{children:[N.jsx("h4",{className:"font-semibold text-sm",children:t.name}),N.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]}),N.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.nodes.map(t=>{let n=t.icon;return N.jsx(ak.Zb,{className:"p-3 cursor-move hover:shadow-md transition-all duration-200 hover:scale-105",draggable:!0,onDragStart:n=>e(n,t.type),children:(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:`w-8 h-8 rounded ${t.color} flex items-center justify-center flex-shrink-0`,children:N.jsx(n,{className:"h-4 w-4 text-white"})}),(0,N.jsxs)("div",{className:"min-w-0 flex-1",children:[N.jsx("div",{className:"font-medium text-sm truncate",children:t.name}),N.jsx("div",{className:"text-xs text-muted-foreground truncate",children:t.description})]})]})},t.type)})}),t!==aK[aK.length-1]&&N.jsx(M.Z,{className:"my-4"})]},t.name))})})}var aX=n(4685),aJ=n(9231);let aQ=(0,aE.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),a0=(0,aE.Z)("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),a1=(0,aE.Z)("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);var a2=n(931);let a4=(0,aE.Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),a3=(0,aE.Z)("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),a5=(0,aE.Z)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),a6=(0,aE.Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),a8=(0,aE.Z)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),a7=(0,aE.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),a9=(0,aE.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ie=(0,aE.Z)("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),it=(0,aE.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),is=(0,aE.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ir=(0,aE.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var ia=n(6633);let ii=(0,aE.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),il=(0,aE.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),io=(0,aE.Z)("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]),ic=(0,aE.Z)("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]),id=(0,aE.Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),iu=(0,aE.Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),im=(0,aE.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function ih({isRunning:e=!1,onRun:t,onStop:n,onSave:s,onUndo:r,onRedo:a,onZoomIn:i,onZoomOut:l,onFitView:o,onToggleGrid:c,onToggleLock:d,onCopy:u,onCut:m,onPaste:h,canUndo:x=!1,canRedo:p=!1,hasUnsavedChanges:f=!1,zoomLevel:g=100,showGrid:v=!0,isLocked:y=!1}){let[j,w]=(0,S.useState)(!1);return(0,N.jsxs)("div",{className:"absolute top-4 left-4 right-4 z-10 flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 bg-background/95 backdrop-blur-sm border rounded-lg p-2 shadow-sm",children:[N.jsx("div",{className:"flex items-center gap-1",children:e?(0,N.jsxs)(C.z,{size:"sm",variant:"destructive",onClick:n,className:"flex items-center gap-1",children:[N.jsx(aX.Z,{className:"h-4 w-4"}),"Stop"]}):(0,N.jsxs)(C.z,{size:"sm",onClick:t,className:"flex items-center gap-1",children:[N.jsx(aJ.Z,{className:"h-4 w-4"}),"Run"]})}),N.jsx(M.Z,{orientation:"vertical",className:"h-6"}),N.jsx("div",{className:"flex items-center gap-1",children:(0,N.jsxs)(C.z,{size:"sm",variant:"outline",onClick:s,className:"flex items-center gap-1",children:[N.jsx(aQ,{className:"h-4 w-4"}),"Save",f&&N.jsx(E.C,{variant:"destructive",className:"text-xs ml-1",children:""})]})}),N.jsx(M.Z,{orientation:"vertical",className:"h-6"}),(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[N.jsx(C.z,{size:"sm",variant:"ghost",onClick:r,disabled:!x,title:"Undo",children:N.jsx(a0,{className:"h-4 w-4"})}),N.jsx(C.z,{size:"sm",variant:"ghost",onClick:a,disabled:!p,title:"Redo",children:N.jsx(a1,{className:"h-4 w-4"})})]}),N.jsx(M.Z,{orientation:"vertical",className:"h-6"}),(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[N.jsx(C.z,{size:"sm",variant:"ghost",onClick:u,title:"Copy",children:N.jsx(a2.Z,{className:"h-4 w-4"})}),N.jsx(C.z,{size:"sm",variant:"ghost",onClick:m,title:"Cut",children:N.jsx(a4,{className:"h-4 w-4"})}),N.jsx(C.z,{size:"sm",variant:"ghost",onClick:h,title:"Paste",children:N.jsx(a3,{className:"h-4 w-4"})})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2 bg-background/95 backdrop-blur-sm border rounded-lg px-3 py-2 shadow-sm",children:[e&&(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),N.jsx("span",{className:"text-sm font-medium",children:"Running..."})]}),f&&!e&&(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),N.jsx("span",{className:"text-sm text-muted-foreground",children:"Unsaved changes"})]}),!f&&!e&&(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),N.jsx("span",{className:"text-sm text-muted-foreground",children:"Saved"})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-1 bg-background/95 backdrop-blur-sm border rounded-lg p-2 shadow-sm",children:[N.jsx(C.z,{size:"sm",variant:"ghost",onClick:l,title:"Zoom Out",children:N.jsx(a5,{className:"h-4 w-4"})}),(0,N.jsxs)("div",{className:"px-2 py-1 text-xs font-medium min-w-[50px] text-center",children:[g,"%"]}),N.jsx(C.z,{size:"sm",variant:"ghost",onClick:i,title:"Zoom In",children:N.jsx(a6,{className:"h-4 w-4"})}),N.jsx(C.z,{size:"sm",variant:"ghost",onClick:o,title:"Fit to View",children:N.jsx(a8,{className:"h-4 w-4"})})]}),(0,N.jsxs)("div",{className:"flex items-center gap-1 bg-background/95 backdrop-blur-sm border rounded-lg p-2 shadow-sm",children:[N.jsx(C.z,{size:"sm",variant:v?"default":"ghost",onClick:c,title:"Toggle Grid",children:N.jsx(a7,{className:"h-4 w-4"})}),N.jsx(C.z,{size:"sm",variant:y?"default":"ghost",onClick:d,title:y?"Unlock Canvas":"Lock Canvas",children:y?N.jsx(a9,{className:"h-4 w-4"}):N.jsx(ie,{className:"h-4 w-4"})})]}),N.jsx("div",{className:"flex items-center gap-1 bg-background/95 backdrop-blur-sm border rounded-lg p-2 shadow-sm",children:N.jsx(C.z,{size:"sm",variant:"ghost",onClick:()=>w(!j),title:"More Options",children:N.jsx(aW.Z,{className:"h-4 w-4"})})})]}),j&&N.jsx("div",{className:"absolute top-16 right-4 bg-background/95 backdrop-blur-sm border rounded-lg p-2 shadow-lg",children:(0,N.jsxs)("div",{className:"flex flex-col gap-1 min-w-[200px]",children:[N.jsx("div",{className:"px-2 py-1 text-xs font-medium text-muted-foreground",children:"File Operations"}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(it,{className:"h-4 w-4 mr-2"}),"Import Workflow"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(is,{className:"h-4 w-4 mr-2"}),"Export Workflow"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(ir,{className:"h-4 w-4 mr-2"}),"Share Workflow"]}),N.jsx(M.Z,{className:"my-2"}),N.jsx("div",{className:"px-2 py-1 text-xs font-medium text-muted-foreground",children:"View Options"}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(ia.Z,{className:"h-4 w-4 mr-2"}),"Show Layers"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(aq,{className:"h-4 w-4 mr-2"}),"Show/Hide Nodes"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(ii,{className:"h-4 w-4 mr-2"}),"Hide Connections"]}),N.jsx(M.Z,{className:"my-2"}),N.jsx("div",{className:"px-2 py-1 text-xs font-medium text-muted-foreground",children:"Alignment"}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(il,{className:"h-4 w-4 mr-2"}),"Align Left"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(io,{className:"h-4 w-4 mr-2"}),"Align Center"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(ic,{className:"h-4 w-4 mr-2"}),"Align Right"]}),N.jsx(M.Z,{className:"my-2"}),N.jsx("div",{className:"px-2 py-1 text-xs font-medium text-muted-foreground",children:"Layer Order"}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(id,{className:"h-4 w-4 mr-2"}),"Bring Forward"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(iu,{className:"h-4 w-4 mr-2"}),"Send Backward"]}),N.jsx(M.Z,{className:"my-2"}),(0,N.jsxs)(C.z,{size:"sm",variant:"ghost",className:"justify-start",children:[N.jsx(im,{className:"h-4 w-4 mr-2"}),"Reset Canvas"]})]})}),j&&N.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>w(!1)})]})}var ix=n(9157),ip=n(1474);(function(){var e=Error("Cannot find module '@/components/ui/dropdown-menu'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}(),aJ.Z,ix.Z,ip.Z,function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}();let ig=S.forwardRef(({className:e,type:t,...n},s)=>N.jsx("input",{type:t,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));ig.displayName="Input";var iv=n(5579),iy=S.forwardRef((e,t)=>(0,N.jsx)(iv.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));iy.displayName="Label";var ij=n(9186);!function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}();let iw=(0,ij.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ib=S.forwardRef(({className:e,...t},n)=>N.jsx(iy,{ref:n,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())(iw(),e),...t}));ib.displayName=iy.displayName,function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}();let iN=S.forwardRef(({className:e,...t},n)=>N.jsx("textarea",{className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));iN.displayName="Textarea";let iS=(0,aE.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var ik=n(4431);let iC=(0,aE.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var iE=n(5248);function iM(){let[e,t]=(0,S.useState)({id:"llm-1",type:"gpt-4",title:"GPT-4 Chat",description:"Generate responses using OpenAI GPT-4",properties:[{key:"title",label:"Node Title",type:"string",value:"GPT-4 Chat",required:!0,description:"Display name for this node"},{key:"description",label:"Description",type:"textarea",value:"Generate responses using OpenAI GPT-4",description:"Brief description of what this node does"},{key:"model",label:"Model",type:"select",value:"gpt-4",options:["gpt-4","gpt-4-turbo","gpt-3.5-turbo"],required:!0,description:"AI model to use for generation"},{key:"temperature",label:"Temperature",type:"number",value:.7,min:0,max:2,description:"Controls randomness in responses (0-2)"},{key:"maxTokens",label:"Max Tokens",type:"number",value:1e3,min:1,max:4096,description:"Maximum number of tokens to generate"},{key:"systemPrompt",label:"System Prompt",type:"textarea",value:"You are a helpful AI assistant.",description:"System instructions for the AI model",placeholder:"Enter system instructions..."},{key:"enableStreaming",label:"Enable Streaming",type:"boolean",value:!1,description:"Stream responses as they are generated"},{key:"tools",label:"Available Tools",type:"array",value:["web_search","calculator"],description:"Tools that the AI can use"},{key:"metadata",label:"Metadata",type:"object",value:{version:"1.0",category:"ai",tags:["chat","gpt-4"]},description:"Additional metadata for this node"}]}),[n,s]=(0,S.useState)(!1),r=(n,r)=>{e&&(t(e=>({...e,properties:e.properties.map(e=>e.key===n?{...e,value:r}:e)})),s(!0))},a=e=>{switch(e.type){case"string":return N.jsx(ig,{value:e.value||"",onChange:t=>r(e.key,t.target.value),placeholder:e.placeholder,className:"mt-1"});case"number":return N.jsx(ig,{type:"number",value:e.value||"",onChange:t=>r(e.key,parseFloat(t.target.value)||0),min:e.min,max:e.max,step:"temperature"===e.key?.1:1,className:"mt-1"});case"boolean":return(0,N.jsxs)("div",{className:"flex items-center mt-1",children:[N.jsx("input",{type:"checkbox",checked:e.value||!1,onChange:t=>r(e.key,t.target.checked),className:"mr-2"}),N.jsx("span",{className:"text-sm",children:e.value?"Enabled":"Disabled"})]});case"select":return N.jsx("select",{value:e.value||"",onChange:t=>r(e.key,t.target.value),className:"w-full mt-1 p-2 border rounded-md",children:e.options?.map(e=>N.jsx("option",{value:e,children:e},e))});case"textarea":return N.jsx(iN,{value:e.value||"",onChange:t=>r(e.key,t.target.value),placeholder:e.placeholder,className:"mt-1 min-h-[100px]"});case"array":return(0,N.jsxs)("div",{className:"mt-1",children:[N.jsx("div",{className:"space-y-2",children:(e.value||[]).map((t,n)=>(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(ig,{value:t,onChange:t=>{let s=[...e.value||[]];s[n]=t.target.value,r(e.key,s)},className:"flex-1"}),N.jsx(C.z,{size:"sm",variant:"outline",onClick:()=>{let t=(e.value||[]).filter((e,t)=>t!==n);r(e.key,t)},children:N.jsx(iS,{className:"h-3 w-3"})})]},n))}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",onClick:()=>{let t=[...e.value||[],""];r(e.key,t)},className:"mt-2",children:[N.jsx(ik.Z,{className:"h-3 w-3 mr-1"}),"Add Item"]})]});case"object":return(0,N.jsxs)("div",{className:"mt-1",children:[N.jsx(iN,{value:JSON.stringify(e.value||{},null,2),onChange:t=>{try{let n=JSON.parse(t.target.value);r(e.key,n)}catch(e){}},className:"font-mono text-xs min-h-[120px]"}),N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter valid JSON format"})]});default:return N.jsx(ig,{value:e.value||"",onChange:t=>r(e.key,t.target.value),className:"mt-1"})}};return e?(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[(0,N.jsxs)("div",{className:"border-b p-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(aW.Z,{className:"h-5 w-5"}),"Properties"]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[n&&N.jsx(E.C,{variant:"outline",className:"text-orange-600",children:"Unsaved"}),N.jsx(C.z,{variant:"outline",size:"sm",onClick:()=>{s(!1)},disabled:!n,children:N.jsx(im,{className:"h-4 w-4"})}),N.jsx(C.z,{size:"sm",onClick:()=>{console.log("Saving node properties:",e),s(!1)},disabled:!n,children:N.jsx(aQ,{className:"h-4 w-4"})})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"gpt-4":case"gpt-3.5-turbo":case"claude-3":return N.jsx(aA.Z,{className:"h-4 w-4"});case"database":return N.jsx(aO.Z,{className:"h-4 w-4"});case"webhook":return N.jsx(aL,{className:"h-4 w-4"});default:return N.jsx(aW.Z,{className:"h-4 w-4"})}})(e.type),N.jsx("span",{className:"font-medium",children:e.title}),N.jsx(E.C,{className:{"gpt-4":"bg-green-100 text-green-800","gpt-3.5-turbo":"bg-blue-100 text-blue-800","claude-3":"bg-purple-100 text-purple-800",database:"bg-orange-100 text-orange-800",webhook:"bg-pink-100 text-pink-800"}[e.type]||"bg-gray-100 text-gray-800",children:e.type})]}),N.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{defaultValue:"properties",className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"properties",className:"rounded-none",children:"Properties"}),N.jsx(k.SP,{value:"validation",className:"rounded-none",children:"Validation"}),N.jsx(k.SP,{value:"styling",className:"rounded-none",children:"Styling"})]}),N.jsx(aC.x,{className:"flex-1",children:(0,N.jsxs)("div",{className:"p-4",children:[N.jsx(k.nU,{value:"properties",className:"m-0",children:(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"text-base flex items-center gap-2",children:[N.jsx(iC,{className:"h-4 w-4"}),"Basic Information"]})}),N.jsx(ak.aY,{className:"space-y-4",children:e.properties.filter(e=>["title","description"].includes(e.key)).map(e=>(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(ib,{children:e.label}),e.required&&N.jsx(E.C,{variant:"destructive",className:"text-xs",children:"Required"})]}),a(e),e.description&&N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]},e.key))})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"text-base flex items-center gap-2",children:[N.jsx(aA.Z,{className:"h-4 w-4"}),"Model Configuration"]})}),N.jsx(ak.aY,{className:"space-y-4",children:e.properties.filter(e=>["model","temperature","maxTokens","systemPrompt","enableStreaming"].includes(e.key)).map(e=>(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(ib,{children:e.label}),e.required&&N.jsx(E.C,{variant:"destructive",className:"text-xs",children:"Required"})]}),a(e),e.description&&N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]},e.key))})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"text-base flex items-center gap-2",children:[N.jsx(aW.Z,{className:"h-4 w-4"}),"Advanced Configuration"]})}),N.jsx(ak.aY,{className:"space-y-4",children:e.properties.filter(e=>["tools","metadata"].includes(e.key)).map(e=>(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(ib,{children:e.label}),e.required&&N.jsx(E.C,{variant:"destructive",className:"text-xs",children:"Required"})]}),a(e),e.description&&N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]},e.key))})]})]})}),N.jsx(k.nU,{value:"validation",className:"m-0",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{className:"text-base",children:"Validation Rules"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Input Validation"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{children:"None"}),N.jsx("option",{children:"Required field"}),N.jsx("option",{children:"Email format"}),N.jsx("option",{children:"URL format"}),N.jsx("option",{children:"Custom regex"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Output Validation"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{children:"None"}),N.jsx("option",{children:"Non-empty response"}),N.jsx("option",{children:"JSON format"}),N.jsx("option",{children:"Custom validation"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Error Handling"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{children:"Stop workflow"}),N.jsx("option",{children:"Continue with error"}),N.jsx("option",{children:"Retry with backoff"}),N.jsx("option",{children:"Use fallback"})]})]})]})]})}),N.jsx(k.nU,{value:"styling",className:"m-0",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{className:"text-base",children:"Node Appearance"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Node Color"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[N.jsx("div",{className:"w-8 h-8 rounded border bg-blue-500"}),N.jsx(ig,{type:"color",value:"#3b82f6",className:"w-16"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Border Style"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{children:"Solid"}),N.jsx("option",{children:"Dashed"}),N.jsx("option",{children:"Dotted"}),N.jsx("option",{children:"None"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Size"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{children:"Auto"}),N.jsx("option",{children:"Small"}),N.jsx("option",{children:"Medium"}),N.jsx("option",{children:"Large"})]})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ib,{children:"Show Icon"}),N.jsx("input",{type:"checkbox",defaultChecked:!0})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ib,{children:"Show Badge"}),N.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})]})})]})})]})}),N.jsx("div",{className:"border-t p-4",children:(0,N.jsxs)("div",{className:"flex gap-2",children:[(0,N.jsxs)(C.z,{variant:"outline",size:"sm",className:"flex-1",children:[N.jsx(a2.Z,{className:"h-4 w-4 mr-1"}),"Duplicate"]}),(0,N.jsxs)(C.z,{variant:"destructive",size:"sm",className:"flex-1",children:[N.jsx(iE.Z,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]}):(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(aW.Z,{className:"h-5 w-5"}),"Properties"]})}),N.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,N.jsxs)("div",{className:"text-center",children:[N.jsx(aq,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),N.jsx("p",{children:"Select a node to view its properties"})]})})]})}let{useDebugValue:iA}=S,{useSyncExternalStoreWithSelector:i_}=nQ,iD=!1,iP=e=>e,iT=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?n1(e):e,n=(e,n)=>(function(e,t=iP,n){n&&!iD&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),iD=!0);let s=i_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return iA(s),s})(t,e,n);return Object.assign(n,t),n},iz=new Map,iO=e=>{let t=iz.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},iR=(e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};let s=iz.get(n.name);if(s)return{type:"tracked",store:e,...s};let r={connection:t.connect(n),stores:{}};return iz.set(n.name,r),{type:"tracked",store:e,...r}},iI=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)},iL=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>iL(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>iL(t)(e)}}},iZ={workflow:null,workflows:[],isLoading:!1,error:null,nodes:[],edges:[],selectedNode:null,viewport:{x:0,y:0,zoom:1},isDirty:!1,lastSaved:void 0,isExecuting:!1,executionId:null,executionTrace:[],executionResults:{}},i$=(s?iT(s):iT)();((e,t={})=>(n,s,r)=>{let a;let{enabled:i,anonymousActionType:l,store:o,...c}=t;try{a=(null==i||i)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!a)return i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,s,r);let{connection:d,...u}=iR(o,a,c),m=!0;r.setState=(e,t,a)=>{let i=n(e,t);if(!m)return i;let u=void 0===a?{type:l||"anonymous"}:"string"==typeof a?{type:a}:a;return void 0===o?null==d||d.send(u,s()):null==d||d.send({...u,type:`${o}/${u.type}`},{...iO(c.name),[o]:r.getState()}),i};let h=(...e)=>{let t=m;m=!1,n(...e),m=t},x=e(r.setState,s,r);if("untracked"===u.type?null==d||d.init(x):(u.stores[u.store]=r,null==d||d.init(Object.fromEntries(Object.entries(u.stores).map(([e,t])=>[e,e===u.store?x:t.getState()])))),r.dispatchFromDevtools&&"function"==typeof r.dispatch){let e=!1,t=r.dispatch;r.dispatch=(...n)=>{"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return d.subscribe(e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return iI(e.payload,e=>{if("__setState"===e.type){if(void 0===o){h(e.state);return}1!==Object.keys(e.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let t=e.state[o];if(null==t)return;JSON.stringify(r.getState())!==JSON.stringify(t)&&h(t);return}r.dispatchFromDevtools&&"function"==typeof r.dispatch&&r.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":if(h(x),void 0===o)return null==d?void 0:d.init(r.getState());return null==d?void 0:d.init(iO(c.name));case"COMMIT":if(void 0===o){null==d||d.init(r.getState());break}return null==d?void 0:d.init(iO(c.name));case"ROLLBACK":return iI(e.state,e=>{if(void 0===o){h(e),null==d||d.init(r.getState());return}h(e[o]),null==d||d.init(iO(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return iI(e.state,e=>{if(void 0===o){h(e);return}JSON.stringify(r.getState())!==JSON.stringify(e[o])&&h(e[o])});case"IMPORT_STATE":{let{nextLiftedState:n}=e.payload,s=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!s)return;void 0===o?h(s):h(s[o]),null==d||d.send(null,n);break}case"PAUSE_RECORDING":return m=!m}return}}),x})((r=(e,t)=>({...iZ,setWorkflow:t=>{e({workflow:t,nodes:t.definition.nodes||[],edges:t.definition.edges||[],viewport:t.definition.viewport||{x:0,y:0,zoom:1},isDirty:!1})},updateWorkflow:async(t,n)=>{e({isLoading:!0});try{let s=await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                  mutation UpdateWorkflow($id: ID!, $input: UpdateWorkflowInput!) {
                    updateWorkflow(id: $id, input: $input) {
                      id
                      name
                      description
                      version
                      status
                      definition
                      tags
                      updatedAt
                    }
                  }
                `,variables:{id:t,input:n}})}),r=await s.json();if(r.errors)throw Error(r.errors[0].message);let a=r.data.updateWorkflow;e(e=>({workflow:e.workflow?.id===t?a:e.workflow,workflows:e.workflows.map(e=>e.id===t?a:e),isDirty:!1,lastSaved:new Date}))}catch(t){e({error:t instanceof Error?t.message:"Update failed"})}finally{e({isLoading:!1})}},createWorkflow:async t=>{e({isLoading:!0});try{let n=await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                  mutation CreateWorkflow($input: CreateWorkflowInput!) {
                    createWorkflow(input: $input) {
                      id
                      name
                      description
                      version
                      status
                      definition
                      tags
                      createdAt
                      updatedAt
                    }
                  }
                `,variables:{input:t}})}),s=await n.json();if(s.errors)throw Error(s.errors[0].message);let r=s.data.createWorkflow;return e(e=>({workflows:[...e.workflows,r],workflow:r})),r}catch(t){throw e({error:t instanceof Error?t.message:"Creation failed"}),t}finally{e({isLoading:!1})}},deleteWorkflow:async t=>{e({isLoading:!0});try{let n=await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                  mutation DeleteWorkflow($id: ID!) {
                    deleteWorkflow(id: $id)
                  }
                `,variables:{id:t}})}),s=await n.json();if(s.errors)throw Error(s.errors[0].message);e(e=>({workflows:e.workflows.filter(e=>e.id!==t),workflow:e.workflow?.id===t?null:e.workflow}))}catch(t){e({error:t instanceof Error?t.message:"Deletion failed"})}finally{e({isLoading:!1})}},duplicateWorkflow:async e=>{let n=t().workflows.find(t=>t.id===e);if(!n)throw Error("Workflow not found");return t().createWorkflow({...n,name:`${n.name} (Copy)`,status:"draft",publishedAt:void 0})},publishWorkflow:async e=>{await t().updateWorkflow(e,{status:"published",publishedAt:new Date})},setNodes:t=>{e({nodes:t,isDirty:!0})},setEdges:t=>{e({edges:t,isDirty:!0})},addNode:t=>{e(e=>({nodes:[...e.nodes,t],isDirty:!0}))},updateNode:(t,n)=>{e(e=>({nodes:e.nodes.map(e=>e.id===t?{...e,...n}:e),isDirty:!0}))},deleteNode:t=>{e(e=>({nodes:e.nodes.filter(e=>e.id!==t),edges:e.edges.filter(e=>e.source!==t&&e.target!==t),selectedNode:e.selectedNode?.id===t?null:e.selectedNode,isDirty:!0}))},selectNode:t=>{e({selectedNode:t})},setViewport:t=>{e({viewport:t,isDirty:!0})},saveWorkflow:async()=>{let e=t();e.workflow&&e.isDirty&&await e.updateWorkflow(e.workflow.id,{definition:{nodes:e.nodes,edges:e.edges,viewport:e.viewport}})},loadWorkflow:async n=>{e({isLoading:!0});try{let e=await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                  query GetWorkflow($id: ID!) {
                    workflow(id: $id) {
                      id
                      name
                      description
                      version
                      status
                      definition
                      metadata
                      tags
                      createdAt
                      updatedAt
                      publishedAt
                    }
                  }
                `,variables:{id:n}})}),s=await e.json();if(s.errors)throw Error(s.errors[0].message);let r=s.data.workflow;t().setWorkflow(r)}catch(t){e({error:t instanceof Error?t.message:"Load failed"})}finally{e({isLoading:!1})}},exportWorkflow:async e=>{let n=t().workflows.find(t=>t.id===e);if(!n)throw Error("Workflow not found");return JSON.stringify({...n,exportedAt:new Date().toISOString(),version:"1.0.0"},null,2)},importWorkflow:async e=>{try{let{id:n,createdAt:s,updatedAt:r,...a}=JSON.parse(e);return t().createWorkflow({...a,name:`${a.name} (Imported)`,status:"draft"})}catch(e){throw Error("Invalid workflow data")}},executeWorkflow:async(n,s={})=>{e({isExecuting:!0,executionTrace:[],executionResults:{}});try{let r=await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                  mutation ExecuteWorkflow($workflowId: ID!, $input: JSON!) {
                    executeWorkflow(workflowId: $workflowId, input: $input) {
                      id
                      status
                      output
                      metadata
                    }
                  }
                `,variables:{workflowId:n,input:s}})}),a=await r.json();if(a.errors)throw Error(a.errors[0].message);let i=a.data.executeWorkflow;e({executionId:i.id,executionResults:i.output||{}}),t().pollExecutionTrace(i.id)}catch(t){e({error:t instanceof Error?t.message:"Execution failed"})}},stopExecution:async t=>{try{await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                  mutation CancelExecution($id: ID!) {
                    cancelExecution(id: $id) {
                      id
                      status
                    }
                  }
                `,variables:{id:t}})}),e({isExecuting:!1,executionId:null})}catch(t){e({error:t instanceof Error?t.message:"Stop failed"})}},getExecutionTrace:async t=>{try{let n=await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                  query GetExecution($id: ID!) {
                    execution(id: $id) {
                      id
                      status
                      steps {
                        id
                        stepId
                        name
                        status
                        input
                        output
                        error
                        duration
                        startedAt
                        completedAt
                      }
                    }
                  }
                `,variables:{id:t}})}),s=await n.json();if(s.errors)throw Error(s.errors[0].message);let r=s.data.execution?.steps||[];return e({executionTrace:r}),r}catch(t){return e({error:t instanceof Error?t.message:"Trace fetch failed"}),[]}},pollExecutionTrace:async n=>{let s=async()=>{let r=t();r.isExecuting&&r.executionId===n&&((await r.getExecutionTrace(n)).some(e=>"success"===e.status||"failed"===e.status)?e({isExecuting:!1}):setTimeout(s,1e3))};s()},resetState:()=>{e(iZ)},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})}}),"getStorage"in(a={name:"flow-store",partialize:e=>({workflows:e.workflows,viewport:e.viewport})})||"serialize"in a||"deserialize"in a?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),i=r,l=a,(e,t,n)=>{let s,r,a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...l},o=!1,c=new Set,d=new Set;try{s=a.getStorage()}catch(e){}if(!s)return i((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...t)},t,n);let u=iL(a.serialize),m=()=>{let e;let n=u({state:a.partialize({...t()}),version:a.version}).then(e=>s.setItem(a.name,e)).catch(t=>{e=t});if(e)throw e;return n},h=n.setState;n.setState=(e,t)=>{h(e,t),m()};let x=i((...t)=>{e(...t),m()},t,n),p=()=>{var n;if(!s)return;o=!1,c.forEach(e=>e(t()));let i=(null==(n=a.onRehydrateStorage)?void 0:n.call(a,t()))||void 0;return iL(s.getItem.bind(s))(a.name).then(e=>{if(e)return a.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(n=>{var s;return e(r=a.merge(n,null!=(s=t())?s:x),!0),m()}).then(()=>{null==i||i(r,void 0),o=!0,d.forEach(e=>e(r))}).catch(e=>{null==i||i(void 0,e)})};return n.persist={setOptions:e=>{a={...a,...e},e.getStorage&&(s=e.getStorage())},clearStorage:()=>{null==s||s.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},p(),r||x}):(o=r,c=a,(e,t,n)=>{let s,r={storage:function(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var t;let s=e=>null===e?null:JSON.parse(e,void 0),r=null!=(t=n.getItem(e))?t:null;return r instanceof Promise?r.then(s):s(r)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...c},a=!1,i=new Set,l=new Set,d=r.storage;if(!d)return o((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),e(...t)},t,n);let u=()=>{let e=r.partialize({...t()});return d.setItem(r.name,{state:e,version:r.version})},m=n.setState;n.setState=(e,t)=>{m(e,t),u()};let h=o((...t)=>{e(...t),u()},t,n);n.getInitialState=()=>h;let x=()=>{var n,o;if(!d)return;a=!1,i.forEach(e=>{var n;return e(null!=(n=t())?n:h)});let c=(null==(o=r.onRehydrateStorage)?void 0:o.call(r,null!=(n=t())?n:h))||void 0;return iL(d.getItem.bind(d))(r.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===r.version)return[!1,e.state];if(r.migrate)return[!0,r.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(n=>{var a;let[i,l]=n;if(e(s=r.merge(l,null!=(a=t())?a:h),!0),i)return u()}).then(()=>{null==c||c(s,void 0),s=t(),a=!0,l.forEach(e=>e(s))}).catch(e=>{null==c||c(void 0,e)})};return n.persist={setOptions:e=>{r={...r,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},r.skipHydration||x(),s||h})),{name:"FlowStore"});var iH=n(9300);let iV={"flow-node":b.FlowNode},iW=[{id:"trigger-1",type:"flow-node",position:{x:100,y:100},data:{type:"trigger",title:"Slack Message",description:"Triggered when a new message is posted in Slack",icon:aM,color:"bg-green-500",config:{channel:"#general",triggerOn:"mention"}}},{id:"llm-1",type:"flow-node",position:{x:400,y:100},data:{type:"llm",title:"GPT-4",description:"Generate response using GPT-4",icon:aT.Z,color:"bg-blue-500",config:{model:"gpt-4",temperature:.7,maxTokens:1e3}}},{id:"action-1",type:"flow-node",position:{x:700,y:100},data:{type:"action",title:"Send Response",description:"Send response back to Slack",icon:aM,color:"bg-purple-500",config:{channel:"same",responseType:"thread"}}}],iB=[{id:"e1-2",source:"trigger-1",target:"llm-1",type:"smoothstep"},{id:"e2-3",source:"llm-1",target:"action-1",type:"smoothstep"}];function iF({workflowId:e}){let[t,n,s]=function(e){let[t,n]=(0,S.useState)(e),s=(0,S.useCallback)(e=>n(t=>s_(e,t)),[]);return[t,n,s]}(iW),[r,a,i]=function(e){let[t,n]=(0,S.useState)(e),s=(0,S.useCallback)(e=>n(t=>s_(e,t)),[]);return[t,n,s]}(iB),[l,o]=(0,S.useState)(null),[c,d]=(0,S.useState)(!1),u=(0,S.useRef)(null),{workflow:m,updateWorkflow:h}=i$(),x=(0,S.useCallback)(e=>{a(t=>nE(e,t))},[a]),p=(0,S.useCallback)((e,t)=>{o(t),d(!0)},[]),f=(0,S.useCallback)(()=>{o(null),d(!1)},[]),g=(0,S.useCallback)(e=>{e.preventDefault();let t=u.current?.getBoundingClientRect(),s=e.dataTransfer.getData("application/reactflow");if(void 0===s||!s||!t)return;let r={x:e.clientX-t.left,y:e.clientY-t.top},a={id:`${s}-${Date.now()}`,type:"flow-node",position:r,data:j(s)};n(e=>e.concat(a))},[n]),v=(0,S.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),j=e=>({"slack-trigger":{type:"trigger",title:"Slack Trigger",description:"Triggered by Slack events",icon:aM,color:"bg-green-500",config:{}},"gpt-4":{type:"llm",title:"GPT-4",description:"OpenAI GPT-4 model",icon:aT.Z,color:"bg-blue-500",config:{}},"vector-search":{type:"data",title:"Vector Search",description:"Search in vector database",icon:aO.Z,color:"bg-orange-500",config:{}},"image-gen":{type:"llm",title:"Image Generation",description:"Generate images with DALL-E",icon:az,color:"bg-pink-500",config:{}},"text-processor":{type:"processor",title:"Text Processor",description:"Process and transform text",icon:aP,color:"bg-yellow-500",config:{}},"code-executor":{type:"processor",title:"Code Executor",description:"Execute JavaScript code",icon:aL,color:"bg-gray-500",config:{}},webhook:{type:"action",title:"Webhook",description:"Send HTTP webhook",icon:aA.Z,color:"bg-red-500",config:{}},filter:{type:"processor",title:"Filter",description:"Filter data based on conditions",icon:aZ,color:"bg-teal-500",config:{}},branch:{type:"processor",title:"Branch",description:"Split flow into multiple paths",icon:a$.Z,color:"bg-indigo-500",config:{}}})[e]||{type:"processor",title:"Unknown Node",description:"Unknown node type",icon:aW.Z,color:"bg-gray-500",config:{}},w=(0,S.useCallback)(async()=>{e&&await h(e,{definition:{nodes:t,edges:r,viewport:{x:0,y:0,zoom:1}},updatedAt:new Date})},[t,r,e,h]);return(0,N.jsxs)("div",{className:"h-full flex",children:[N.jsx(ak.Zb,{className:"w-80 flex-shrink-0 border-r",children:(0,N.jsxs)("div",{className:"p-4",children:[N.jsx("h3",{className:"font-semibold mb-4",children:"Flow Components"}),N.jsx(aC.x,{className:"h-[calc(100vh-200px)]",children:N.jsx(aG,{})})]})}),N.jsx("div",{className:"flex-1 relative",ref:u,children:(0,N.jsxs)(ae,{nodes:t,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:x,onNodeClick:p,onPaneClick:f,onDrop:g,onDragOver:v,nodeTypes:iV,fitView:!0,className:"bg-background",children:[N.jsx(ai,{variant:y.Dots,gap:20,size:1}),N.jsx(ap,{}),N.jsx(aS,{className:"!bg-background !border !border-border"}),N.jsx(sh,{position:"top-left",children:N.jsx(ih,{onSave:w})}),N.jsx(sh,{position:"top-center",children:N.jsx(ak.Zb,{className:"px-4 py-2",children:(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(iH.Z,{className:"h-4 w-4"}),N.jsx("span",{className:"font-medium",children:m?.name||"Untitled Workflow"}),N.jsx(M.Z,{orientation:"vertical",className:"h-4"}),(0,N.jsxs)("span",{className:"text-sm text-muted-foreground",children:[t.length," nodes, ",r.length," connections"]})]})})})]})}),c&&l&&N.jsx(ak.Zb,{className:"w-80 flex-shrink-0 border-l",children:N.jsx(iM,{node:l,onNodeUpdate:e=>{n(t=>t.map(t=>t.id===l.id?{...t,data:{...t.data,...e}}:t))},onClose:()=>d(!1)})})]})}let iU=(0,aE.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),iq=(0,aE.Z)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);function iY({workflowId:e}){let[t,n]=(0,S.useState)("test-cases"),[s,r]=(0,S.useState)(!1),[a,i]=(0,S.useState)(null),[l,o]=(0,S.useState)([{id:"test-1",name:"Basic Message Processing",description:"Test basic message processing with GPT-4",inputs:{message:"Hello, how are you?",context:"casual conversation"},expectedOutputs:{response:"Should contain greeting response",confidence:">0.8"},status:"passed",duration:1250,actualOutputs:{response:"Hello! I'm doing well, thank you for asking. How can I help you today?",confidence:.92}},{id:"test-2",name:"Error Handling",description:"Test workflow behavior with invalid inputs",inputs:{message:"",context:null},expectedOutputs:{error:"Should handle empty message gracefully"},status:"failed",duration:500,error:"Validation error: message cannot be empty",actualOutputs:{error:"ValidationError: message is required"}},{id:"test-3",name:"Performance Benchmark",description:"Test response time under load",inputs:{message:"Complex analysis request with multiple parameters",context:"performance testing"},expectedOutputs:{response:"Should respond within 2 seconds",latency:"<2000ms"},status:"pending"}]),c=async()=>{for(let e of(r(!0),l)){i(e.id),o(t=>t.map(t=>t.id===e.id?{...t,status:"running"}:t)),await new Promise(e=>setTimeout(e,1e3+2e3*Math.random()));let t=Math.random()>.3;o(n=>n.map(n=>n.id===e.id?{...n,status:t?"passed":"failed",duration:Math.floor(500+2e3*Math.random()),error:t?void 0:"Test assertion failed",actualOutputs:t?e.expectedOutputs:{error:"Unexpected result"}}:n))}r(!1),i(null)},d=async e=>{i(e),o(t=>t.map(t=>t.id===e?{...t,status:"running"}:t)),await new Promise(e=>setTimeout(e,1500));let t=Math.random()>.2;o(n=>n.map(n=>n.id===e?{...n,status:t?"passed":"failed",duration:Math.floor(500+2e3*Math.random()),error:t?void 0:"Test assertion failed"}:n)),i(null)},u=e=>{switch(e){case"passed":return N.jsx(ix.Z,{className:"h-4 w-4 text-green-500"});case"failed":return N.jsx(iU,{className:"h-4 w-4 text-red-500"});case"running":return N.jsx(a_.Z,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return N.jsx(ip.Z,{className:"h-4 w-4 text-gray-400"})}},m=e=>N.jsx(E.C,{variant:{passed:"default",failed:"destructive",running:"secondary",pending:"outline"}[e],className:"ml-2",children:e}),h=l.filter(e=>"passed"===e.status).length,x=l.filter(e=>"failed"===e.status).length,p=l.length;return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(iq,{className:"h-5 w-5"}),"Test Runner"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Test your workflow with different inputs and scenarios"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)(E.C,{variant:"outline",children:[h,"/",p," Passed"]}),x>0&&(0,N.jsxs)(E.C,{variant:"destructive",children:[x," Failed"]}),(0,N.jsxs)(C.z,{onClick:c,disabled:s,className:"flex items-center gap-2",children:[s?N.jsx(aX.Z,{className:"h-4 w-4"}):N.jsx(aJ.Z,{className:"h-4 w-4"}),s?"Stop Tests":"Run All Tests"]})]})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:t,onValueChange:n,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"test-cases",className:"rounded-none",children:"Test Cases"}),N.jsx(k.SP,{value:"results",className:"rounded-none",children:"Results"}),N.jsx(k.SP,{value:"coverage",className:"rounded-none",children:"Coverage"}),N.jsx(k.SP,{value:"settings",className:"rounded-none",children:"Settings"})]}),N.jsx(k.nU,{value:"test-cases",className:"flex-1 m-0 p-4",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ak.ll,{className:"text-base",children:"Test Cases"}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",children:[N.jsx(ik.Z,{className:"h-4 w-4 mr-1"}),"Add Test"]})]})}),N.jsx(ak.aY,{className:"pt-0",children:N.jsx(aC.x,{className:"h-[400px]",children:N.jsx("div",{className:"space-y-2",children:l.map(e=>(0,N.jsxs)("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${a===e.id?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>i(e.id),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[u(e.status),N.jsx("span",{className:"font-medium",children:e.name}),m(e.status)]}),(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[N.jsx(C.z,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),d(e.id)},disabled:"running"===e.status,children:N.jsx(aJ.Z,{className:"h-3 w-3"})}),N.jsx(C.z,{size:"sm",variant:"ghost",children:N.jsx(a2.Z,{className:"h-3 w-3"})}),N.jsx(C.z,{size:"sm",variant:"ghost",children:N.jsx(iE.Z,{className:"h-3 w-3"})})]})]}),N.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),e.duration&&(0,N.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Duration: ",e.duration,"ms"]})]},e.id))})})})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Test Details"})}),N.jsx(ak.aY,{className:"pt-0",children:a?N.jsx(aC.x,{className:"h-[400px]",children:(()=>{let e=l.find(e=>e.id===a);return e?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Name"}),N.jsx("p",{className:"text-sm",children:e.name})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Description"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Input Data"}),N.jsx("pre",{className:"mt-1 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(e.inputs,null,2)})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Expected Output"}),N.jsx("pre",{className:"mt-1 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(e.expectedOutputs,null,2)})]}),e.actualOutputs&&(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Actual Output"}),N.jsx("pre",{className:"mt-1 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(e.actualOutputs,null,2)})]}),e.error&&(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium text-red-600",children:"Error"}),N.jsx("p",{className:"mt-1 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:e.error})]})]}):null})()}):N.jsx("div",{className:"flex items-center justify-center h-[400px] text-muted-foreground",children:"Select a test case to view details"})})]})]})}),N.jsx(k.nU,{value:"results",className:"flex-1 m-0 p-4",children:(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tests"}),N.jsx("p",{className:"text-2xl font-bold",children:p})]}),N.jsx(iq,{className:"h-8 w-8 text-muted-foreground"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Passed"}),N.jsx("p",{className:"text-2xl font-bold text-green-600",children:h})]}),N.jsx(ix.Z,{className:"h-8 w-8 text-green-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),N.jsx("p",{className:"text-2xl font-bold text-red-600",children:x})]}),N.jsx(iU,{className:"h-8 w-8 text-red-500"})]})})})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Test Results History"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Test history and detailed results would be displayed here"})})]})]})}),N.jsx(k.nU,{value:"coverage",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Test Coverage"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Test coverage analysis and workflow path coverage would be displayed here"})})]})}),N.jsx(k.nU,{value:"settings",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(aW.Z,{className:"h-5 w-5"}),"Test Settings"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Test Timeout (seconds)"}),N.jsx(ig,{type:"number",defaultValue:"30",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Parallel Execution"}),(0,N.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[N.jsx("input",{type:"checkbox",id:"parallel"}),N.jsx("label",{htmlFor:"parallel",className:"text-sm",children:"Run tests in parallel"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Environment"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Development"}),N.jsx("option",{children:"Staging"}),N.jsx("option",{children:"Production"})]})]})]})]})})]})})]})}function iK(e,[t,n]){return Math.min(n,Math.max(t,e))}var iG=n(3074),iX=n(8369),iJ=n(5604),iQ=n(6016),i0=n(6748),i1=n(4228),i2="dismissableLayer.update",i4=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),i3=S.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...o}=e,c=S.useContext(i4),[d,u]=S.useState(null),m=d?.ownerDocument??globalThis?.document,[,h]=S.useState({}),x=(0,iJ.e)(t,e=>u(e)),p=Array.from(c.layers),[f]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(f),v=d?p.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=g,b=function(e,t=globalThis?.document){let n=(0,i1.W)(e),s=S.useRef(!1),r=S.useRef(()=>{});return S.useEffect(()=>{let e=e=>{if(e.target&&!s.current){let s=function(){i6("dismissableLayer.pointerDownOutside",n,a,{discrete:!0})},a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",r.current),r.current=s,t.addEventListener("click",r.current,{once:!0})):s()}else t.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}(e=>{let t=e.target,n=[...c.branches].some(e=>e.contains(t));!w||n||(r?.(e),i?.(e),e.defaultPrevented||l?.())},m),k=function(e,t=globalThis?.document){let n=(0,i1.W)(e),s=S.useRef(!1);return S.useEffect(()=>{let e=e=>{e.target&&!s.current&&i6("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}(e=>{let t=e.target;[...c.branches].some(e=>e.contains(t))||(a?.(e),i?.(e),e.defaultPrevented||l?.())},m);return function(e,t=globalThis?.document){let n=(0,i1.W)(e);S.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{v!==c.layers.size-1||(s?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},m),S.useEffect(()=>{if(d)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(j=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),i5(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=j)}},[d,m,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),i5())},[d,c]),S.useEffect(()=>{let e=()=>h({});return document.addEventListener(i2,e),()=>document.removeEventListener(i2,e)},[]),(0,N.jsx)(iv.WV.div,{...o,ref:x,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:(0,iG.Mj)(e.onFocusCapture,k.onFocusCapture),onBlurCapture:(0,iG.Mj)(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:(0,iG.Mj)(e.onPointerDownCapture,b.onPointerDownCapture)})});function i5(){let e=new CustomEvent(i2);document.dispatchEvent(e)}function i6(e,t,n,{discrete:s}){let r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?(0,iv.jH)(r,a):r.dispatchEvent(a)}i3.displayName="DismissableLayer",S.forwardRef((e,t)=>{let n=S.useContext(i4),s=S.useRef(null),r=(0,iJ.e)(t,s);return S.useEffect(()=>{let e=s.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,N.jsx)(iv.WV.div,{...e,ref:r})}).displayName="DismissableLayerBranch";var i8=0;function i7(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var i9="focusScope.autoFocusOnMount",le="focusScope.autoFocusOnUnmount",lt={bubbles:!1,cancelable:!0},ln=S.forwardRef((e,t)=>{let{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...i}=e,[l,o]=S.useState(null),c=(0,i1.W)(r),d=(0,i1.W)(a),u=S.useRef(null),m=(0,iJ.e)(t,e=>o(e)),h=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(s){let e=function(e){if(h.paused||!l)return;let t=e.target;l.contains(t)?u.current=t:la(u.current,{select:!0})},t=function(e){if(h.paused||!l)return;let t=e.relatedTarget;null===t||l.contains(t)||la(u.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&la(l)});return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[s,l,h.paused]),S.useEffect(()=>{if(l){li.add(h);let e=document.activeElement;if(!l.contains(e)){let t=new CustomEvent(i9,lt);l.addEventListener(i9,c),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let s of e)if(la(s,{select:t}),document.activeElement!==n)return}(ls(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&la(l))}return()=>{l.removeEventListener(i9,c),setTimeout(()=>{let t=new CustomEvent(le,lt);l.addEventListener(le,d),l.dispatchEvent(t),t.defaultPrevented||la(e??document.body,{select:!0}),l.removeEventListener(le,d),li.remove(h)},0)}}},[l,c,d,h]);let x=S.useCallback(e=>{if(!n&&!s||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){let t=e.currentTarget,[s,a]=function(e){let t=ls(e);return[lr(t,e),lr(t.reverse(),e)]}(t);s&&a?e.shiftKey||r!==a?e.shiftKey&&r===s&&(e.preventDefault(),n&&la(a,{select:!0})):(e.preventDefault(),n&&la(s,{select:!0})):r===t&&e.preventDefault()}},[n,s,h.paused]);return(0,N.jsx)(iv.WV.div,{tabIndex:-1,...i,ref:m,onKeyDown:x})});function ls(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lr(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function la(e,{select:t=!1}={}){if(e&&e.focus){var n;let s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}ln.displayName="FocusScope";var li=function(){let e=[];return{add(t){let n=e[0];t!==n&&n?.pause(),(e=ll(e,t)).unshift(t)},remove(t){e=ll(e,t),e[0]?.resume()}}}();function ll(e,t){let n=[...e],s=n.indexOf(t);return -1!==s&&n.splice(s,1),n}var lo=n(4514);let lc=["top","right","bottom","left"],ld=Math.min,lu=Math.max,lm=Math.round,lh=Math.floor,lx=e=>({x:e,y:e}),lp={left:"right",right:"left",bottom:"top",top:"bottom"},lf={start:"end",end:"start"};function lg(e,t){return"function"==typeof e?e(t):e}function lv(e){return e.split("-")[0]}function ly(e){return e.split("-")[1]}function lj(e){return"x"===e?"y":"x"}function lw(e){return"y"===e?"height":"width"}let lb=new Set(["top","bottom"]);function lN(e){return lb.has(lv(e))?"y":"x"}function lS(e){return e.replace(/start|end/g,e=>lf[e])}let lk=["left","right"],lC=["right","left"],lE=["top","bottom"],lM=["bottom","top"];function lA(e){return e.replace(/left|right|bottom|top/g,e=>lp[e])}function l_(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function lD(e){let{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function lP(e,t,n){let s,{reference:r,floating:a}=e,i=lN(t),l=lj(lN(t)),o=lw(l),c=lv(t),d="y"===i,u=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,h=r[o]/2-a[o]/2;switch(c){case"top":s={x:u,y:r.y-a.height};break;case"bottom":s={x:u,y:r.y+r.height};break;case"right":s={x:r.x+r.width,y:m};break;case"left":s={x:r.x-a.width,y:m};break;default:s={x:r.x,y:r.y}}switch(ly(t)){case"start":s[l]-=h*(n&&d?-1:1);break;case"end":s[l]+=h*(n&&d?-1:1)}return s}let lT=async(e,t,n)=>{let{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),o=await (null==i.isRTL?void 0:i.isRTL(t)),c=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:u}=lP(c,s,o),m=s,h={},x=0;for(let n=0;n<l.length;n++){let{name:a,fn:p}=l[n],{x:f,y:g,data:v,reset:y}=await p({x:d,y:u,initialPlacement:s,placement:m,strategy:r,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=f?f:d,u=null!=g?g:u,h={...h,[a]:{...h[a],...v}},y&&x<=50&&(x++,"object"==typeof y&&(y.placement&&(m=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:r}):y.rects),{x:d,y:u}=lP(c,m,o)),n=-1)}return{x:d,y:u,placement:m,strategy:r,middlewareData:h}};async function lz(e,t){var n;void 0===t&&(t={});let{x:s,y:r,platform:a,rects:i,elements:l,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=lg(t,e),x=l_(h),p=l[m?"floating"===u?"reference":"floating":u],f=lD(await a.getClippingRect({element:null==(n=await (null==a.isElement?void 0:a.isElement(p)))||n?p:p.contextElement||await (null==a.getDocumentElement?void 0:a.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:o})),g="floating"===u?{x:s,y:r,width:i.floating.width,height:i.floating.height}:i.reference,v=await (null==a.getOffsetParent?void 0:a.getOffsetParent(l.floating)),y=await (null==a.isElement?void 0:a.isElement(v))&&await (null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},j=lD(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:o}):g);return{top:(f.top-j.top+x.top)/y.y,bottom:(j.bottom-f.bottom+x.bottom)/y.y,left:(f.left-j.left+x.left)/y.x,right:(j.right-f.right+x.right)/y.x}}function lO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lR(e){return lc.some(t=>e[t]>=0)}let lI=new Set(["left","top"]);async function lL(e,t){let{placement:n,platform:s,elements:r}=e,a=await (null==s.isRTL?void 0:s.isRTL(r.floating)),i=lv(n),l=ly(n),o="y"===lN(n),c=lI.has(i)?-1:1,d=a&&o?-1:1,u=lg(t,e),{mainAxis:m,crossAxis:h,alignmentAxis:x}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof x&&(h="end"===l?-1*x:x),o?{x:h*d,y:m*c}:{x:m*c,y:h*d}}function lZ(){return"undefined"!=typeof window}function l$(e){return lW(e)?(e.nodeName||"").toLowerCase():"#document"}function lH(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function lV(e){var t;return null==(t=(lW(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function lW(e){return!!lZ()&&(e instanceof Node||e instanceof lH(e).Node)}function lB(e){return!!lZ()&&(e instanceof Element||e instanceof lH(e).Element)}function lF(e){return!!lZ()&&(e instanceof HTMLElement||e instanceof lH(e).HTMLElement)}function lU(e){return!!lZ()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof lH(e).ShadowRoot)}let lq=new Set(["inline","contents"]);function lY(e){let{overflow:t,overflowX:n,overflowY:s,display:r}=l5(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!lq.has(r)}let lK=new Set(["table","td","th"]),lG=[":popover-open",":modal"];function lX(e){return lG.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let lJ=["transform","translate","scale","rotate","perspective"],lQ=["transform","translate","scale","rotate","perspective","filter"],l0=["paint","layout","strict","content"];function l1(e){let t=l2(),n=lB(e)?l5(e):e;return lJ.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||lQ.some(e=>(n.willChange||"").includes(e))||l0.some(e=>(n.contain||"").includes(e))}function l2(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let l4=new Set(["html","body","#document"]);function l3(e){return l4.has(l$(e))}function l5(e){return lH(e).getComputedStyle(e)}function l6(e){return lB(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function l8(e){if("html"===l$(e))return e;let t=e.assignedSlot||e.parentNode||lU(e)&&e.host||lV(e);return lU(t)?t.host:t}function l7(e,t,n){var s;void 0===t&&(t=[]),void 0===n&&(n=!0);let r=function e(t){let n=l8(t);return l3(n)?t.ownerDocument?t.ownerDocument.body:t.body:lF(n)&&lY(n)?n:e(n)}(e),a=r===(null==(s=e.ownerDocument)?void 0:s.body),i=lH(r);if(a){let e=l9(i);return t.concat(i,i.visualViewport||[],lY(r)?r:[],e&&n?l7(e):[])}return t.concat(r,l7(r,[],n))}function l9(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oe(e){let t=l5(e),n=parseFloat(t.width)||0,s=parseFloat(t.height)||0,r=lF(e),a=r?e.offsetWidth:n,i=r?e.offsetHeight:s,l=lm(n)!==a||lm(s)!==i;return l&&(n=a,s=i),{width:n,height:s,$:l}}function ot(e){return lB(e)?e:e.contextElement}function on(e){let t=ot(e);if(!lF(t))return lx(1);let n=t.getBoundingClientRect(),{width:s,height:r,$:a}=oe(t),i=(a?lm(n.width):n.width)/s,l=(a?lm(n.height):n.height)/r;return i&&Number.isFinite(i)||(i=1),l&&Number.isFinite(l)||(l=1),{x:i,y:l}}let os=lx(0);function or(e){let t=lH(e);return l2()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:os}function oa(e,t,n,s){var r;void 0===t&&(t=!1),void 0===n&&(n=!1);let a=e.getBoundingClientRect(),i=ot(e),l=lx(1);t&&(s?lB(s)&&(l=on(s)):l=on(e));let o=(void 0===(r=n)&&(r=!1),s&&(!r||s===lH(i))&&r)?or(i):lx(0),c=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,u=a.width/l.x,m=a.height/l.y;if(i){let e=lH(i),t=s&&lB(s)?lH(s):s,n=e,r=l9(n);for(;r&&s&&t!==n;){let e=on(r),t=r.getBoundingClientRect(),s=l5(r),a=t.left+(r.clientLeft+parseFloat(s.paddingLeft))*e.x,i=t.top+(r.clientTop+parseFloat(s.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,m*=e.y,c+=a,d+=i,r=l9(n=lH(r))}}return lD({width:u,height:m,x:c,y:d})}function oi(e,t){let n=l6(e).scrollLeft;return t?t.left+n:oa(lV(e)).left+n}function ol(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-oi(e,n),y:n.top+t.scrollTop}}let oo=new Set(["absolute","fixed"]);function oc(e,t,n){let s;if("viewport"===t)s=function(e,t){let n=lH(e),s=lV(e),r=n.visualViewport,a=s.clientWidth,i=s.clientHeight,l=0,o=0;if(r){a=r.width,i=r.height;let e=l2();(!e||e&&"fixed"===t)&&(l=r.offsetLeft,o=r.offsetTop)}let c=oi(s);if(c<=0){let e=s.ownerDocument,t=e.body,n=getComputedStyle(t),r="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,i=Math.abs(s.clientWidth-t.clientWidth-r);i<=25&&(a-=i)}else c<=25&&(a+=c);return{width:a,height:i,x:l,y:o}}(e,n);else if("document"===t)s=function(e){let t=lV(e),n=l6(e),s=e.ownerDocument.body,r=lu(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=lu(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight),i=-n.scrollLeft+oi(e),l=-n.scrollTop;return"rtl"===l5(s).direction&&(i+=lu(t.clientWidth,s.clientWidth)-r),{width:r,height:a,x:i,y:l}}(lV(e));else if(lB(t))s=function(e,t){let n=oa(e,!0,"fixed"===t),s=n.top+e.clientTop,r=n.left+e.clientLeft,a=lF(e)?on(e):lx(1),i=e.clientWidth*a.x;return{width:i,height:e.clientHeight*a.y,x:r*a.x,y:s*a.y}}(t,n);else{let n=or(e);s={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return lD(s)}function od(e){return"static"===l5(e).position}function ou(e,t){if(!lF(e)||"fixed"===l5(e).position)return null;if(t)return t(e);let n=e.offsetParent;return lV(e)===n&&(n=n.ownerDocument.body),n}function om(e,t){var n;let s=lH(e);if(lX(e))return s;if(!lF(e)){let t=l8(e);for(;t&&!l3(t);){if(lB(t)&&!od(t))return t;t=l8(t)}return s}let r=ou(e,t);for(;r&&(n=r,lK.has(l$(n)))&&od(r);)r=ou(r,t);return r&&l3(r)&&od(r)&&!l1(r)?s:r||function(e){let t=l8(e);for(;lF(t)&&!l3(t);){if(l1(t))return t;if(lX(t))break;t=l8(t)}return null}(e)||s}let oh=async function(e){let t=this.getOffsetParent||om,n=this.getDimensions,s=await n(e.floating);return{reference:function(e,t,n){let s=lF(t),r=lV(t),a="fixed"===n,i=oa(e,!0,a,t),l={scrollLeft:0,scrollTop:0},o=lx(0);if(s||!s&&!a){if(("body"!==l$(t)||lY(r))&&(l=l6(t)),s){let e=oa(t,!0,a,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else r&&(o.x=oi(r))}a&&!s&&r&&(o.x=oi(r));let c=!r||s||a?lx(0):ol(r,l);return{x:i.left+l.scrollLeft-o.x-c.x,y:i.top+l.scrollTop-o.y-c.y,width:i.width,height:i.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},ox={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e,a="fixed"===r,i=lV(s),l=!!t&&lX(t.floating);if(s===i||l&&a)return n;let o={scrollLeft:0,scrollTop:0},c=lx(1),d=lx(0),u=lF(s);if((u||!u&&!a)&&(("body"!==l$(s)||lY(i))&&(o=l6(s)),lF(s))){let e=oa(s);c=on(s),d.x=e.x+s.clientLeft,d.y=e.y+s.clientTop}let m=!i||u||a?lx(0):ol(i,o);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:lV,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e,a=[..."clippingAncestors"===n?lX(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let s=l7(e,[],!1).filter(e=>lB(e)&&"body"!==l$(e)),r=null,a="fixed"===l5(e).position,i=a?l8(e):e;for(;lB(i)&&!l3(i);){let t=l5(i),n=l1(i);n||"fixed"!==t.position||(r=null),(a?!n&&!r:!n&&"static"===t.position&&!!r&&oo.has(r.position)||lY(i)&&!n&&function e(t,n){let s=l8(t);return!(s===n||!lB(s)||l3(s))&&("fixed"===l5(s).position||e(s,n))}(e,i))?s=s.filter(e=>e!==i):r=t,i=l8(i)}return t.set(e,s),s}(t,this._c):[].concat(n),s],i=a[0],l=a.reduce((e,n)=>{let s=oc(t,n,r);return e.top=lu(s.top,e.top),e.right=ld(s.right,e.right),e.bottom=ld(s.bottom,e.bottom),e.left=lu(s.left,e.left),e},oc(t,i,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:om,getElementRects:oh,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=oe(e);return{width:t,height:n}},getScale:on,isElement:lB,isRTL:function(e){return"rtl"===l5(e).direction}};function op(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let of=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:s,placement:r,rects:a,platform:i,elements:l,middlewareData:o}=t,{element:c,padding:d=0}=lg(e,t)||{};if(null==c)return{};let u=l_(d),m={x:n,y:s},h=lj(lN(r)),x=lw(h),p=await i.getDimensions(c),f="y"===h,g=f?"clientHeight":"clientWidth",v=a.reference[x]+a.reference[h]-m[h]-a.floating[x],y=m[h]-a.reference[h],j=await (null==i.getOffsetParent?void 0:i.getOffsetParent(c)),w=j?j[g]:0;w&&await (null==i.isElement?void 0:i.isElement(j))||(w=l.floating[g]||a.floating[x]);let b=w/2-p[x]/2-1,N=ld(u[f?"top":"left"],b),S=ld(u[f?"bottom":"right"],b),k=w-p[x]-S,C=w/2-p[x]/2+(v/2-y/2),E=lu(N,ld(C,k)),M=!o.arrow&&null!=ly(r)&&C!==E&&a.reference[x]/2-(C<N?N:S)-p[x]/2<0,A=M?C<N?C-N:C-k:0;return{[h]:m[h]+A,data:{[h]:E,centerOffset:C-E-A,...M&&{alignmentOffset:A}},reset:M}}}),og=(e,t,n)=>{let s=new Map,r={platform:ox,...n},a={...r.platform,_c:s};return lT(e,t,{...r,platform:a})};var ov="undefined"!=typeof document?S.useLayoutEffect:function(){};function oy(e,t){let n,s,r;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(s=n;0!=s--;)if(!oy(e[s],t[s]))return!1;return!0}if((n=(r=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(s=n;0!=s--;)if(!({}).hasOwnProperty.call(t,r[s]))return!1;for(s=n;0!=s--;){let n=r[s];if(("_owner"!==n||!e.$$typeof)&&!oy(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function oj(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ow(e,t){let n=oj(e);return Math.round(t*n)/n}function ob(e){let t=S.useRef(e);return ov(()=>{t.current=e}),t}let oN=e=>({name:"arrow",options:e,fn(t){let{element:n,padding:s}="function"==typeof e?e(t):e;return n&&({}).hasOwnProperty.call(n,"current")?null!=n.current?of({element:n.current,padding:s}).fn(t):{}:n?of({element:n,padding:s}).fn(t):{}}}),oS=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,s;let{x:r,y:a,placement:i,middlewareData:l}=t,o=await lL(t,e);return i===(null==(n=l.offset)?void 0:n.placement)&&null!=(s=l.arrow)&&s.alignmentOffset?{}:{x:r+o.x,y:a+o.y,data:{...o,placement:i}}}}}(e),options:[e,t]}),ok=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:s,placement:r}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...o}=lg(e,t),c={x:n,y:s},d=await lz(t,o),u=lN(lv(r)),m=lj(u),h=c[m],x=c[u];if(a){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",n=h+d[e],s=h-d[t];h=lu(n,ld(h,s))}if(i){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",n=x+d[e],s=x-d[t];x=lu(n,ld(x,s))}let p=l.fn({...t,[m]:h,[u]:x});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[m]:a,[u]:i}}}}}}(e),options:[e,t]}),oC=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:n,y:s,placement:r,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:o=!0,crossAxis:c=!0}=lg(e,t),d={x:n,y:s},u=lN(r),m=lj(u),h=d[m],x=d[u],p=lg(l,t),f="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(o){let e="y"===m?"height":"width",t=a.reference[m]-a.floating[e]+f.mainAxis,n=a.reference[m]+a.reference[e]-f.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var g,v;let e="y"===m?"width":"height",t=lI.has(lv(r)),n=a.reference[u]-a.floating[e]+(t&&(null==(g=i.offset)?void 0:g[u])||0)+(t?0:f.crossAxis),s=a.reference[u]+a.reference[e]+(t?0:(null==(v=i.offset)?void 0:v[u])||0)-(t?f.crossAxis:0);x<n?x=n:x>s&&(x=s)}return{[m]:h,[u]:x}}}}(e),options:[e,t]}),oE=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,s,r,a,i;let{placement:l,middlewareData:o,rects:c,initialPlacement:d,platform:u,elements:m}=t,{mainAxis:h=!0,crossAxis:x=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=lg(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};let j=lv(l),w=lN(d),b=lv(d)===d,N=await (null==u.isRTL?void 0:u.isRTL(m.floating)),S=p||(b||!v?[lA(d)]:function(e){let t=lA(e);return[lS(e),t,lS(t)]}(d)),k="none"!==g;!p&&k&&S.push(...function(e,t,n,s){let r=ly(e),a=function(e,t,n){switch(e){case"top":case"bottom":if(n)return t?lC:lk;return t?lk:lC;case"left":case"right":return t?lE:lM;default:return[]}}(lv(e),"start"===n,s);return r&&(a=a.map(e=>e+"-"+r),t&&(a=a.concat(a.map(lS)))),a}(d,v,g,N));let C=[d,...S],E=await lz(t,y),M=[],A=(null==(s=o.flip)?void 0:s.overflows)||[];if(h&&M.push(E[j]),x){let e=function(e,t,n){void 0===n&&(n=!1);let s=ly(e),r=lj(lN(e)),a=lw(r),i="x"===r?s===(n?"end":"start")?"right":"left":"start"===s?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=lA(i)),[i,lA(i)]}(l,c,N);M.push(E[e[0]],E[e[1]])}if(A=[...A,{placement:l,overflows:M}],!M.every(e=>e<=0)){let e=((null==(r=o.flip)?void 0:r.index)||0)+1,t=C[e];if(t&&(!("alignment"===x&&w!==lN(t))||A.every(e=>lN(e.placement)!==w||e.overflows[0]>0)))return{data:{index:e,overflows:A},reset:{placement:t}};let n=null==(a=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:a.placement;if(!n)switch(f){case"bestFit":{let e=null==(i=A.filter(e=>{if(k){let t=lN(e.placement);return t===w||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:i[0];e&&(n=e);break}case"initialPlacement":n=d}if(l!==n)return{reset:{placement:n}}}return{}}}}(e),options:[e,t]}),oM=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,s;let r,a;let{placement:i,rects:l,platform:o,elements:c}=t,{apply:d=()=>{},...u}=lg(e,t),m=await lz(t,u),h=lv(i),x=ly(i),p="y"===lN(i),{width:f,height:g}=l.floating;"top"===h||"bottom"===h?(r=h,a=x===(await (null==o.isRTL?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(a=h,r="end"===x?"top":"bottom");let v=g-m.top-m.bottom,y=f-m.left-m.right,j=ld(g-m[r],v),w=ld(f-m[a],y),b=!t.middlewareData.shift,N=j,S=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=y),null!=(s=t.middlewareData.shift)&&s.enabled.y&&(N=v),b&&!x){let e=lu(m.left,0),t=lu(m.right,0),n=lu(m.top,0),s=lu(m.bottom,0);p?S=f-2*(0!==e||0!==t?e+t:lu(m.left,m.right)):N=g-2*(0!==n||0!==s?n+s:lu(m.top,m.bottom))}await d({...t,availableWidth:S,availableHeight:N});let k=await o.getDimensions(c.floating);return f!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),oA=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:n}=t,{strategy:s="referenceHidden",...r}=lg(e,t);switch(s){case"referenceHidden":{let e=lO(await lz(t,{...r,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:lR(e)}}}case"escaped":{let e=lO(await lz(t,{...r,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:lR(e)}}}default:return{}}}}}(e),options:[e,t]}),o_=(e,t)=>({...oN(e),options:[e,t]});var oD=S.forwardRef((e,t)=>{let{children:n,width:s=10,height:r=5,...a}=e;return(0,N.jsx)(iv.WV.svg,{...a,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,N.jsx)("polygon",{points:"0,0 30,0 15,10"})})});oD.displayName="Arrow";var oP=n(9797),oT="Popper",[oz,oO]=(0,iQ.b)(oT),[oR,oI]=oz(oT),oL=e=>{let{__scopePopper:t,children:n}=e,[s,r]=S.useState(null);return(0,N.jsx)(oR,{scope:t,anchor:s,onAnchorChange:r,children:n})};oL.displayName=oT;var oZ="PopperAnchor",o$=S.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:s,...r}=e,a=oI(oZ,n),i=S.useRef(null),l=(0,iJ.e)(t,i),o=S.useRef(null);return S.useEffect(()=>{let e=o.current;o.current=s?.current||i.current,e!==o.current&&a.onAnchorChange(o.current)}),s?null:(0,N.jsx)(iv.WV.div,{...r,ref:l})});o$.displayName=oZ;var oH="PopperContent",[oV,oW]=oz(oH),oB=S.forwardRef((e,t)=>{let{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:o=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:x,...p}=e,f=oI(oH,n),[g,v]=S.useState(null),y=(0,iJ.e)(t,e=>v(e)),[j,w]=S.useState(null),b=function(e){let[t,n]=S.useState(void 0);return(0,oP.b)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,r;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,r=t.blockSize}else s=e.offsetWidth,r=e.offsetHeight;n({width:s,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(j),k=b?.width??0,C=b?.height??0,E="number"==typeof d?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(c)?c:[c],A=M.length>0,_={padding:E,boundary:M.filter(oY),altBoundary:A},{refs:D,floatingStyles:P,placement:T,isPositioned:z,middlewareData:O}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:o,open:c}=e,[d,u]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=S.useState(s);oy(m,s)||h(s);let[x,p]=S.useState(null),[f,g]=S.useState(null),v=S.useCallback(e=>{e!==b.current&&(b.current=e,p(e))},[]),y=S.useCallback(e=>{e!==N.current&&(N.current=e,g(e))},[]),j=a||x,w=i||f,b=S.useRef(null),N=S.useRef(null),k=S.useRef(d),C=null!=o,E=ob(o),M=ob(r),A=ob(c),_=S.useCallback(()=>{if(!b.current||!N.current)return;let e={placement:t,strategy:n,middleware:m};M.current&&(e.platform=M.current),og(b.current,N.current,e).then(e=>{let t={...e,isPositioned:!1!==A.current};D.current&&!oy(k.current,t)&&(k.current=t,n9.flushSync(()=>{u(t)}))})},[m,t,n,M,A]);ov(()=>{!1===c&&k.current.isPositioned&&(k.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);let D=S.useRef(!1);ov(()=>(D.current=!0,()=>{D.current=!1}),[]),ov(()=>{if(j&&(b.current=j),w&&(N.current=w),j&&w){if(E.current)return E.current(j,w,_);_()}},[j,w,_,E,C]);let P=S.useMemo(()=>({reference:b,floating:N,setReference:v,setFloating:y}),[v,y]),T=S.useMemo(()=>({reference:j,floating:w}),[j,w]),z=S.useMemo(()=>{let e={position:n,left:0,top:0};if(!T.floating)return e;let t=ow(T.floating,d.x),s=ow(T.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+s+"px)",...oj(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:s}},[n,l,T.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:_,refs:P,elements:T,floatingStyles:z}),[d,_,P,T,z])}({strategy:"fixed",placement:s+("center"!==a?"-"+a:""),whileElementsMounted:(...e)=>(function(e,t,n,s){let r;void 0===s&&(s={});let{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:c=!1}=s,d=ot(e),u=a||i?[...d?l7(d):[],...l7(t)]:[];u.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});let m=d&&o?function(e,t){let n,s=null,r=lV(e);function a(){var e;clearTimeout(n),null==(e=s)||e.disconnect(),s=null}return function i(l,o){void 0===l&&(l=!1),void 0===o&&(o=1),a();let c=e.getBoundingClientRect(),{left:d,top:u,width:m,height:h}=c;if(l||t(),!m||!h)return;let x=lh(u),p=lh(r.clientWidth-(d+m)),f={rootMargin:-x+"px "+-p+"px "+-lh(r.clientHeight-(u+h))+"px "+-lh(d)+"px",threshold:lu(0,ld(1,o))||1},g=!0;function v(t){let s=t[0].intersectionRatio;if(s!==o){if(!g)return i();s?i(!1,s):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==s||op(c,e.getBoundingClientRect())||i(),g=!1}try{s=new IntersectionObserver(v,{...f,root:r.ownerDocument})}catch(e){s=new IntersectionObserver(v,f)}s.observe(e)}(!0),a}(d,n):null,h=-1,x=null;l&&(x=new ResizeObserver(e=>{let[s]=e;s&&s.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=x)||e.observe(t)})),n()}),d&&!c&&x.observe(d),x.observe(t));let p=c?oa(e):null;return c&&function t(){let s=oa(e);p&&!op(p,s)&&n(),p=s,r=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{a&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==m||m(),null==(e=x)||e.disconnect(),x=null,c&&cancelAnimationFrame(r)}})(...e,{animationFrame:"always"===h}),elements:{reference:f.anchor},middleware:[oS({mainAxis:r+C,alignmentAxis:i}),o&&ok({mainAxis:!0,crossAxis:!1,limiter:"partial"===u?oC():void 0,..._}),o&&oE({..._}),oM({..._,apply:({elements:e,rects:t,availableWidth:n,availableHeight:s})=>{let{width:r,height:a}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${n}px`),i.setProperty("--radix-popper-available-height",`${s}px`),i.setProperty("--radix-popper-anchor-width",`${r}px`),i.setProperty("--radix-popper-anchor-height",`${a}px`)}}),j&&o_({element:j,padding:l}),oK({arrowWidth:k,arrowHeight:C}),m&&oA({strategy:"referenceHidden",..._})]}),[R,I]=oG(T),L=(0,i1.W)(x);(0,oP.b)(()=>{z&&L?.()},[z,L]);let Z=O.arrow?.x,$=O.arrow?.y,H=O.arrow?.centerOffset!==0,[V,W]=S.useState();return(0,oP.b)(()=>{g&&W(window.getComputedStyle(g).zIndex)},[g]),(0,N.jsx)("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:z?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,N.jsx)(oV,{scope:n,placedSide:R,onArrowChange:w,arrowX:Z,arrowY:$,shouldHideArrow:H,children:(0,N.jsx)(iv.WV.div,{"data-side":R,"data-align":I,...p,ref:y,style:{...p.style,animation:z?void 0:"none"}})})})});oB.displayName=oH;var oF="PopperArrow",oU={top:"bottom",right:"left",bottom:"top",left:"right"},oq=S.forwardRef(function(e,t){let{__scopePopper:n,...s}=e,r=oW(oF,n),a=oU[r.placedSide];return(0,N.jsx)("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:(0,N.jsx)(oD,{...s,ref:t,style:{...s.style,display:"block"}})})});function oY(e){return null!==e}oq.displayName=oF;var oK=e=>({name:"transformOrigin",options:e,fn(t){let{placement:n,rects:s,middlewareData:r}=t,a=r.arrow?.centerOffset!==0,i=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[o,c]=oG(n),d={start:"0%",center:"50%",end:"100%"}[c],u=(r.arrow?.x??0)+i/2,m=(r.arrow?.y??0)+l/2,h="",x="";return"bottom"===o?(h=a?d:`${u}px`,x=`${-l}px`):"top"===o?(h=a?d:`${u}px`,x=`${s.floating.height+l}px`):"right"===o?(h=`${-l}px`,x=a?d:`${m}px`):"left"===o&&(h=`${s.floating.width+l}px`,x=a?d:`${m}px`),{data:{x:h,y:x}}}});function oG(e){let[t,n="center"]=e.split("-");return[t,n]}var oX=S.forwardRef((e,t)=>{let{container:n,...s}=e,[r,a]=S.useState(!1);(0,oP.b)(()=>a(!0),[]);let i=n||r&&globalThis?.document?.body;return i?n9.createPortal((0,N.jsx)(iv.WV.div,{...s,ref:t}),i):null});oX.displayName="Portal";var oJ=n(2007),oQ=n(2764),o0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});S.forwardRef((e,t)=>(0,N.jsx)(iv.WV.span,{...e,ref:t,style:{...o0,...e.style}})).displayName="VisuallyHidden";var o1=new WeakMap,o2=new WeakMap,o4={},o3=0,o5=function(e){return e&&(e.host||o5(e.parentNode))},o6=function(e,t,n,s){var r=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=o5(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});o4[n]||(o4[n]=new WeakMap);var a=o4[n],i=[],l=new Set,o=new Set(r),c=function(e){!e||l.has(e)||(l.add(e),c(e.parentNode))};r.forEach(c);var d=function(e){!e||o.has(e)||Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(s),r=null!==t&&"false"!==t,o=(o1.get(e)||0)+1,c=(a.get(e)||0)+1;o1.set(e,o),a.set(e,c),i.push(e),1===o&&r&&o2.set(e,!0),1===c&&e.setAttribute(n,"true"),r||e.setAttribute(s,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),l.clear(),o3++,function(){i.forEach(function(e){var t=o1.get(e)-1,r=a.get(e)-1;o1.set(e,t),a.set(e,r),t||(o2.has(e)||e.removeAttribute(s),o2.delete(e)),r||e.removeAttribute(n)}),--o3||(o1=new WeakMap,o1=new WeakMap,o2=new WeakMap,o4={})}},o8=function(e,t,n){void 0===n&&(n="data-aria-hidden");var s,r=Array.from(Array.isArray(e)?e:[e]),a=t||(s=e,"undefined"==typeof document?null:(Array.isArray(s)?s[0]:s).ownerDocument.body);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),o6(r,a,n,"aria-hidden")):function(){return null}},o7=n(675),o9="right-scroll-bar-position",ce="width-before-scroll-bar";function ct(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var cn="undefined"!=typeof window?S.useLayoutEffect:S.useEffect,cs=new WeakMap;function cr(e){return e}var ca=function(e){void 0===e&&(e={});var t,n,s,r=(void 0===t&&(t=cr),n=[],s=!1,{read:function(){if(s)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var r=t(e,s);return n.push(r),function(){n=n.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(s=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){s=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(a)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}});return r.options=(0,o7.pi)({async:!0,ssr:!1},e),r}(),ci=function(){},cl=S.forwardRef(function(e,t){var n,s,r,a,i=S.useRef(null),l=S.useState({onScrollCapture:ci,onWheelCapture:ci,onTouchMoveCapture:ci}),o=l[0],c=l[1],d=e.forwardProps,u=e.children,m=e.className,h=e.removeScrollBar,x=e.enabled,p=e.shards,f=e.sideCar,g=e.noRelative,v=e.noIsolation,y=e.inert,j=e.allowPinchZoom,w=e.as,b=e.gapMode,N=(0,o7._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=(n=[i,t],s=function(e){return n.forEach(function(t){return ct(t,e)})},(r=(0,S.useState)(function(){return{value:null,callback:s,facade:{get current(){return r.value},set current(value){var e=r.value;e!==value&&(r.value=value,r.callback(value,e))}}}})[0]).callback=s,a=r.facade,cn(function(){var e=cs.get(a);if(e){var t=new Set(e),s=new Set(n),r=a.current;t.forEach(function(e){s.has(e)||ct(e,null)}),s.forEach(function(e){t.has(e)||ct(e,r)})}cs.set(a,n)},[n]),a),C=(0,o7.pi)((0,o7.pi)({},N),o);return S.createElement(S.Fragment,null,x&&S.createElement(f,{sideCar:ca,removeScrollBar:h,shards:p,noRelative:g,noIsolation:v,inert:y,setCallbacks:c,allowPinchZoom:!!j,lockRef:i,gapMode:b}),d?S.cloneElement(S.Children.only(u),(0,o7.pi)((0,o7.pi)({},C),{ref:k})):S.createElement(void 0===w?"div":w,(0,o7.pi)({},C,{className:m,ref:k}),u))});cl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},cl.classNames={fullWidth:ce,zeroRight:o9};var co=function(e){var t=e.sideCar,n=(0,o7._T)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw Error("Sidecar medium not found");return S.createElement(s,(0,o7.pi)({},n))};co.isSideCarExport=!0;var cc=function(){var e=0,t=null;return{add:function(s){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=w||n.nc;return t&&e.setAttribute("nonce",t),e}())){var r,a;(r=t).styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cd=function(){var e=cc();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cu=function(){var e=cd();return function(t){return e(t.styles,t.dynamic),null}},cm={left:0,top:0,right:0,gap:0},ch=function(e){return parseInt(e||"",10)||0},cx=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],s=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[ch(n),ch(s),ch(r)]},cp=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return cm;var t=cx(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},cf=cu(),cg="data-scroll-locked",cv=function(e,t,n,s){var r=e.left,a=e.top,i=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(s,";\n   padding-right: ").concat(l,"px ").concat(s,";\n  }\n  body[").concat(cg,"] {\n    overflow: hidden ").concat(s,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(s,";"),"margin"===n&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(s,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o9," {\n    right: ").concat(l,"px ").concat(s,";\n  }\n  \n  .").concat(ce," {\n    margin-right: ").concat(l,"px ").concat(s,";\n  }\n  \n  .").concat(o9," .").concat(o9," {\n    right: 0 ").concat(s,";\n  }\n  \n  .").concat(ce," .").concat(ce," {\n    margin-right: 0 ").concat(s,";\n  }\n  \n  body[").concat(cg,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},cy=function(){var e=parseInt(document.body.getAttribute(cg)||"0",10);return isFinite(e)?e:0},cj=function(){S.useEffect(function(){return document.body.setAttribute(cg,(cy()+1).toString()),function(){var e=cy()-1;e<=0?document.body.removeAttribute(cg):document.body.setAttribute(cg,e.toString())}},[])},cw=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=void 0===s?"margin":s;cj();var a=S.useMemo(function(){return cp(r)},[r]);return S.createElement(cf,{styles:cv(a,!t,r,n?"":"!important")})},cb=!1;if("undefined"!=typeof window)try{var cN=Object.defineProperty({},"passive",{get:function(){return cb=!0,!0}});window.addEventListener("test",cN,cN),window.removeEventListener("test",cN,cN)}catch(e){cb=!1}var cS=!!cb&&{passive:!1},ck=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===n[t])},cC=function(e,t){var n=t.ownerDocument,s=t;do{if("undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot&&(s=s.host),cE(e,s)){var r=cM(e,s);if(r[1]>r[2])return!0}s=s.parentNode}while(s&&s!==n.body);return!1},cE=function(e,t){return"v"===e?ck(t,"overflowY"):ck(t,"overflowX")},cM=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},cA=function(e,t,n,s,r){var a,i=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),l=i*s,o=n.target,c=t.contains(o),d=!1,u=l>0,m=0,h=0;do{if(!o)break;var x=cM(e,o),p=x[0],f=x[1]-x[2]-i*p;(p||f)&&cE(e,o)&&(m+=f,h+=p);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return u&&(r&&1>Math.abs(m)||!r&&l>m)?d=!0:!u&&(r&&1>Math.abs(h)||!r&&-l>h)&&(d=!0),d},c_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cD=function(e){return[e.deltaX,e.deltaY]},cP=function(e){return e&&"current"in e?e.current:e},cT=0,cz=[];let cO=(d=function(e){var t=S.useRef([]),n=S.useRef([0,0]),s=S.useRef(),r=S.useState(cT++)[0],a=S.useState(cu)[0],i=S.useRef(e);S.useEffect(function(){i.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=(0,o7.ev)([e.lockRef.current],(e.shards||[]).map(cP),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=S.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var r,a=c_(e),l=n.current,o="deltaX"in e?e.deltaX:l[0]-a[0],c="deltaY"in e?e.deltaY:l[1]-a[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=cC(u,d);if(!m)return!0;if(m?r=u:(r="v"===u?"h":"v",m=cC(u,d)),!m)return!1;if(!s.current&&"changedTouches"in e&&(o||c)&&(s.current=r),!r)return!0;var h=s.current||r;return cA(h,t,e,"h"===h?o:c,!0)},[]),o=S.useCallback(function(e){if(cz.length&&cz[cz.length-1]===a){var n="deltaY"in e?cD(e):c_(e),s=t.current.filter(function(t){var s;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(s=t.delta)[0]===n[0]&&s[1]===n[1]})[0];if(s&&s.should){e.cancelable&&e.preventDefault();return}if(!s){var r=(i.current.shards||[]).map(cP).filter(Boolean).filter(function(t){return t.contains(e.target)});(r.length>0?l(e,r[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=S.useCallback(function(e,n,s,r){var a={name:e,delta:n,target:s,should:r,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(s)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),d=S.useCallback(function(e){n.current=c_(e),s.current=void 0},[]),u=S.useCallback(function(t){c(t.type,cD(t),t.target,l(t,e.lockRef.current))},[]),m=S.useCallback(function(t){c(t.type,c_(t),t.target,l(t,e.lockRef.current))},[]);S.useEffect(function(){return cz.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",o,cS),document.addEventListener("touchmove",o,cS),document.addEventListener("touchstart",d,cS),function(){cz=cz.filter(function(e){return e!==a}),document.removeEventListener("wheel",o,cS),document.removeEventListener("touchmove",o,cS),document.removeEventListener("touchstart",d,cS)}},[]);var h=e.removeScrollBar,x=e.inert;return S.createElement(S.Fragment,null,x?S.createElement(a,{styles:"\n  .block-interactivity-".concat(r," {pointer-events: none;}\n  .allow-interactivity-").concat(r," {pointer-events: all;}\n")}):null,h?S.createElement(cw,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ca.useMedium(d),co);var cR=S.forwardRef(function(e,t){return S.createElement(cl,(0,o7.pi)({},e,{ref:t,sideCar:cO}))});cR.classNames=cl.classNames;var cI=[" ","Enter","ArrowUp","ArrowDown"],cL=[" ","Enter"],cZ="Select",[c$,cH,cV]=(0,iX.B)(cZ),[cW,cB]=(0,iQ.b)(cZ,[cV,oO]),cF=oO(),[cU,cq]=cW(cZ),[cY,cK]=cW(cZ),cG=e=>{let{__scopeSelect:t,children:n,open:s,defaultOpen:r,onOpenChange:a,value:i,defaultValue:l,onValueChange:o,dir:c,name:d,autoComplete:u,disabled:m,required:h,form:x}=e,p=cF(t),[f,g]=S.useState(null),[v,y]=S.useState(null),[j,w]=S.useState(!1),b=(0,i0.gm)(c),[k,C]=(0,oQ.T)({prop:s,defaultProp:r??!1,onChange:a,caller:cZ}),[E,M]=(0,oQ.T)({prop:i,defaultProp:l,onChange:o,caller:cZ}),A=S.useRef(null),_=!f||x||!!f.closest("form"),[D,P]=S.useState(new Set),T=Array.from(D).map(e=>e.props.value).join(";");return(0,N.jsx)(oL,{...p,children:(0,N.jsxs)(cU,{required:h,scope:t,trigger:f,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:w,contentId:(0,lo.M)(),value:E,onValueChange:M,open:k,onOpenChange:C,dir:b,triggerPointerDownPosRef:A,disabled:m,children:[(0,N.jsx)(c$.Provider,{scope:t,children:(0,N.jsx)(cY,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:S.useCallback(e=>{P(t=>{let n=new Set(t);return n.delete(e),n})},[]),children:n})}),_?(0,N.jsxs)(dC,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:u,value:E,onChange:e=>M(e.target.value),disabled:m,form:x,children:[void 0===E?(0,N.jsx)("option",{value:""}):null,Array.from(D)]},T):null]})})};cG.displayName=cZ;var cX="SelectTrigger",cJ=S.forwardRef((e,t)=>{let{__scopeSelect:n,disabled:s=!1,...r}=e,a=cF(n),i=cq(cX,n),l=i.disabled||s,o=(0,iJ.e)(t,i.onTriggerChange),c=cH(n),d=S.useRef("touch"),[u,m,h]=dM(e=>{let t=c().filter(e=>!e.disabled),n=t.find(e=>e.value===i.value),s=dA(t,e,n);void 0!==s&&i.onValueChange(s.value)}),x=e=>{l||(i.onOpenChange(!0),h()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,N.jsx)(o$,{asChild:!0,...a,children:(0,N.jsx)(iv.WV.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dE(i.value)?"":void 0,...r,ref:o,onClick:(0,iG.Mj)(r.onClick,e=>{e.currentTarget.focus(),"mouse"!==d.current&&x(e)}),onPointerDown:(0,iG.Mj)(r.onPointerDown,e=>{d.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:(0,iG.Mj)(r.onKeyDown,e=>{let t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&cI.includes(e.key)&&(x(),e.preventDefault())})})})});cJ.displayName=cX;var cQ="SelectValue",c0=S.forwardRef((e,t)=>{let{__scopeSelect:n,className:s,style:r,children:a,placeholder:i="",...l}=e,o=cq(cQ,n),{onValueNodeHasChildrenChange:c}=o,d=void 0!==a,u=(0,iJ.e)(t,o.onValueNodeChange);return(0,oP.b)(()=>{c(d)},[c,d]),(0,N.jsx)(iv.WV.span,{...l,ref:u,style:{pointerEvents:"none"},children:dE(o.value)?(0,N.jsx)(N.Fragment,{children:i}):a})});c0.displayName=cQ;var c1=S.forwardRef((e,t)=>{let{__scopeSelect:n,children:s,...r}=e;return(0,N.jsx)(iv.WV.span,{"aria-hidden":!0,...r,ref:t,children:s||""})});c1.displayName="SelectIcon";var c2=e=>(0,N.jsx)(oX,{asChild:!0,...e});c2.displayName="SelectPortal";var c4="SelectContent",c3=S.forwardRef((e,t)=>{let n=cq(c4,e.__scopeSelect),[s,r]=S.useState();return((0,oP.b)(()=>{r(new DocumentFragment)},[]),n.open)?(0,N.jsx)(c7,{...e,ref:t}):s?n9.createPortal((0,N.jsx)(c5,{scope:e.__scopeSelect,children:(0,N.jsx)(c$.Slot,{scope:e.__scopeSelect,children:(0,N.jsx)("div",{children:e.children})})}),s):null});c3.displayName=c4;var[c5,c6]=cW(c4),c8=(0,oJ.Z8)("SelectContent.RemoveScroll"),c7=S.forwardRef((e,t)=>{let{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:o,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:f,...g}=e,v=cq(c4,n),[y,j]=S.useState(null),[w,b]=S.useState(null),k=(0,iJ.e)(t,e=>j(e)),[C,E]=S.useState(null),[M,A]=S.useState(null),_=cH(n),[D,P]=S.useState(!1),T=S.useRef(!1);S.useEffect(()=>{if(y)return o8(y)},[y]),S.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i7()),document.body.insertAdjacentElement("beforeend",e[1]??i7()),i8++,()=>{1===i8&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),i8--}},[]);let z=S.useCallback(e=>{let[t,...n]=_().map(e=>e.ref.current),[s]=n.slice(-1),r=document.activeElement;for(let n of e)if(n===r||(n?.scrollIntoView({block:"nearest"}),n===t&&w&&(w.scrollTop=0),n===s&&w&&(w.scrollTop=w.scrollHeight),n?.focus(),document.activeElement!==r))return},[_,w]),O=S.useCallback(()=>z([C,y]),[z,C,y]);S.useEffect(()=>{D&&O()},[D,O]);let{onOpenChange:R,triggerPointerDownPosRef:I}=v;S.useEffect(()=>{if(y){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(I.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():y.contains(n.target)||R(!1),document.removeEventListener("pointermove",t),I.current=null};return null!==I.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[y,R,I]),S.useEffect(()=>{let e=()=>R(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[R]);let[L,Z]=dM(e=>{let t=_().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),s=dA(t,e,n);s&&setTimeout(()=>s.ref.current.focus())}),$=S.useCallback((e,t,n)=>{let s=!T.current&&!n;(void 0!==v.value&&v.value===t||s)&&(E(e),s&&(T.current=!0))},[v.value]),H=S.useCallback(()=>y?.focus(),[y]),V=S.useCallback((e,t,n)=>{let s=!T.current&&!n;(void 0!==v.value&&v.value===t||s)&&A(e)},[v.value]),W="popper"===s?de:c9,B=W===de?{side:l,sideOffset:o,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:f}:{};return(0,N.jsx)(c5,{scope:n,content:y,viewport:w,onViewportChange:b,itemRefCallback:$,selectedItem:C,onItemLeave:H,itemTextRefCallback:V,focusSelectedItem:O,selectedItemText:M,position:s,isPositioned:D,searchRef:L,children:(0,N.jsx)(cR,{as:c8,allowPinchZoom:!0,children:(0,N.jsx)(ln,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,iG.Mj)(r,e=>{v.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,N.jsx)(i3,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:(0,N.jsx)(W,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:e=>e.preventDefault(),...g,...B,onPlaced:()=>P(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:(0,iG.Mj)(g.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Z(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=_().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let n=e.target,s=t.indexOf(n);t=t.slice(s+1)}setTimeout(()=>z(t)),e.preventDefault()}})})})})})})});c7.displayName="SelectContentImpl";var c9=S.forwardRef((e,t)=>{let{__scopeSelect:n,onPlaced:s,...r}=e,a=cq(c4,n),i=c6(c4,n),[l,o]=S.useState(null),[c,d]=S.useState(null),u=(0,iJ.e)(t,e=>d(e)),m=cH(n),h=S.useRef(!1),x=S.useRef(!0),{viewport:p,selectedItem:f,selectedItemText:g,focusSelectedItem:v}=i,y=S.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&c&&p&&f&&g){let e=a.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),r=g.getBoundingClientRect();if("rtl"!==a.dir){let s=r.left-t.left,a=n.left-s,i=e.left-a,o=e.width+i,c=Math.max(o,t.width),d=iK(a,[10,Math.max(10,window.innerWidth-10-c)]);l.style.minWidth=o+"px",l.style.left=d+"px"}else{let s=t.right-r.right,a=window.innerWidth-n.right-s,i=window.innerWidth-e.right-a,o=e.width+i,c=Math.max(o,t.width),d=iK(a,[10,Math.max(10,window.innerWidth-10-c)]);l.style.minWidth=o+"px",l.style.right=d+"px"}let i=m(),o=window.innerHeight-20,d=p.scrollHeight,u=window.getComputedStyle(c),x=parseInt(u.borderTopWidth,10),v=parseInt(u.paddingTop,10),y=parseInt(u.borderBottomWidth,10),j=x+v+d+parseInt(u.paddingBottom,10)+y,w=Math.min(5*f.offsetHeight,j),b=window.getComputedStyle(p),N=parseInt(b.paddingTop,10),S=parseInt(b.paddingBottom,10),k=e.top+e.height/2-10,C=f.offsetHeight/2,E=x+v+(f.offsetTop+C);if(E<=k){let e=i.length>0&&f===i[i.length-1].ref.current;l.style.bottom="0px";let t=c.clientHeight-p.offsetTop-p.offsetHeight;l.style.height=E+Math.max(o-k,C+(e?S:0)+t+y)+"px"}else{let e=i.length>0&&f===i[0].ref.current;l.style.top="0px";let t=Math.max(k,x+p.offsetTop+(e?N:0)+C);l.style.height=t+(j-E)+"px",p.scrollTop=E-k+p.offsetTop}l.style.margin="10px 0",l.style.minHeight=w+"px",l.style.maxHeight=o+"px",s?.(),requestAnimationFrame(()=>h.current=!0)}},[m,a.trigger,a.valueNode,l,c,p,f,g,a.dir,s]);(0,oP.b)(()=>y(),[y]);let[j,w]=S.useState();(0,oP.b)(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);let b=S.useCallback(e=>{e&&!0===x.current&&(y(),v?.(),x.current=!1)},[y,v]);return(0,N.jsx)(dt,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:b,children:(0,N.jsx)("div",{ref:o,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:(0,N.jsx)(iv.WV.div,{...r,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});c9.displayName="SelectItemAlignedPosition";var de=S.forwardRef((e,t)=>{let{__scopeSelect:n,align:s="start",collisionPadding:r=10,...a}=e,i=cF(n);return(0,N.jsx)(oB,{...i,...a,ref:t,align:s,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});de.displayName="SelectPopperPosition";var[dt,dn]=cW(c4,{}),ds="SelectViewport",dr=S.forwardRef((e,t)=>{let{__scopeSelect:n,nonce:s,...r}=e,a=c6(ds,n),i=dn(ds,n),l=(0,iJ.e)(t,a.onViewportChange),o=S.useRef(0);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,N.jsx)(c$.Slot,{scope:n,children:(0,N.jsx)(iv.WV.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:(0,iG.Mj)(r.onScroll,e=>{let t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:s}=i;if(s?.current&&n){let e=Math.abs(o.current-t.scrollTop);if(e>0){let s=window.innerHeight-20,r=Math.max(parseFloat(n.style.minHeight),parseFloat(n.style.height));if(r<s){let a=r+e,i=Math.min(s,a),l=a-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=l>0?l:0,n.style.justifyContent="flex-end")}}}o.current=t.scrollTop})})})]})});dr.displayName=ds;var da="SelectGroup",[di,dl]=cW(da);S.forwardRef((e,t)=>{let{__scopeSelect:n,...s}=e,r=(0,lo.M)();return(0,N.jsx)(di,{scope:n,id:r,children:(0,N.jsx)(iv.WV.div,{role:"group","aria-labelledby":r,...s,ref:t})})}).displayName=da;var dc="SelectLabel",dd=S.forwardRef((e,t)=>{let{__scopeSelect:n,...s}=e,r=dl(dc,n);return(0,N.jsx)(iv.WV.div,{id:r.id,...s,ref:t})});dd.displayName=dc;var du="SelectItem",[dm,dh]=cW(du),dx=S.forwardRef((e,t)=>{let{__scopeSelect:n,value:s,disabled:r=!1,textValue:a,...i}=e,l=cq(du,n),o=c6(du,n),c=l.value===s,[d,u]=S.useState(a??""),[m,h]=S.useState(!1),x=(0,iJ.e)(t,e=>o.itemRefCallback?.(e,s,r)),p=(0,lo.M)(),f=S.useRef("touch"),g=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(""===s)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,N.jsx)(dm,{scope:n,value:s,disabled:r,textId:p,isSelected:c,onItemTextChange:S.useCallback(e=>{u(t=>t||(e?.textContent??"").trim())},[]),children:(0,N.jsx)(c$.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:(0,N.jsx)(iv.WV.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...i,ref:x,onFocus:(0,iG.Mj)(i.onFocus,()=>h(!0)),onBlur:(0,iG.Mj)(i.onBlur,()=>h(!1)),onClick:(0,iG.Mj)(i.onClick,()=>{"mouse"!==f.current&&g()}),onPointerUp:(0,iG.Mj)(i.onPointerUp,()=>{"mouse"===f.current&&g()}),onPointerDown:(0,iG.Mj)(i.onPointerDown,e=>{f.current=e.pointerType}),onPointerMove:(0,iG.Mj)(i.onPointerMove,e=>{f.current=e.pointerType,r?o.onItemLeave?.():"mouse"===f.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,iG.Mj)(i.onPointerLeave,e=>{e.currentTarget===document.activeElement&&o.onItemLeave?.()}),onKeyDown:(0,iG.Mj)(i.onKeyDown,e=>{o.searchRef?.current!==""&&" "===e.key||(cL.includes(e.key)&&g()," "===e.key&&e.preventDefault())})})})})});dx.displayName=du;var dp="SelectItemText",df=S.forwardRef((e,t)=>{let{__scopeSelect:n,className:s,style:r,...a}=e,i=cq(dp,n),l=c6(dp,n),o=dh(dp,n),c=cK(dp,n),[d,u]=S.useState(null),m=(0,iJ.e)(t,e=>u(e),o.onItemTextChange,e=>l.itemTextRefCallback?.(e,o.value,o.disabled)),h=d?.textContent,x=S.useMemo(()=>(0,N.jsx)("option",{value:o.value,disabled:o.disabled,children:h},o.value),[o.disabled,o.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:f}=c;return(0,oP.b)(()=>(p(x),()=>f(x)),[p,f,x]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(iv.WV.span,{id:o.textId,...a,ref:m}),o.isSelected&&i.valueNode&&!i.valueNodeHasChildren?n9.createPortal(a.children,i.valueNode):null]})});df.displayName=dp;var dg="SelectItemIndicator",dv=S.forwardRef((e,t)=>{let{__scopeSelect:n,...s}=e;return dh(dg,n).isSelected?(0,N.jsx)(iv.WV.span,{"aria-hidden":!0,...s,ref:t}):null});dv.displayName=dg;var dy="SelectScrollUpButton",dj=S.forwardRef((e,t)=>{let n=c6(dy,e.__scopeSelect),s=dn(dy,e.__scopeSelect),[r,a]=S.useState(!1),i=(0,iJ.e)(t,s.onScrollButtonChange);return(0,oP.b)(()=>{if(n.viewport&&n.isPositioned){let e=function(){a(t.scrollTop>0)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),r?(0,N.jsx)(dN,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});dj.displayName=dy;var dw="SelectScrollDownButton",db=S.forwardRef((e,t)=>{let n=c6(dw,e.__scopeSelect),s=dn(dw,e.__scopeSelect),[r,a]=S.useState(!1),i=(0,iJ.e)(t,s.onScrollButtonChange);return(0,oP.b)(()=>{if(n.viewport&&n.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;a(Math.ceil(t.scrollTop)<e)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),r?(0,N.jsx)(dN,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});db.displayName=dw;var dN=S.forwardRef((e,t)=>{let{__scopeSelect:n,onAutoScroll:s,...r}=e,a=c6("SelectScrollButton",n),i=S.useRef(null),l=cH(n),o=S.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return S.useEffect(()=>()=>o(),[o]),(0,oP.b)(()=>{let e=l().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[l]),(0,N.jsx)(iv.WV.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:(0,iG.Mj)(r.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(s,50))}),onPointerMove:(0,iG.Mj)(r.onPointerMove,()=>{a.onItemLeave?.(),null===i.current&&(i.current=window.setInterval(s,50))}),onPointerLeave:(0,iG.Mj)(r.onPointerLeave,()=>{o()})})}),dS=S.forwardRef((e,t)=>{let{__scopeSelect:n,...s}=e;return(0,N.jsx)(iv.WV.div,{"aria-hidden":!0,...s,ref:t})});dS.displayName="SelectSeparator";var dk="SelectArrow";S.forwardRef((e,t)=>{let{__scopeSelect:n,...s}=e,r=cF(n),a=cq(dk,n),i=c6(dk,n);return a.open&&"popper"===i.position?(0,N.jsx)(oq,{...r,...s,ref:t}):null}).displayName=dk;var dC=S.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{let r=S.useRef(null),a=(0,iJ.e)(s,r),i=function(e){let t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(t);return S.useEffect(()=>{let e=r.current;if(!e)return;let n=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(i!==t&&n){let s=new Event("change",{bubbles:!0});n.call(e,t),e.dispatchEvent(s)}},[i,t]),(0,N.jsx)(iv.WV.select,{...n,style:{...o0,...n.style},ref:a,defaultValue:t})});function dE(e){return""===e||void 0===e}function dM(e){let t=(0,i1.W)(e),n=S.useRef(""),s=S.useRef(0),r=S.useCallback(e=>{let r=n.current+e;t(r),function e(t){n.current=t,window.clearTimeout(s.current),""!==t&&(s.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),a=S.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,a]}function dA(e,t,n){var s;let r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=(s=Math.max(n?e.indexOf(n):-1,0),e.map((t,n)=>e[(s+n)%e.length]));1===r.length&&(a=a.filter(e=>e!==n));let i=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return i!==n?i:void 0}dC.displayName="SelectBubbleInput";let d_=(0,aE.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),dD=(0,aE.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),dP=(0,aE.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);!function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}();let dT=S.forwardRef(({className:e,children:t,...n},s)=>(0,N.jsxs)(cJ,{ref:s,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,N.jsx(c1,{asChild:!0,children:N.jsx(d_,{className:"h-4 w-4 opacity-50"})})]}));dT.displayName=cJ.displayName;let dz=S.forwardRef(({className:e,...t},n)=>N.jsx(dj,{ref:n,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("flex cursor-default items-center justify-center py-1",e),...t,children:N.jsx(dD,{className:"h-4 w-4"})}));dz.displayName=dj.displayName;let dO=S.forwardRef(({className:e,...t},n)=>N.jsx(db,{ref:n,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("flex cursor-default items-center justify-center py-1",e),...t,children:N.jsx(d_,{className:"h-4 w-4"})}));dO.displayName=db.displayName;let dR=S.forwardRef(({className:e,children:t,position:n="popper",...s},r)=>N.jsx(c2,{children:(0,N.jsxs)(c3,{ref:r,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[N.jsx(dz,{}),N.jsx(dr,{className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),N.jsx(dO,{})]})}));dR.displayName=c3.displayName,S.forwardRef(({className:e,...t},n)=>N.jsx(dd,{ref:n,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=dd.displayName;let dI=S.forwardRef(({className:e,children:t,...n},s)=>(0,N.jsxs)(dx,{ref:s,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[N.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:N.jsx(dv,{children:N.jsx(dP,{className:"h-4 w-4"})})}),N.jsx(df,{children:t})]}));dI.displayName=dx.displayName,S.forwardRef(({className:e,...t},n)=>N.jsx(dS,{ref:n,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=dS.displayName;var dL=n(1744),dZ=n(86),d$=n(8484);let dH=(0,aE.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function dV({workflowId:e}){let[t,n]=(0,S.useState)("deployments"),[s,r]=(0,S.useState)(!1),[a,i]=(0,S.useState)(null),[l,o]=(0,S.useState)([{id:"deploy-1",name:"Production API",environment:"production",status:"active",endpoint:"https://api-prod.lamatic.ai/workflows/workflow-123",region:["us-east-1","eu-west-1"],version:"v1.2.3",createdAt:new Date("2024-01-15"),lastDeployment:new Date("2024-01-20"),metrics:{requests:145200,errors:12,latency:245,uptime:99.9}},{id:"deploy-2",name:"Staging Environment",environment:"staging",status:"active",endpoint:"https://api-staging.lamatic.ai/workflows/workflow-123",region:["us-east-1"],version:"v1.3.0-beta",createdAt:new Date("2024-01-18"),lastDeployment:new Date("2024-01-22"),metrics:{requests:8432,errors:3,latency:198,uptime:99.5}},{id:"deploy-3",name:"Development Build",environment:"development",status:"failed",endpoint:"https://api-dev.lamatic.ai/workflows/workflow-123",region:["us-east-1"],version:"v1.3.1-alpha",createdAt:new Date("2024-01-22"),lastDeployment:new Date("2024-01-22"),metrics:{requests:234,errors:15,latency:892,uptime:85.2}}]),c=async t=>{r(!0);let n={id:`deploy-${Date.now()}`,name:`${t.charAt(0).toUpperCase()+t.slice(1)} Deployment`,environment:t,status:"deploying",endpoint:`https://api-${t}.lamatic.ai/workflows/${e}`,region:["us-east-1"],version:"v1.3.2",createdAt:new Date,metrics:{requests:0,errors:0,latency:0,uptime:0}};o(e=>[n,...e]),await new Promise(e=>setTimeout(e,2e3)),o(e=>e.map(e=>e.id===n.id?{...e,status:Math.random()>.2?"active":"failed"}:e)),r(!1)},d=e=>{switch(e){case"active":return N.jsx(ix.Z,{className:"h-4 w-4 text-green-500"});case"failed":return N.jsx(ip.Z,{className:"h-4 w-4 text-red-500"});case"deploying":return N.jsx(a_.Z,{className:"h-4 w-4 text-blue-500 animate-spin"});case"inactive":return N.jsx(aX.Z,{className:"h-4 w-4 text-gray-400"});default:return N.jsx(a_.Z,{className:"h-4 w-4 text-yellow-500"})}},u=e=>N.jsx(E.C,{variant:{active:"default",failed:"destructive",deploying:"secondary",inactive:"outline",pending:"outline"}[e],children:e}),m=e=>{switch(e){case"production":return"bg-red-100 text-red-800";case"staging":return"bg-yellow-100 text-yellow-800";case"development":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(dL.Z,{className:"h-5 w-5"}),"Deployments"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Deploy and manage your workflow across different environments"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(C.z,{onClick:()=>c("development"),disabled:s,variant:"outline",size:"sm",children:"Deploy to Dev"}),(0,N.jsxs)(C.z,{onClick:()=>c("production"),disabled:s,size:"sm",children:[N.jsx(dL.Z,{className:"h-4 w-4 mr-1"}),"Deploy to Prod"]})]})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:t,onValueChange:n,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"deployments",className:"rounded-none",children:"Deployments"}),N.jsx(k.SP,{value:"config",className:"rounded-none",children:"Configuration"}),N.jsx(k.SP,{value:"metrics",className:"rounded-none",children:"Metrics"}),N.jsx(k.SP,{value:"logs",className:"rounded-none",children:"Logs"})]}),N.jsx(k.nU,{value:"deployments",className:"flex-1 m-0 p-4",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full",children:[N.jsx("div",{className:"xl:col-span-2",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Active Deployments"})}),N.jsx(ak.aY,{className:"pt-0",children:N.jsx(aC.x,{className:"h-[500px]",children:N.jsx("div",{className:"space-y-3",children:l.map(e=>(0,N.jsxs)("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${a===e.id?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>i(e.id),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[d(e.status),N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{className:m(e.environment),children:e.environment})]}),u(e.status)]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Version:"})," ",e.version]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Regions:"})," ",e.region.join(", ")]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Requests:"})," ",e.metrics.requests.toLocaleString()]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Uptime:"})," ",e.metrics.uptime,"%"]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(dZ.Z,{className:"h-3 w-3 mr-1"}),"Open"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(a2.Z,{className:"h-3 w-3 mr-1"}),"Copy URL"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(aW.Z,{className:"h-3 w-3 mr-1"}),"Settings"]})]})]},e.id))})})})]})}),N.jsx("div",{children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Deployment Details"})}),N.jsx(ak.aY,{className:"pt-0",children:a?N.jsx(aC.x,{className:"h-[500px]",children:(()=>{let e=l.find(e=>e.id===a);return e?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Endpoint"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[N.jsx(ig,{value:e.endpoint,readOnly:!0,className:"text-xs"}),N.jsx(C.z,{size:"sm",variant:"outline",children:N.jsx(a2.Z,{className:"h-3 w-3"})})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Status"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[d(e.status),N.jsx("span",{className:"text-sm",children:e.status})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Environment"}),N.jsx(E.C,{className:`${m(e.environment)} mt-1`,children:e.environment})]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Performance Metrics"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[N.jsx(d$.Z,{className:"h-3 w-3"}),N.jsx("span",{className:"text-xs",children:"Requests"})]}),N.jsx("p",{className:"text-sm font-medium",children:e.metrics.requests.toLocaleString()})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[N.jsx(ip.Z,{className:"h-3 w-3"}),N.jsx("span",{className:"text-xs",children:"Errors"})]}),N.jsx("p",{className:"text-sm font-medium",children:e.metrics.errors})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[N.jsx(aA.Z,{className:"h-3 w-3"}),N.jsx("span",{className:"text-xs",children:"Latency"})]}),(0,N.jsxs)("p",{className:"text-sm font-medium",children:[e.metrics.latency,"ms"]})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[N.jsx(ix.Z,{className:"h-3 w-3"}),N.jsx("span",{className:"text-xs",children:"Uptime"})]}),(0,N.jsxs)("p",{className:"text-sm font-medium",children:[e.metrics.uptime,"%"]})]})]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Deployment Info"}),(0,N.jsxs)("div",{className:"space-y-2 mt-2 text-sm",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Version:"}),N.jsx("span",{children:e.version})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Regions:"}),N.jsx("span",{children:e.region.join(", ")})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Created:"}),N.jsx("span",{children:e.createdAt.toLocaleDateString()})]}),e.lastDeployment&&(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Last Deploy:"}),N.jsx("span",{children:e.lastDeployment.toLocaleDateString()})]})]})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,N.jsxs)(C.z,{size:"sm",className:"w-full",children:[N.jsx(aJ.Z,{className:"h-3 w-3 mr-1"}),"Restart Deployment"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(aW.Z,{className:"h-3 w-3 mr-1"}),"Configure"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"destructive",className:"w-full",children:[N.jsx(aX.Z,{className:"h-3 w-3 mr-1"}),"Stop Deployment"]})]})]}):null})()}):N.jsx("div",{className:"flex items-center justify-center h-[500px] text-muted-foreground",children:"Select a deployment to view details"})})]})})]})}),N.jsx(k.nU,{value:"config",className:"flex-1 m-0 p-4",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(aW.Z,{className:"h-5 w-5"}),"Deployment Configuration"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Environment"}),(0,N.jsxs)(cG,{children:[N.jsx(dT,{className:"mt-1",children:N.jsx(c0,{placeholder:"Select environment"})}),(0,N.jsxs)(dR,{children:[N.jsx(dI,{value:"development",children:"Development"}),N.jsx(dI,{value:"staging",children:"Staging"}),N.jsx(dI,{value:"production",children:"Production"})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Regions"}),(0,N.jsxs)(cG,{children:[N.jsx(dT,{className:"mt-1",children:N.jsx(c0,{placeholder:"Select regions"})}),(0,N.jsxs)(dR,{children:[N.jsx(dI,{value:"us-east-1",children:"US East (N. Virginia)"}),N.jsx(dI,{value:"us-west-2",children:"US West (Oregon)"}),N.jsx(dI,{value:"eu-west-1",children:"Europe (Ireland)"}),N.jsx(dI,{value:"ap-southeast-1",children:"Asia Pacific (Singapore)"})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Auto Scaling"}),(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-xs",children:"Min"}),N.jsx(ig,{type:"number",defaultValue:"1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-xs",children:"Max"}),N.jsx(ig,{type:"number",defaultValue:"10"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-xs",children:"Target"}),N.jsx(ig,{type:"number",defaultValue:"3"})]})]})]})]})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(aU,{className:"h-5 w-5"}),"Security & Access"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"API Key Management"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[N.jsx(ig,{value:"sk-...",readOnly:!0}),N.jsx(C.z,{size:"sm",variant:"outline",children:"Regenerate"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Rate Limiting"}),N.jsx(ig,{type:"number",defaultValue:"1000",className:"mt-1"}),N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requests per minute"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"CORS Origins"}),N.jsx(ig,{placeholder:"https://yourdomain.com",className:"mt-1"})]})]})]})]})}),(0,N.jsxs)(k.nU,{value:"metrics",className:"flex-1 m-0 p-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Requests"}),N.jsx("p",{className:"text-2xl font-bold",children:"153,632"})]}),N.jsx(d$.Z,{className:"h-8 w-8 text-blue-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Error Rate"}),N.jsx("p",{className:"text-2xl font-bold",children:"0.08%"})]}),N.jsx(ip.Z,{className:"h-8 w-8 text-red-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Latency"}),N.jsx("p",{className:"text-2xl font-bold",children:"245ms"})]}),N.jsx(aA.Z,{className:"h-8 w-8 text-yellow-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Cost"}),N.jsx("p",{className:"text-2xl font-bold",children:"$127"})]}),N.jsx(dH,{className:"h-8 w-8 text-green-500"})]})})})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(aR.Z,{className:"h-5 w-5"}),"Performance Metrics"]})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Detailed performance charts and analytics would be displayed here"})})]})]}),N.jsx(k.nU,{value:"logs",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Deployment Logs"})}),N.jsx(ak.aY,{children:N.jsx(aC.x,{className:"h-[400px]",children:(0,N.jsxs)("div",{className:"font-mono text-xs space-y-1",children:[N.jsx("div",{className:"text-muted-foreground",children:"[2024-01-22 10:30:15] Starting deployment..."}),N.jsx("div",{className:"text-blue-600",children:"[2024-01-22 10:30:16] Building workflow bundle..."}),N.jsx("div",{className:"text-green-600",children:"[2024-01-22 10:30:18] Bundle created successfully"}),N.jsx("div",{className:"text-blue-600",children:"[2024-01-22 10:30:19] Deploying to edge locations..."}),N.jsx("div",{className:"text-green-600",children:"[2024-01-22 10:30:22] Deployed to us-east-1"}),N.jsx("div",{className:"text-green-600",children:"[2024-01-22 10:30:24] Deployed to eu-west-1"}),N.jsx("div",{className:"text-green-600",children:"[2024-01-22 10:30:25] Deployment completed successfully"}),N.jsx("div",{className:"text-muted-foreground",children:"[2024-01-22 10:30:26] Health checks passed"})]})})})]})})]})})]})}var dW=n(9136),dB=n(2578);let dF=(0,aE.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),dU=(0,aE.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function dq(){let[e,t]=(0,S.useState)("sources"),[n,s]=(0,S.useState)(null),[r,a]=(0,S.useState)(null),[i,l]=(0,S.useState)([{id:"source-1",name:"Company Documentation",type:"document",status:"active",description:"Internal company docs and policies",documents:247,size:"15.2 MB",lastSync:new Date("2024-01-22T10:30:00"),syncFrequency:"Daily",vectorized:!0,chunks:1856,embedding:"text-embedding-ada-002"},{id:"source-2",name:"Customer Database",type:"database",status:"syncing",description:"PostgreSQL customer data",documents:12450,size:"142.8 MB",lastSync:new Date("2024-01-22T09:15:00"),syncFrequency:"Real-time",vectorized:!1,chunks:0,embedding:""},{id:"source-3",name:"Knowledge Base API",type:"api",status:"active",description:"External knowledge base REST API",documents:892,size:"8.7 MB",lastSync:new Date("2024-01-22T08:45:00"),syncFrequency:"Hourly",vectorized:!0,chunks:3204,embedding:"text-embedding-ada-002"},{id:"source-4",name:"Website Content",type:"web",status:"error",description:"Scraped website content",documents:156,size:"2.3 MB",lastSync:new Date("2024-01-21T16:20:00"),syncFrequency:"Weekly",vectorized:!1,chunks:0,embedding:""}]),[o,c]=(0,S.useState)([{id:"store-1",name:"Main Vector Database",provider:"weaviate",status:"connected",dimensions:1536,documents:5108,similarity:"cosine",endpoint:"https://lamatic-weaviate.weaviate.network",indexName:"Documents"},{id:"store-2",name:"Secondary Index",provider:"pinecone",status:"connected",dimensions:1536,documents:2340,similarity:"cosine",endpoint:"https://lamatic-12345.pinecone.io",indexName:"knowledge-base"}]),d=e=>{switch(e){case"document":default:return N.jsx(aP,{className:"h-4 w-4"});case"database":return N.jsx(aO.Z,{className:"h-4 w-4"});case"api":return N.jsx(aA.Z,{className:"h-4 w-4"});case"web":return N.jsx(dW.Z,{className:"h-4 w-4"});case"file":return N.jsx(it,{className:"h-4 w-4"})}},u=e=>{switch(e){case"active":return N.jsx(ix.Z,{className:"h-4 w-4 text-green-500"});case"syncing":return N.jsx(dB.Z,{className:"h-4 w-4 text-blue-500 animate-spin"});case"error":return N.jsx(ip.Z,{className:"h-4 w-4 text-red-500"});default:return N.jsx(a_.Z,{className:"h-4 w-4 text-gray-400"})}},m=e=>N.jsx(E.C,{variant:{active:"default",syncing:"secondary",error:"destructive",inactive:"outline"}[e],children:e}),h=e=>({document:"bg-blue-100 text-blue-800",database:"bg-green-100 text-green-800",api:"bg-purple-100 text-purple-800",web:"bg-orange-100 text-orange-800",file:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",x=async e=>{l(t=>t.map(t=>t.id===e?{...t,status:"syncing"}:t)),setTimeout(()=>{l(t=>t.map(t=>t.id===e?{...t,status:"active",lastSync:new Date,documents:t.documents+Math.floor(10*Math.random())}:t))},3e3)};return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(aO.Z,{className:"h-5 w-5"}),"Context Manager"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage data sources and vector databases for RAG workflows"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(dB.Z,{className:"h-4 w-4 mr-1"}),"Sync All"]}),(0,N.jsxs)(C.z,{size:"sm",children:[N.jsx(ik.Z,{className:"h-4 w-4 mr-1"}),"Add Source"]})]})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:e,onValueChange:t,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"sources",className:"rounded-none",children:"Data Sources"}),N.jsx(k.SP,{value:"vectors",className:"rounded-none",children:"Vector Stores"}),N.jsx(k.SP,{value:"search",className:"rounded-none",children:"Search"}),N.jsx(k.SP,{value:"analytics",className:"rounded-none",children:"Analytics"})]}),N.jsx(k.nU,{value:"sources",className:"flex-1 m-0 p-4",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full",children:[N.jsx("div",{className:"xl:col-span-2",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ak.ll,{className:"text-base",children:"Context Sources"}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(ig,{placeholder:"Filter sources...",className:"w-48"}),N.jsx(C.z,{size:"sm",variant:"outline",children:N.jsx(aZ,{className:"h-4 w-4"})})]})]})}),N.jsx(ak.aY,{className:"pt-0",children:N.jsx(aC.x,{className:"h-[500px]",children:N.jsx("div",{className:"space-y-3",children:i.map(e=>(0,N.jsxs)("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${n===e.id?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>s(e.id),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[d(e.type),N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{className:h(e.type),children:e.type})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[u(e.status),m(e.status)]})]}),N.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs text-muted-foreground",children:[(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Documents:"})," ",e.documents.toLocaleString()]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Size:"})," ",e.size]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Last Sync:"})," ",e.lastSync.toLocaleTimeString()]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Frequency:"})," ",e.syncFrequency]}),e.vectorized&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Chunks:"})," ",e.chunks.toLocaleString()]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Embedding:"})," ",e.embedding]})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-3 pt-2 border-t",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",onClick:t=>{t.stopPropagation(),x(e.id)},disabled:"syncing"===e.status,children:[N.jsx(dB.Z,{className:`h-3 w-3 mr-1 ${"syncing"===e.status?"animate-spin":""}`}),"Sync"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(dF,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(aW.Z,{className:"h-3 w-3 mr-1"}),"Settings"]}),e.vectorized&&(0,N.jsxs)(E.C,{variant:"secondary",className:"text-xs",children:[N.jsx(aA.Z,{className:"h-3 w-3 mr-1"}),"Vectorized"]})]})]},e.id))})})})]})}),N.jsx("div",{children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Source Details"})}),N.jsx(ak.aY,{className:"pt-0",children:n?N.jsx(aC.x,{className:"h-[500px]",children:(()=>{let e=i.find(e=>e.id===n);return e?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Name"}),N.jsx("p",{className:"text-sm",children:e.name})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Type"}),N.jsx(E.C,{className:`${h(e.type)} mt-1`,children:e.type})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Status"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[u(e.status),N.jsx("span",{className:"text-sm",children:e.status})]})]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Statistics"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Documents"}),N.jsx("p",{className:"text-sm font-medium",children:e.documents.toLocaleString()})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Size"}),N.jsx("p",{className:"text-sm font-medium",children:e.size})]}),e.vectorized&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Chunks"}),N.jsx("p",{className:"text-sm font-medium",children:e.chunks.toLocaleString()})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Embedding"}),N.jsx("p",{className:"text-sm font-medium text-xs",children:e.embedding})]})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Sync Settings"}),(0,N.jsxs)("div",{className:"space-y-2 mt-2 text-sm",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Frequency:"}),N.jsx("span",{children:e.syncFrequency})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Last Sync:"}),N.jsx("span",{children:e.lastSync.toLocaleString()})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Vectorized:"}),N.jsx("span",{children:e.vectorized?"Yes":"No"})]})]})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,N.jsxs)(C.z,{size:"sm",className:"w-full",children:[N.jsx(dB.Z,{className:"h-3 w-3 mr-1"}),"Sync Now"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(dF,{className:"h-3 w-3 mr-1"}),"Edit Source"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(is,{className:"h-3 w-3 mr-1"}),"Export Data"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"destructive",className:"w-full",children:[N.jsx(iE.Z,{className:"h-3 w-3 mr-1"}),"Delete Source"]})]})]}):null})()}):N.jsx("div",{className:"flex items-center justify-center h-[500px] text-muted-foreground",children:"Select a source to view details"})})]})})]})}),N.jsx(k.nU,{value:"vectors",className:"flex-1 m-0 p-4",children:N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(e=>N.jsx(ak.Zb,{className:"cursor-pointer hover:bg-accent/50",children:(0,N.jsxs)(ak.aY,{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(aO.Z,{className:"h-5 w-5"}),N.jsx("span",{className:"font-medium",children:e.name})]}),N.jsx(E.C,{variant:"connected"===e.status?"default":"destructive",children:e.status})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground mb-4",children:[(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Provider:"})," ",e.provider]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Documents:"})," ",e.documents.toLocaleString()]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Dimensions:"})," ",e.dimensions]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Similarity:"})," ",e.similarity]})]}),(0,N.jsxs)("div",{className:"text-xs text-muted-foreground mb-3",children:[(0,N.jsxs)("div",{children:[N.jsx("strong",{children:"Endpoint:"})," ",e.endpoint]}),(0,N.jsxs)("div",{children:[N.jsx("strong",{children:"Index:"})," ",e.indexName]})]}),(0,N.jsxs)("div",{className:"flex gap-2",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"flex-1",children:[N.jsx(dU,{className:"h-3 w-3 mr-1"}),"Query"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"flex-1",children:[N.jsx(aW.Z,{className:"h-3 w-3 mr-1"}),"Configure"]})]})]})},e.id))})}),N.jsx(k.nU,{value:"search",className:"flex-1 m-0 p-4",children:(0,N.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(dU,{className:"h-5 w-5"}),"Semantic Search"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Search Query"}),N.jsx(ig,{placeholder:"Enter your search query...",className:"mt-1"})]}),(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Vector Store"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Main Vector Database"}),N.jsx("option",{children:"Secondary Index"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Results Limit"}),N.jsx(ig,{type:"number",defaultValue:"10",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Similarity Threshold"}),N.jsx(ig,{type:"number",defaultValue:"0.7",step:"0.1",min:"0",max:"1",className:"mt-1"})]})]}),(0,N.jsxs)(C.z,{className:"w-full",children:[N.jsx(dU,{className:"h-4 w-4 mr-2"}),"Search Context"]})]})]}),(0,N.jsxs)(ak.Zb,{className:"mt-6",children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Search Results"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Search results will appear here"})})]})]})}),(0,N.jsxs)(k.nU,{value:"analytics",className:"flex-1 m-0 p-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Documents"}),N.jsx("p",{className:"text-2xl font-bold",children:"13,745"})]}),N.jsx(aP,{className:"h-8 w-8 text-blue-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Vector Chunks"}),N.jsx("p",{className:"text-2xl font-bold",children:"5,060"})]}),N.jsx(aA.Z,{className:"h-8 w-8 text-purple-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Sources"}),N.jsx("p",{className:"text-2xl font-bold",children:"3"})]}),N.jsx(aO.Z,{className:"h-8 w-8 text-green-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Storage Used"}),N.jsx("p",{className:"text-2xl font-bold",children:"168.5 MB"})]}),N.jsx(aR.Z,{className:"h-8 w-8 text-orange-500"})]})})})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Context Analytics"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Detailed analytics and insights about your context data would be displayed here"})})]})]})]})})]})}let dY=(0,aE.Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),dK=(0,aE.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),dG=(0,aE.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),dX=(0,aE.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),dJ=(0,aE.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);function dQ(){let[e,t]=(0,S.useState)("library"),[n,s]=(0,S.useState)(null),[r,a]=(0,S.useState)(""),[i,l]=(0,S.useState)("all"),[o,c]=(0,S.useState)([{id:"prompt-1",name:"Customer Support Assistant",description:"Helpful and empathetic customer support responses",content:`You are a professional customer support representative for {{company_name}}. 

Your role is to:
- Provide helpful and accurate information
- Show empathy for customer concerns
- Escalate complex issues when needed
- Maintain a professional but friendly tone

Customer inquiry: {{customer_message}}

Please respond in a helpful and professional manner.`,category:"chat",tags:["customer-service","support","professional"],variables:["company_name","customer_message"],model:"gpt-4",temperature:.7,maxTokens:500,isPublic:!0,rating:4.8,usage:1250,author:"system",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")},{id:"prompt-2",name:"Code Review Assistant",description:"Comprehensive code review with suggestions",content:`You are an expert software engineer performing a code review. Analyze the following code and provide:

1. Code quality assessment
2. Security considerations
3. Performance improvements
4. Best practice recommendations
5. Bug identification

Code to review:
{{code}}

Programming language: {{language}}

Provide a detailed review with specific suggestions for improvement.`,category:"technical",tags:["code-review","programming","quality"],variables:["code","language"],model:"gpt-4",temperature:.3,maxTokens:1e3,isPublic:!0,rating:4.9,usage:892,author:"system",createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-20")},{id:"prompt-3",name:"Marketing Copy Generator",description:"Engaging marketing content for products",content:`Create compelling marketing copy for {{product_name}}.

Product details:
- Product: {{product_name}}
- Target audience: {{target_audience}}
- Key benefits: {{key_benefits}}
- Tone: {{tone}}

Generate:
1. Catchy headline
2. Product description (100-150 words)
3. Call-to-action
4. Key selling points (3-5 bullet points)

Make it persuasive and engaging while staying true to the brand voice.`,category:"creative",tags:["marketing","copywriting","sales"],variables:["product_name","target_audience","key_benefits","tone"],model:"gpt-3.5-turbo",temperature:.8,maxTokens:800,isPublic:!1,rating:4.6,usage:456,author:"user123",createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")},{id:"prompt-4",name:"Data Analysis Report",description:"Structured analysis of datasets with insights",content:`Analyze the provided dataset and create a comprehensive report.

Dataset: {{dataset_description}}
Data: {{data}}

Please provide:

1. **Executive Summary**
   - Key findings (2-3 main insights)
   - Overall trends

2. **Detailed Analysis**
   - Statistical summary
   - Pattern identification
   - Anomaly detection

3. **Insights & Recommendations**
   - Actionable insights
   - Strategic recommendations
   - Next steps

4. **Visualizations Suggested**
   - Recommended chart types
   - Key metrics to highlight

Format the report professionally with clear sections and bullet points.`,category:"analysis",tags:["data-analysis","reporting","insights"],variables:["dataset_description","data"],model:"claude-3-sonnet",temperature:.4,maxTokens:1500,isPublic:!0,rating:4.7,usage:234,author:"analyst_pro",createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-22")},{id:"prompt-5",name:"Meeting Summary",description:"Convert meeting transcripts into structured summaries",content:`Transform the following meeting transcript into a professional summary.

Meeting details:
- Date: {{meeting_date}}
- Participants: {{participants}}
- Topic: {{meeting_topic}}

Transcript:
{{transcript}}

Create a summary with:

1. **Meeting Overview**
2. **Key Discussion Points**
3. **Decisions Made**
4. **Action Items** (with assigned owners and deadlines)
5. **Next Steps**

Keep it concise but comprehensive.`,category:"business",tags:["meeting","summary","productivity"],variables:["meeting_date","participants","meeting_topic","transcript"],model:"gpt-4",temperature:.5,maxTokens:1200,isPublic:!0,rating:4.5,usage:678,author:"business_user",createdAt:new Date("2024-01-16"),updatedAt:new Date("2024-01-21")}]),d=e=>{switch(e){case"chat":return N.jsx(aM,{className:"h-4 w-4"});case"completion":default:return N.jsx(aP,{className:"h-4 w-4"});case"analysis":return N.jsx(dY,{className:"h-4 w-4"});case"creative":return N.jsx(aA.Z,{className:"h-4 w-4"});case"technical":return N.jsx(aL,{className:"h-4 w-4"});case"business":return N.jsx(aV,{className:"h-4 w-4"})}},u=e=>({chat:"bg-blue-100 text-blue-800",completion:"bg-green-100 text-green-800",analysis:"bg-purple-100 text-purple-800",creative:"bg-pink-100 text-pink-800",technical:"bg-orange-100 text-orange-800",business:"bg-indigo-100 text-indigo-800"})[e]||"bg-gray-100 text-gray-800",m=o.filter(e=>{let t=e.name.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(r.toLowerCase())),n="all"===i||e.category===i;return t&&n}),h=e=>Array.from({length:5},(t,n)=>N.jsx(dK,{className:`h-3 w-3 ${n<Math.floor(e)?"text-yellow-400 fill-current":n<e?"text-yellow-400 fill-current opacity-50":"text-gray-300"}`},n));return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(dG,{className:"h-5 w-5"}),"Prompt Library"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Create, manage, and share prompt templates for your AI workflows"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(it,{className:"h-4 w-4 mr-1"}),"Import"]}),(0,N.jsxs)(C.z,{size:"sm",children:[N.jsx(ik.Z,{className:"h-4 w-4 mr-1"}),"New Prompt"]})]})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:e,onValueChange:t,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"library",className:"rounded-none",children:"My Library"}),N.jsx(k.SP,{value:"public",className:"rounded-none",children:"Public Templates"}),N.jsx(k.SP,{value:"create",className:"rounded-none",children:"Create"}),N.jsx(k.SP,{value:"settings",className:"rounded-none",children:"Settings"})]}),(0,N.jsxs)(k.nU,{value:"library",className:"flex-1 m-0 p-4",children:[(0,N.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,N.jsxs)("div",{className:"flex-1 relative",children:[N.jsx(dU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),N.jsx(ig,{placeholder:"Search prompts...",value:r,onChange:e=>a(e.target.value),className:"pl-10"})]}),(0,N.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[N.jsx("option",{value:"all",children:"All Categories"}),N.jsx("option",{value:"chat",children:"Chat"}),N.jsx("option",{value:"completion",children:"Completion"}),N.jsx("option",{value:"analysis",children:"Analysis"}),N.jsx("option",{value:"creative",children:"Creative"}),N.jsx("option",{value:"technical",children:"Technical"}),N.jsx("option",{value:"business",children:"Business"})]}),N.jsx(C.z,{variant:"outline",size:"sm",children:N.jsx(aZ,{className:"h-4 w-4"})})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full",children:[N.jsx("div",{className:"xl:col-span-2",children:N.jsx(aC.x,{className:"h-[calc(100vh-300px)]",children:N.jsx("div",{className:"grid gap-4",children:m.map(e=>N.jsx(ak.Zb,{className:`cursor-pointer transition-colors ${n===e.id?"ring-2 ring-primary":"hover:bg-accent/50"}`,onClick:()=>s(e.id),children:(0,N.jsxs)(ak.aY,{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[d(e.category),N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{className:u(e.category),children:e.category}),e.isPublic&&(0,N.jsxs)(E.C,{variant:"outline",className:"text-xs",children:[N.jsx(dX,{className:"h-3 w-3 mr-1"}),"Public"]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[h(e.rating),(0,N.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["(",e.rating,")"]})]})]}),N.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,N.jsxs)("div",{className:"flex items-center gap-1 mb-3",children:[e.tags.slice(0,3).map((e,t)=>(0,N.jsxs)(E.C,{variant:"outline",className:"text-xs",children:[N.jsx(dJ,{className:"h-3 w-3 mr-1"}),e]},t)),e.tags.length>3&&(0,N.jsxs)(E.C,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3," more"]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-xs text-muted-foreground mb-3",children:[(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Model:"})," ",e.model]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Usage:"})," ",e.usage]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Variables:"})," ",e.variables.length]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(a2.Z,{className:"h-3 w-3 mr-1"}),"Copy"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(dF,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(is,{className:"h-3 w-3 mr-1"}),"Export"]})]})]})},e.id))})})}),N.jsx("div",{children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Prompt Details"})}),N.jsx(ak.aY,{className:"pt-0",children:n?N.jsx(aC.x,{className:"h-[calc(100vh-400px)]",children:(()=>{let e=o.find(e=>e.id===n);return e?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Name"}),N.jsx("p",{className:"text-sm",children:e.name})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Description"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Category"}),N.jsx(E.C,{className:`${u(e.category)} mt-1`,children:e.category})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Rating"}),(0,N.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[h(e.rating),(0,N.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["(",e.rating,")"]})]})]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Configuration"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Model"}),N.jsx("p",{className:"text-sm font-medium",children:e.model})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Temperature"}),N.jsx("p",{className:"text-sm font-medium",children:e.temperature})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded col-span-2",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Max Tokens"}),N.jsx("p",{className:"text-sm font-medium",children:e.maxTokens})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Variables"}),N.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.variables.map((e,t)=>N.jsx(E.C,{variant:"secondary",className:"text-xs",children:`{{${e}}}`},t))})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Tags"}),N.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.tags.map((e,t)=>(0,N.jsxs)(E.C,{variant:"outline",className:"text-xs",children:[N.jsx(dJ,{className:"h-3 w-3 mr-1"}),e]},t))})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Prompt Content"}),N.jsx("div",{className:"mt-1 p-3 bg-muted rounded text-xs font-mono whitespace-pre-wrap max-h-64 overflow-y-auto",children:e.content})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Usage Statistics"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Total Usage"}),N.jsx("p",{className:"text-sm font-medium",children:e.usage})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Author"}),N.jsx("p",{className:"text-sm font-medium",children:e.author})]})]})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,N.jsxs)(C.z,{size:"sm",className:"w-full",children:[N.jsx(a2.Z,{className:"h-3 w-3 mr-1"}),"Use Prompt"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(dF,{className:"h-3 w-3 mr-1"}),"Edit Prompt"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(dK,{className:"h-3 w-3 mr-1"}),"Add to Favorites"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"destructive",className:"w-full",children:[N.jsx(iE.Z,{className:"h-3 w-3 mr-1"}),"Delete Prompt"]})]})]}):null})()}):N.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-400px)] text-muted-foreground",children:"Select a prompt to view details"})})]})})]})]}),N.jsx(k.nU,{value:"public",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Public Prompt Templates"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Browse and discover prompts shared by the community"})})]})}),N.jsx(k.nU,{value:"create",className:"flex-1 m-0 p-4",children:N.jsx("div",{className:"max-w-4xl mx-auto",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Create New Prompt"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Prompt Name"}),N.jsx(ig,{placeholder:"Enter prompt name...",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Category"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Select category"}),N.jsx("option",{children:"Chat"}),N.jsx("option",{children:"Completion"}),N.jsx("option",{children:"Analysis"}),N.jsx("option",{children:"Creative"}),N.jsx("option",{children:"Technical"}),N.jsx("option",{children:"Business"})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Description"}),N.jsx(ig,{placeholder:"Brief description of the prompt...",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Prompt Content"}),N.jsx(iN,{placeholder:"Enter your prompt template here. Use {{variable_name}} for variables...",className:"mt-1 min-h-[200px] font-mono"})]}),(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Model"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"gpt-4"}),N.jsx("option",{children:"gpt-3.5-turbo"}),N.jsx("option",{children:"claude-3-sonnet"}),N.jsx("option",{children:"claude-3-haiku"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Temperature"}),N.jsx(ig,{type:"number",step:"0.1",min:"0",max:"1",defaultValue:"0.7",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Max Tokens"}),N.jsx(ig,{type:"number",defaultValue:"1000",className:"mt-1"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Tags (comma-separated)"}),N.jsx(ig,{placeholder:"tag1, tag2, tag3",className:"mt-1"})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[N.jsx("input",{type:"checkbox",id:"public"}),N.jsx("label",{htmlFor:"public",className:"text-sm",children:"Make this prompt public"})]}),(0,N.jsxs)("div",{className:"flex gap-2",children:[(0,N.jsxs)(C.z,{children:[N.jsx(ik.Z,{className:"h-4 w-4 mr-2"}),"Create Prompt"]}),N.jsx(C.z,{variant:"outline",children:"Test Prompt"})]})]})]})})}),N.jsx(k.nU,{value:"settings",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Library Settings"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Default Model"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"gpt-4"}),N.jsx("option",{children:"gpt-3.5-turbo"}),N.jsx("option",{children:"claude-3-sonnet"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Auto-save Interval"}),N.jsx(ig,{type:"number",defaultValue:"30",className:"mt-1"}),N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Seconds between auto-saves"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Export Format"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"JSON"}),N.jsx("option",{children:"YAML"}),N.jsx("option",{children:"CSV"})]})]})]})]})})]})})]})}let d0=(0,aE.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);function d1(){let[e,t]=(0,S.useState)("agents"),[n,s]=(0,S.useState)(null),[r,a]=(0,S.useState)(!1),[i,l]=(0,S.useState)([{id:"agent-1",name:"Customer Support Assistant",type:"chat",description:"Handles customer inquiries and provides helpful responses",status:"active",model:"gpt-4",capabilities:["Q&A","Ticket Routing","Sentiment Analysis"],instructions:"You are a helpful customer support assistant. Always be polite and provide accurate information.",temperature:.7,maxTokens:1e3,createdAt:new Date("2024-01-15"),lastUsed:new Date("2024-01-22"),usage:{totalRequests:1450,averageLatency:234,successRate:98.5}},{id:"agent-2",name:"Code Review Bot",type:"code",description:"Reviews code changes and provides suggestions",status:"active",model:"gpt-4",capabilities:["Code Analysis","Security Check","Best Practices"],instructions:"Review code for quality, security issues, and adherence to best practices.",temperature:.3,maxTokens:2e3,createdAt:new Date("2024-01-10"),lastUsed:new Date("2024-01-20"),usage:{totalRequests:892,averageLatency:456,successRate:96.2}},{id:"agent-3",name:"Content Generator",type:"text",description:"Generates marketing content and blog posts",status:"inactive",model:"gpt-3.5-turbo",capabilities:["Content Creation","SEO Optimization","Brand Voice"],instructions:"Generate engaging content that matches the brand voice and is optimized for SEO.",temperature:.8,maxTokens:1500,createdAt:new Date("2024-01-08"),usage:{totalRequests:234,averageLatency:189,successRate:94.8}},{id:"agent-4",name:"Data Analyst",type:"analysis",description:"Analyzes data and generates insights",status:"training",model:"claude-3-sonnet",capabilities:["Data Analysis","Report Generation","Trend Identification"],instructions:"Analyze provided data and generate clear, actionable insights.",temperature:.5,maxTokens:2500,createdAt:new Date("2024-01-20"),usage:{totalRequests:45,averageLatency:567,successRate:100}}]),o=e=>{switch(e){case"chat":return N.jsx(aM,{className:"h-4 w-4"});case"code":return N.jsx(aL,{className:"h-4 w-4"});case"text":return N.jsx(aP,{className:"h-4 w-4"});case"analysis":return N.jsx(dY,{className:"h-4 w-4"});case"multimodal":return N.jsx(aA.Z,{className:"h-4 w-4"});default:return N.jsx(aT.Z,{className:"h-4 w-4"})}},c=e=>{switch(e){case"active":return N.jsx(aJ.Z,{className:"h-4 w-4 text-green-500"});case"inactive":default:return N.jsx(d0,{className:"h-4 w-4 text-gray-400"});case"training":return N.jsx(dY,{className:"h-4 w-4 text-blue-500 animate-pulse"})}},d=e=>N.jsx(E.C,{variant:{active:"default",inactive:"secondary",training:"outline"}[e],children:e}),u=e=>({chat:"bg-blue-100 text-blue-800",code:"bg-purple-100 text-purple-800",text:"bg-green-100 text-green-800",analysis:"bg-orange-100 text-orange-800",multimodal:"bg-pink-100 text-pink-800",workflow:"bg-indigo-100 text-indigo-800"})[e]||"bg-gray-100 text-gray-800";return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(aT.Z,{className:"h-5 w-5"}),"Agent Manager"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and manage AI agents for different tasks"})]}),N.jsx("div",{className:"flex items-center gap-2",children:(0,N.jsxs)(C.z,{onClick:()=>a(!0),className:"flex items-center gap-2",children:[N.jsx(ik.Z,{className:"h-4 w-4"}),"Create Agent"]})})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:e,onValueChange:t,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"agents",className:"rounded-none",children:"My Agents"}),N.jsx(k.SP,{value:"templates",className:"rounded-none",children:"Templates"}),N.jsx(k.SP,{value:"marketplace",className:"rounded-none",children:"Marketplace"}),N.jsx(k.SP,{value:"settings",className:"rounded-none",children:"Settings"})]}),N.jsx(k.nU,{value:"agents",className:"flex-1 m-0 p-4",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full",children:[N.jsx("div",{className:"xl:col-span-2",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ak.ll,{className:"text-base",children:"Active Agents"}),N.jsx("div",{className:"flex items-center gap-2",children:N.jsx(ig,{placeholder:"Search agents...",className:"w-48"})})]})}),N.jsx(ak.aY,{className:"pt-0",children:N.jsx(aC.x,{className:"h-[500px]",children:N.jsx("div",{className:"space-y-3",children:i.map(e=>(0,N.jsxs)("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${n===e.id?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>s(e.id),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[o(e.type),N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{className:u(e.type),children:e.type})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[c(e.status),d(e.status)]})]}),N.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs text-muted-foreground",children:[(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Model:"})," ",e.model]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Requests:"})," ",e.usage.totalRequests.toLocaleString()]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Success Rate:"})," ",e.usage.successRate,"%"]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Avg Latency:"})," ",e.usage.averageLatency,"ms"]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-1 mt-3",children:[e.capabilities.slice(0,3).map((e,t)=>N.jsx(E.C,{variant:"outline",className:"text-xs",children:e},t)),e.capabilities.length>3&&(0,N.jsxs)(E.C,{variant:"outline",className:"text-xs",children:["+",e.capabilities.length-3," more"]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-3 pt-2 border-t",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(aJ.Z,{className:"h-3 w-3 mr-1"}),"Test"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(dF,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(a2.Z,{className:"h-3 w-3 mr-1"}),"Clone"]})]})]},e.id))})})})]})}),N.jsx("div",{children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Agent Details"})}),N.jsx(ak.aY,{className:"pt-0",children:n?N.jsx(aC.x,{className:"h-[500px]",children:(()=>{let e=i.find(e=>e.id===n);return e?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Name"}),N.jsx("p",{className:"text-sm",children:e.name})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Description"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Type"}),N.jsx(E.C,{className:`${u(e.type)} mt-1`,children:e.type})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Status"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[c(e.status),N.jsx("span",{className:"text-sm",children:e.status})]})]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Configuration"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Model"}),N.jsx("p",{className:"text-sm font-medium",children:e.model})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Temperature"}),N.jsx("p",{className:"text-sm font-medium",children:e.temperature})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded col-span-2",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Max Tokens"}),N.jsx("p",{className:"text-sm font-medium",children:e.maxTokens})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"System Instructions"}),N.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-xs",children:e.instructions})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Capabilities"}),N.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.capabilities.map((e,t)=>N.jsx(E.C,{variant:"outline",className:"text-xs",children:e},t))})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Performance Metrics"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Total Requests"}),N.jsx("p",{className:"text-sm font-medium",children:e.usage.totalRequests.toLocaleString()})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Success Rate"}),(0,N.jsxs)("p",{className:"text-sm font-medium",children:[e.usage.successRate,"%"]})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded col-span-2",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Avg Latency"}),(0,N.jsxs)("p",{className:"text-sm font-medium",children:[e.usage.averageLatency,"ms"]})]})]})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,N.jsxs)(C.z,{size:"sm",className:"w-full",children:[N.jsx(dF,{className:"h-3 w-3 mr-1"}),"Edit Agent"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(aJ.Z,{className:"h-3 w-3 mr-1"}),"Test Agent"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(a2.Z,{className:"h-3 w-3 mr-1"}),"Clone Agent"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"destructive",className:"w-full",children:[N.jsx(iE.Z,{className:"h-3 w-3 mr-1"}),"Delete Agent"]})]})]}):null})()}):N.jsx("div",{className:"flex items-center justify-center h-[500px] text-muted-foreground",children:"Select an agent to view details"})})]})})]})}),N.jsx(k.nU,{value:"templates",className:"flex-1 m-0 p-4",children:N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"Customer Support",type:"chat",description:"Handle customer inquiries"},{name:"Content Writer",type:"text",description:"Generate marketing content"},{name:"Code Reviewer",type:"code",description:"Review code quality"},{name:"Data Analyst",type:"analysis",description:"Analyze data patterns"},{name:"Research Assistant",type:"multimodal",description:"Research and summarize"},{name:"Workflow Orchestrator",type:"workflow",description:"Manage complex workflows"}].map((e,t)=>N.jsx(ak.Zb,{className:"cursor-pointer hover:bg-accent/50",children:(0,N.jsxs)(ak.aY,{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[o(e.type),N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{className:u(e.type),children:e.type})]}),N.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,N.jsxs)(C.z,{size:"sm",className:"w-full",children:[N.jsx(ik.Z,{className:"h-3 w-3 mr-1"}),"Use Template"]})]})},t))})}),N.jsx(k.nU,{value:"marketplace",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(dK,{className:"h-5 w-5"}),"Agent Marketplace"]})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Browse and install pre-built agents from the community"})})]})}),N.jsx(k.nU,{value:"settings",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(aW.Z,{className:"h-5 w-5"}),"Agent Settings"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Default Model Provider"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"OpenAI"}),N.jsx("option",{children:"Anthropic"}),N.jsx("option",{children:"Cohere"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Auto-backup Agents"}),(0,N.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[N.jsx("input",{type:"checkbox",defaultChecked:!0}),N.jsx("span",{className:"text-sm",children:"Automatically backup agent configurations"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Analytics Tracking"}),(0,N.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[N.jsx("input",{type:"checkbox",defaultChecked:!0}),N.jsx("span",{className:"text-sm",children:"Track agent usage and performance metrics"})]})]})]})]})})]})})]})}let d2=(0,aE.Z)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),d4=(0,aE.Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);function d3(){let[e,t]=(0,S.useState)("available"),[n,s]=(0,S.useState)(null),[r,a]=(0,S.useState)(""),[i,l]=(0,S.useState)("all"),[o,c]=(0,S.useState)([{id:"tool-1",name:"Web Search",description:"Search the web for current information and real-time data",category:"search",type:"built-in",status:"active",version:"2.1.0",apiEndpoint:"https://api.serper.dev/search",documentation:"https://docs.lamatic.ai/tools/web-search",parameters:[{name:"query",type:"string",required:!0,description:"Search query to execute"},{name:"num_results",type:"number",required:!1,description:"Number of results to return",defaultValue:10},{name:"language",type:"string",required:!1,description:"Search language (ISO code)",defaultValue:"en"}],usage:2450,rating:4.8,author:"Lamatic",isPublic:!0,createdAt:new Date("2024-01-10"),lastUsed:new Date("2024-01-22")},{id:"tool-2",name:"Database Query",description:"Execute SQL queries against connected databases",category:"data",type:"built-in",status:"active",version:"1.5.0",documentation:"https://docs.lamatic.ai/tools/database-query",parameters:[{name:"connection_id",type:"string",required:!0,description:"Database connection identifier"},{name:"query",type:"string",required:!0,description:"SQL query to execute"},{name:"limit",type:"number",required:!1,description:"Maximum number of rows to return",defaultValue:100}],usage:1890,rating:4.6,author:"Lamatic",isPublic:!0,createdAt:new Date("2024-01-08"),lastUsed:new Date("2024-01-21")},{id:"tool-3",name:"Email Sender",description:"Send emails through various providers (SMTP, SendGrid, etc.)",category:"communication",type:"built-in",status:"active",version:"1.3.0",documentation:"https://docs.lamatic.ai/tools/email-sender",parameters:[{name:"to",type:"string",required:!0,description:"Recipient email address"},{name:"subject",type:"string",required:!0,description:"Email subject line"},{name:"body",type:"string",required:!0,description:"Email body content"},{name:"html",type:"boolean",required:!1,description:"Whether body is HTML",defaultValue:!1}],usage:1234,rating:4.7,author:"Lamatic",isPublic:!0,createdAt:new Date("2024-01-12"),lastUsed:new Date("2024-01-20")},{id:"tool-4",name:"Code Executor",description:"Execute Python, JavaScript, and other code snippets safely",category:"utility",type:"built-in",status:"active",version:"2.0.0",documentation:"https://docs.lamatic.ai/tools/code-executor",parameters:[{name:"code",type:"string",required:!0,description:"Code to execute"},{name:"language",type:"string",required:!0,description:"Programming language"},{name:"timeout",type:"number",required:!1,description:"Execution timeout in seconds",defaultValue:30}],usage:987,rating:4.5,author:"Lamatic",isPublic:!0,createdAt:new Date("2024-01-15"),lastUsed:new Date("2024-01-19")},{id:"tool-5",name:"Image Generator",description:"Generate images using DALL-E, Midjourney, or Stable Diffusion",category:"ai",type:"external",status:"active",version:"1.2.0",apiEndpoint:"https://api.openai.com/v1/images/generations",documentation:"https://docs.lamatic.ai/tools/image-generator",parameters:[{name:"prompt",type:"string",required:!0,description:"Image generation prompt"},{name:"size",type:"string",required:!1,description:"Image size (256x256, 512x512, 1024x1024)",defaultValue:"512x512"},{name:"style",type:"string",required:!1,description:"Art style preference"}],usage:756,rating:4.9,author:"Community",isPublic:!0,createdAt:new Date("2024-01-14"),lastUsed:new Date("2024-01-18")},{id:"tool-6",name:"Custom Analytics",description:"Custom tool for analyzing user behavior data",category:"custom",type:"custom",status:"inactive",version:"0.9.0",documentation:"Custom tool documentation",parameters:[{name:"dataset",type:"object",required:!0,description:"Analytics dataset to process"},{name:"metrics",type:"array",required:!0,description:"List of metrics to calculate"}],usage:45,rating:4.2,author:"user123",isPublic:!1,createdAt:new Date("2024-01-16"),lastUsed:new Date("2024-01-17")}]),d=e=>{switch(e){case"search":return N.jsx(dU,{className:"h-4 w-4"});case"data":return N.jsx(aO.Z,{className:"h-4 w-4"});case"communication":return N.jsx(aD,{className:"h-4 w-4"});case"utility":return N.jsx(d2,{className:"h-4 w-4"});case"ai":return N.jsx(aA.Z,{className:"h-4 w-4"});case"custom":return N.jsx(aL,{className:"h-4 w-4"});default:return N.jsx(d4,{className:"h-4 w-4"})}},u=e=>({search:"bg-blue-100 text-blue-800",data:"bg-green-100 text-green-800",communication:"bg-purple-100 text-purple-800",utility:"bg-orange-100 text-orange-800",ai:"bg-pink-100 text-pink-800",custom:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",m=e=>{switch(e){case"active":return N.jsx(ix.Z,{className:"h-4 w-4 text-green-500"});case"inactive":default:return N.jsx(a_.Z,{className:"h-4 w-4 text-gray-400"});case"error":return N.jsx(ip.Z,{className:"h-4 w-4 text-red-500"})}},h=e=>N.jsx(E.C,{variant:{active:"default",inactive:"secondary",error:"destructive"}[e],children:e}),x=e=>({"built-in":"bg-blue-50 text-blue-700 border-blue-200",external:"bg-green-50 text-green-700 border-green-200",custom:"bg-purple-50 text-purple-700 border-purple-200"})[e]||"bg-gray-50 text-gray-700 border-gray-200",p=o.filter(e=>{let t=e.name.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase()),n="all"===i||e.category===i;return t&&n}),f=e=>Array.from({length:5},(t,n)=>N.jsx(dK,{className:`h-3 w-3 ${n<Math.floor(e)?"text-yellow-400 fill-current":n<e?"text-yellow-400 fill-current opacity-50":"text-gray-300"}`},n));return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(d4,{className:"h-5 w-5"}),"Tools Manager"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage tools and functions for your AI workflows"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(it,{className:"h-4 w-4 mr-1"}),"Import Tool"]}),(0,N.jsxs)(C.z,{size:"sm",children:[N.jsx(ik.Z,{className:"h-4 w-4 mr-1"}),"Create Tool"]})]})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:e,onValueChange:t,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"available",className:"rounded-none",children:"Available Tools"}),N.jsx(k.SP,{value:"installed",className:"rounded-none",children:"Installed"}),N.jsx(k.SP,{value:"custom",className:"rounded-none",children:"Custom Tools"}),N.jsx(k.SP,{value:"marketplace",className:"rounded-none",children:"Marketplace"})]}),(0,N.jsxs)(k.nU,{value:"available",className:"flex-1 m-0 p-4",children:[(0,N.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,N.jsxs)("div",{className:"flex-1 relative",children:[N.jsx(dU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),N.jsx(ig,{placeholder:"Search tools...",value:r,onChange:e=>a(e.target.value),className:"pl-10"})]}),(0,N.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[N.jsx("option",{value:"all",children:"All Categories"}),N.jsx("option",{value:"search",children:"Search"}),N.jsx("option",{value:"data",children:"Data"}),N.jsx("option",{value:"communication",children:"Communication"}),N.jsx("option",{value:"utility",children:"Utility"}),N.jsx("option",{value:"ai",children:"AI"}),N.jsx("option",{value:"custom",children:"Custom"})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full",children:[N.jsx("div",{className:"xl:col-span-2",children:N.jsx(aC.x,{className:"h-[calc(100vh-300px)]",children:N.jsx("div",{className:"grid gap-4",children:p.map(e=>N.jsx(ak.Zb,{className:`cursor-pointer transition-colors ${n===e.id?"ring-2 ring-primary":"hover:bg-accent/50"}`,onClick:()=>s(e.id),children:(0,N.jsxs)(ak.aY,{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[d(e.category),N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{className:u(e.category),children:e.category}),N.jsx(E.C,{variant:"outline",className:x(e.type),children:e.type})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[m(e.status),h(e.status)]})]}),N.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-xs text-muted-foreground mb-3",children:[(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Version:"})," ",e.version]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Usage:"})," ",e.usage.toLocaleString()]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Parameters:"})," ",e.parameters.length]})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[f(e.rating),(0,N.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["(",e.rating,")"]})]}),(0,N.jsxs)("span",{className:"text-xs text-muted-foreground",children:["by ",e.author]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(aJ.Z,{className:"h-3 w-3 mr-1"}),"Test"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(aP,{className:"h-3 w-3 mr-1"}),"Docs"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(aW.Z,{className:"h-3 w-3 mr-1"}),"Configure"]}),"inactive"===e.status&&(0,N.jsxs)(C.z,{size:"sm",className:"h-7",children:[N.jsx(ik.Z,{className:"h-3 w-3 mr-1"}),"Install"]})]})]})},e.id))})})}),N.jsx("div",{children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Tool Details"})}),N.jsx(ak.aY,{className:"pt-0",children:n?N.jsx(aC.x,{className:"h-[calc(100vh-400px)]",children:(()=>{let e=o.find(e=>e.id===n);return e?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Name"}),N.jsx("p",{className:"text-sm",children:e.name})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Description"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Category"}),N.jsx(E.C,{className:`${u(e.category)} mt-1`,children:e.category})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Type"}),N.jsx(E.C,{variant:"outline",className:`${x(e.type)} mt-1`,children:e.type})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Status"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[m(e.status),N.jsx("span",{className:"text-sm",children:e.status})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Version"}),N.jsx("p",{className:"text-sm mt-1",children:e.version})]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Parameters"}),N.jsx("div",{className:"space-y-2 mt-2",children:e.parameters.map((e,t)=>(0,N.jsxs)("div",{className:"p-2 bg-muted rounded text-xs",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{variant:"outline",className:"text-xs",children:e.type}),e.required&&N.jsx(E.C,{variant:"destructive",className:"text-xs",children:"required"})]}),N.jsx("p",{className:"text-muted-foreground",children:e.description}),void 0!==e.defaultValue&&(0,N.jsxs)("p",{className:"text-muted-foreground",children:["Default: ",JSON.stringify(e.defaultValue)]})]},t))})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Usage Statistics"}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Total Usage"}),N.jsx("p",{className:"text-sm font-medium",children:e.usage.toLocaleString()})]}),(0,N.jsxs)("div",{className:"p-2 bg-muted rounded",children:[N.jsx("span",{className:"text-xs text-muted-foreground",children:"Rating"}),(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[f(e.rating),N.jsx("span",{className:"text-xs",children:e.rating})]})]})]})]}),e.apiEndpoint&&(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"API Endpoint"}),N.jsx("div",{className:"mt-1 p-2 bg-muted rounded text-xs font-mono break-all",children:e.apiEndpoint})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Author"}),N.jsx("p",{className:"text-sm mt-1",children:e.author})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,N.jsxs)(C.z,{size:"sm",className:"w-full",children:[N.jsx(aJ.Z,{className:"h-3 w-3 mr-1"}),"Test Tool"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(aP,{className:"h-3 w-3 mr-1"}),"View Documentation"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(aW.Z,{className:"h-3 w-3 mr-1"}),"Configure"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(is,{className:"h-3 w-3 mr-1"}),"Export"]}),"custom"===e.type&&(0,N.jsxs)(C.z,{size:"sm",variant:"destructive",className:"w-full",children:[N.jsx(iE.Z,{className:"h-3 w-3 mr-1"}),"Delete Tool"]})]})]}):null})()}):N.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-400px)] text-muted-foreground",children:"Select a tool to view details"})})]})})]})]}),N.jsx(k.nU,{value:"installed",className:"flex-1 m-0 p-4",children:N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.filter(e=>"active"===e.status).map(e=>N.jsx(ak.Zb,{children:(0,N.jsxs)(ak.aY,{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[d(e.category),N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{className:u(e.category),children:e.category})]}),N.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,N.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:[(0,N.jsxs)("span",{children:["Usage: ",e.usage]}),(0,N.jsxs)("span",{children:["v",e.version]})]}),(0,N.jsxs)("div",{className:"flex gap-2",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"flex-1",children:[N.jsx(aW.Z,{className:"h-3 w-3 mr-1"}),"Configure"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"flex-1",children:[N.jsx(aJ.Z,{className:"h-3 w-3 mr-1"}),"Test"]})]})]})},e.id))})}),N.jsx(k.nU,{value:"custom",className:"flex-1 m-0 p-4",children:N.jsx("div",{className:"max-w-4xl mx-auto",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Create Custom Tool"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Tool Name"}),N.jsx(ig,{placeholder:"Enter tool name...",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Category"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Select category"}),N.jsx("option",{children:"Search"}),N.jsx("option",{children:"Data"}),N.jsx("option",{children:"Communication"}),N.jsx("option",{children:"Utility"}),N.jsx("option",{children:"AI"}),N.jsx("option",{children:"Custom"})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Description"}),N.jsx(ig,{placeholder:"Brief description of the tool...",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"API Endpoint (optional)"}),N.jsx(ig,{placeholder:"https://api.example.com/endpoint",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Implementation"}),N.jsx(iN,{placeholder:"Tool implementation code (JavaScript/Python)...",className:"mt-1 min-h-[200px] font-mono"})]}),(0,N.jsxs)(C.z,{children:[N.jsx(ik.Z,{className:"h-4 w-4 mr-2"}),"Create Tool"]})]})]})})}),N.jsx(k.nU,{value:"marketplace",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(dK,{className:"h-5 w-5"}),"Tool Marketplace"]})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Browse and install tools from the community marketplace"})})]})})]})})]})}let d5=(0,aE.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),d6=(0,aE.Z)("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]),d8=(0,aE.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);function d7(){let[e,t]=(0,S.useState)("realtime"),[n,s]=(0,S.useState)(null),[r,a]=(0,S.useState)("all"),[i,l]=(0,S.useState)(""),[o,c]=(0,S.useState)(!0),[d,u]=(0,S.useState)([{id:"log-1",timestamp:new Date("2024-01-22T10:30:15.234Z"),level:"info",source:"workflow-engine",message:"Workflow execution started",context:{workflowId:"wf-123",userId:"user-456",trigger:"webhook"},workflowId:"wf-123",userId:"user-456"},{id:"log-2",timestamp:new Date("2024-01-22T10:30:16.891Z"),level:"info",source:"llm-node",message:"GPT-4 processing request",context:{model:"gpt-4",temperature:.7,maxTokens:1e3,prompt:"Hello, how can I help you today?"},duration:1250,workflowId:"wf-123",nodeId:"node-llm-1"},{id:"log-3",timestamp:new Date("2024-01-22T10:30:18.142Z"),level:"success",source:"llm-node",message:"LLM response generated successfully",context:{tokens:45,cost:.0012,response:"Hello! I'm here to help you with any questions or tasks you might have..."},duration:1251,workflowId:"wf-123",nodeId:"node-llm-1"},{id:"log-4",timestamp:new Date("2024-01-22T10:30:18.398Z"),level:"info",source:"slack-action",message:"Sending message to Slack",context:{channel:"#general",messageType:"thread_reply",threadTs:"1642876215.234"},workflowId:"wf-123",nodeId:"node-slack-1"},{id:"log-5",timestamp:new Date("2024-01-22T10:30:19.567Z"),level:"success",source:"slack-action",message:"Message sent to Slack successfully",context:{messageId:"msg-789",channel:"#general",timestamp:"1642876219.567"},duration:1169,workflowId:"wf-123",nodeId:"node-slack-1"},{id:"log-6",timestamp:new Date("2024-01-22T10:30:19.789Z"),level:"info",source:"workflow-engine",message:"Workflow execution completed",context:{workflowId:"wf-123",totalDuration:4555,nodesExecuted:3,status:"success"},duration:4555,workflowId:"wf-123"},{id:"log-7",timestamp:new Date("2024-01-22T10:25:32.111Z"),level:"error",source:"database-query",message:"Database connection failed",context:{error:"Connection timeout after 30 seconds",host:"db.example.com",database:"production",query:"SELECT * FROM users WHERE active = true"},workflowId:"wf-124",nodeId:"node-db-1"},{id:"log-8",timestamp:new Date("2024-01-22T10:25:30.456Z"),level:"warn",source:"rate-limiter",message:"Rate limit approaching threshold",context:{currentRequests:850,limit:1e3,resetTime:"2024-01-22T11:00:00Z",userId:"user-789"},userId:"user-789"},{id:"log-9",timestamp:new Date("2024-01-22T10:20:15.333Z"),level:"debug",source:"webhook-handler",message:"Processing incoming webhook",context:{method:"POST",headers:{"content-type":"application/json","user-agent":"Slack-Hooks/1.0"},payload:'{"text": "Hello world", "channel": "#general"}'},workflowId:"wf-125"}]),m=e=>{switch(e){case"success":return N.jsx(ix.Z,{className:"h-4 w-4 text-green-500"});case"error":return N.jsx(iU,{className:"h-4 w-4 text-red-500"});case"warn":return N.jsx(d5,{className:"h-4 w-4 text-yellow-500"});case"info":default:return N.jsx(iC,{className:"h-4 w-4 text-blue-500"});case"debug":return N.jsx(aW.Z,{className:"h-4 w-4 text-gray-500"})}},h=e=>N.jsx(E.C,{variant:{success:"default",error:"destructive",warn:"secondary",info:"outline",debug:"outline"}[e],className:"text-xs",children:e.toUpperCase()}),x=e=>({success:"text-green-600",error:"text-red-600",warn:"text-yellow-600",info:"text-blue-600",debug:"text-gray-600"})[e]||"text-gray-600",p=d.filter(e=>{let t="all"===r||e.level===r,n=e.message.toLowerCase().includes(i.toLowerCase())||e.source.toLowerCase().includes(i.toLowerCase());return t&&n}).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()),f=e=>e.toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),g=e=>e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`;return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(d6,{className:"h-5 w-5"}),"Logs Viewer"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor workflow execution logs and system events"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx("input",{type:"checkbox",id:"auto-refresh",checked:o,onChange:e=>c(e.target.checked)}),N.jsx("label",{htmlFor:"auto-refresh",className:"text-sm",children:"Auto-refresh"})]}),(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(dB.Z,{className:"h-4 w-4 mr-1"}),"Refresh"]}),(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(is,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:e,onValueChange:t,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"realtime",className:"rounded-none",children:"Real-time"}),N.jsx(k.SP,{value:"history",className:"rounded-none",children:"History"}),N.jsx(k.SP,{value:"errors",className:"rounded-none",children:"Errors"}),N.jsx(k.SP,{value:"analytics",className:"rounded-none",children:"Analytics"})]}),(0,N.jsxs)(k.nU,{value:"realtime",className:"flex-1 m-0 p-4",children:[(0,N.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,N.jsxs)("div",{className:"flex-1 relative",children:[N.jsx(dU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),N.jsx(ig,{placeholder:"Search logs...",value:i,onChange:e=>l(e.target.value),className:"pl-10"})]}),(0,N.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[N.jsx("option",{value:"all",children:"All Levels"}),N.jsx("option",{value:"debug",children:"Debug"}),N.jsx("option",{value:"info",children:"Info"}),N.jsx("option",{value:"warn",children:"Warning"}),N.jsx("option",{value:"error",children:"Error"}),N.jsx("option",{value:"success",children:"Success"})]}),N.jsx(C.z,{variant:"outline",size:"sm",children:N.jsx(aZ,{className:"h-4 w-4"})})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full",children:[N.jsx("div",{className:"xl:col-span-2",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ak.ll,{className:"text-base",children:"Log Stream"}),(0,N.jsxs)(E.C,{variant:"outline",className:"text-xs",children:[p.length," entries"]})]})}),N.jsx(ak.aY,{className:"pt-0",children:N.jsx(aC.x,{className:"h-[calc(100vh-350px)]",children:N.jsx("div",{className:"space-y-2 font-mono text-xs",children:p.map(e=>(0,N.jsxs)("div",{className:`p-3 border rounded cursor-pointer transition-colors ${n===e.id?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>s(e.id),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-muted-foreground",children:f(e.timestamp)}),m(e.level),h(e.level),N.jsx("span",{className:"text-muted-foreground text-xs",children:e.source})]}),e.duration&&N.jsx(E.C,{variant:"outline",className:"text-xs",children:g(e.duration)})]}),N.jsx("div",{className:`font-medium ${x(e.level)}`,children:e.message}),e.context&&Object.keys(e.context).length>0&&N.jsx("div",{className:"mt-2 text-muted-foreground text-xs",children:Object.entries(e.context).slice(0,2).map(([e,t])=>(0,N.jsxs)("span",{className:"mr-4",children:[e,": ","string"==typeof t?t.substring(0,30)+(t.length>30?"...":""):JSON.stringify(t)]},e))}),(0,N.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[e.workflowId&&(0,N.jsxs)("span",{children:["Workflow: ",e.workflowId]}),e.nodeId&&(0,N.jsxs)("span",{children:["Node: ",e.nodeId]}),e.userId&&(0,N.jsxs)("span",{children:["User: ",e.userId]})]})]},e.id))})})})]})}),N.jsx("div",{children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Log Details"})}),N.jsx(ak.aY,{className:"pt-0",children:n?N.jsx(aC.x,{className:"h-[calc(100vh-450px)]",children:(()=>{let e=d.find(e=>e.id===n);return e?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Timestamp"}),N.jsx("p",{className:"text-sm font-mono",children:e.timestamp.toISOString()})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Level"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[m(e.level),h(e.level)]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Source"}),N.jsx("p",{className:"text-sm mt-1",children:e.source})]})]}),e.duration&&(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Duration"}),N.jsx("p",{className:"text-sm mt-1",children:g(e.duration)})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Message"}),N.jsx("p",{className:"text-sm mt-1 p-2 bg-muted rounded",children:e.message})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Identifiers"}),(0,N.jsxs)("div",{className:"space-y-2 mt-2 text-sm",children:[e.workflowId&&(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Workflow ID:"}),N.jsx("span",{className:"font-mono",children:e.workflowId})]}),e.nodeId&&(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Node ID:"}),N.jsx("span",{className:"font-mono",children:e.nodeId})]}),e.userId&&(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"User ID:"}),N.jsx("span",{className:"font-mono",children:e.userId})]})]})]}),e.context&&Object.keys(e.context).length>0&&(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Context Data"}),N.jsx("pre",{className:"mt-1 p-3 bg-muted rounded text-xs font-mono whitespace-pre-wrap max-h-64 overflow-y-auto",children:JSON.stringify(e.context,null,2)})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(aq,{className:"h-3 w-3 mr-1"}),"View Full Context"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(is,{className:"h-3 w-3 mr-1"}),"Export Entry"]})]})]}):null})()}):N.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-450px)] text-muted-foreground",children:"Select a log entry to view details"})})]})})]})]}),N.jsx(k.nU,{value:"history",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(d8,{className:"h-5 w-5"}),"Historical Logs"]})}),(0,N.jsxs)(ak.aY,{children:[(0,N.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Date Range"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Last 24 hours"}),N.jsx("option",{children:"Last 7 days"}),N.jsx("option",{children:"Last 30 days"}),N.jsx("option",{children:"Custom range"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Workflow"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"All workflows"}),N.jsx("option",{children:"wf-123"}),N.jsx("option",{children:"wf-124"}),N.jsx("option",{children:"wf-125"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Log Level"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"All levels"}),N.jsx("option",{children:"Errors only"}),N.jsx("option",{children:"Warnings & Errors"})]})]}),N.jsx("div",{className:"flex items-end",children:(0,N.jsxs)(C.z,{className:"w-full",children:[N.jsx(dU,{className:"h-4 w-4 mr-2"}),"Search"]})})]}),N.jsx("div",{className:"text-sm text-muted-foreground",children:"Historical log search results would be displayed here"})]})]})}),N.jsx(k.nU,{value:"errors",className:"flex-1 m-0 p-4",children:N.jsx("div",{className:"space-y-4",children:d.filter(e=>"error"===e.level).map(e=>N.jsx(ak.Zb,{className:"border-red-200",children:(0,N.jsxs)(ak.aY,{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(iU,{className:"h-4 w-4 text-red-500"}),N.jsx("span",{className:"font-medium",children:e.message}),N.jsx(E.C,{variant:"destructive",className:"text-xs",children:"ERROR"})]}),N.jsx("span",{className:"text-xs text-muted-foreground",children:f(e.timestamp)})]}),(0,N.jsxs)("div",{className:"text-sm text-muted-foreground mb-2",children:["Source: ",e.source]}),e.context&&N.jsx("pre",{className:"text-xs bg-red-50 p-2 rounded mt-2",children:JSON.stringify(e.context,null,2)})]})},e.id))})}),(0,N.jsxs)(k.nU,{value:"analytics",className:"flex-1 m-0 p-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),N.jsx("p",{className:"text-2xl font-bold",children:d.length})]}),N.jsx(d6,{className:"h-8 w-8 text-blue-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),N.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.filter(e=>"error"===e.level).length})]}),N.jsx(iU,{className:"h-8 w-8 text-red-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Warnings"}),N.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.filter(e=>"warn"===e.level).length})]}),N.jsx(d5,{className:"h-8 w-8 text-yellow-500"})]})})}),N.jsx(ak.Zb,{children:N.jsx(ak.aY,{className:"p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:"Success Rate"}),(0,N.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[Math.round(d.filter(e=>"success"===e.level).length/d.length*100),"%"]})]}),N.jsx(ix.Z,{className:"h-8 w-8 text-green-500"})]})})})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Log Analytics"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"text-sm text-muted-foreground",children:"Detailed log analytics and trends would be displayed here"})})]})]})]})})]})}let d9=(0,aE.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ue=(0,aE.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function ut(){let[e,t]=(0,S.useState)("dashboard"),[n,s]=(0,S.useState)(null),[r,a]=(0,S.useState)("7d"),[i,l]=(0,S.useState)([{id:"report-1",name:"Performance Overview",type:"performance",description:"Workflow execution times and success rates",lastUpdated:new Date("2024-01-22T10:30:00"),schedule:"Daily",status:"active",format:"dashboard"},{id:"report-2",name:"Usage Analytics",type:"usage",description:"API calls, user activity, and resource utilization",lastUpdated:new Date("2024-01-22T09:15:00"),schedule:"Hourly",status:"active",format:"dashboard"},{id:"report-3",name:"Cost Analysis",type:"cost",description:"Monthly spending breakdown by service and user",lastUpdated:new Date("2024-01-22T08:00:00"),schedule:"Daily",status:"active",format:"pdf"},{id:"report-4",name:"Error Summary",type:"errors",description:"Failed workflows and error patterns",lastUpdated:new Date("2024-01-22T07:30:00"),schedule:"Every 6 hours",status:"processing",format:"dashboard"}]),[o]=(0,S.useState)([{name:"Total Workflows",value:"1,247",change:12.5,trend:"up",icon:N.jsx(d$.Z,{className:"h-5 w-5"}),color:"text-blue-600"},{name:"Success Rate",value:"98.2%",change:.8,trend:"up",icon:N.jsx(ix.Z,{className:"h-5 w-5"}),color:"text-green-600"},{name:"Avg Response Time",value:"245ms",change:-15.2,trend:"down",icon:N.jsx(a_.Z,{className:"h-5 w-5"}),color:"text-orange-600"},{name:"Monthly Cost",value:"$1,234",change:8.7,trend:"up",icon:N.jsx(dH,{className:"h-5 w-5"}),color:"text-purple-600"},{name:"Active Users",value:"89",change:23.1,trend:"up",icon:N.jsx(aV,{className:"h-5 w-5"}),color:"text-indigo-600"},{name:"API Calls",value:"45.2K",change:18.9,trend:"up",icon:N.jsx(aA.Z,{className:"h-5 w-5"}),color:"text-pink-600"},{name:"Error Rate",value:"1.8%",change:-.3,trend:"down",icon:N.jsx(d5,{className:"h-5 w-5"}),color:"text-red-600"},{name:"Uptime",value:"99.9%",change:.1,trend:"stable",icon:N.jsx(d9,{className:"h-5 w-5"}),color:"text-emerald-600"}]),c=e=>{switch(e){case"performance":default:return N.jsx(aR.Z,{className:"h-4 w-4"});case"usage":return N.jsx(d$.Z,{className:"h-4 w-4"});case"cost":return N.jsx(dH,{className:"h-4 w-4"});case"errors":return N.jsx(d5,{className:"h-4 w-4"});case"custom":return N.jsx(aW.Z,{className:"h-4 w-4"})}},d=e=>({performance:"bg-blue-100 text-blue-800",usage:"bg-green-100 text-green-800",cost:"bg-purple-100 text-purple-800",errors:"bg-red-100 text-red-800",custom:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",u=e=>N.jsx(E.C,{variant:{active:"default",inactive:"secondary",processing:"outline"}[e],children:e}),m=e=>{switch(e){case"up":return N.jsx(d9,{className:"h-4 w-4 text-green-500"});case"down":return N.jsx(ue,{className:"h-4 w-4 text-red-500"});case"stable":return N.jsx("div",{className:"h-4 w-4 border-b-2 border-gray-400"})}},h=e=>`${e>0?"+":""}${e}%`;return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(aR.Z,{className:"h-5 w-5"}),"Reports & Analytics"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor performance, usage, and business metrics"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[N.jsx("option",{value:"24h",children:"Last 24 hours"}),N.jsx("option",{value:"7d",children:"Last 7 days"}),N.jsx("option",{value:"30d",children:"Last 30 days"}),N.jsx("option",{value:"90d",children:"Last 90 days"})]}),(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(dB.Z,{className:"h-4 w-4 mr-1"}),"Refresh"]}),(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(is,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:e,onValueChange:t,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"dashboard",className:"rounded-none",children:"Dashboard"}),N.jsx(k.SP,{value:"reports",className:"rounded-none",children:"Reports"}),N.jsx(k.SP,{value:"custom",className:"rounded-none",children:"Custom Reports"}),N.jsx(k.SP,{value:"settings",className:"rounded-none",children:"Settings"})]}),N.jsx(k.nU,{value:"dashboard",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(aC.x,{className:"h-[calc(100vh-200px)]",children:[N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:o.map((e,t)=>N.jsx(ak.Zb,{children:(0,N.jsxs)(ak.aY,{className:"p-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[N.jsx("div",{className:e.color,children:e.icon}),(0,N.jsxs)("div",{className:"flex items-center gap-1",children:[m(e.trend),N.jsx("span",{className:`text-xs ${e.change>0?"text-green-600":e.change<0?"text-red-600":"text-gray-600"}`,children:h(e.change)})]})]}),(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm text-muted-foreground",children:e.name}),N.jsx("p",{className:"text-2xl font-bold",children:e.value})]})]})},t))}),(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{className:"text-base",children:"Workflow Executions"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Workflow execution chart would be displayed here"})})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{className:"text-base",children:"Response Times"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Response time trends chart would be displayed here"})})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{className:"text-base",children:"Top Workflows"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"space-y-3",children:[{name:"Customer Support Bot",executions:456,percentage:35},{name:"Data Processing",executions:312,percentage:24},{name:"Email Automation",executions:234,percentage:18},{name:"Lead Generation",executions:189,percentage:14},{name:"Report Generator",executions:123,percentage:9}].map((e,t)=>N.jsx("div",{className:"flex items-center justify-between",children:(0,N.jsxs)("div",{className:"flex-1",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-sm font-medium",children:e.name}),N.jsx("span",{className:"text-xs text-muted-foreground",children:e.executions})]}),N.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:N.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.percentage}%`}})})]})},t))})})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{className:"text-base",children:"Model Usage"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"space-y-3",children:[{model:"GPT-4",usage:45,cost:"$234.56"},{model:"GPT-3.5 Turbo",usage:30,cost:"$89.23"},{model:"Claude 3 Sonnet",usage:15,cost:"$156.78"},{model:"Claude 3 Haiku",usage:10,cost:"$45.12"}].map((e,t)=>(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx("p",{className:"text-sm font-medium",children:e.model}),N.jsx("p",{className:"text-xs text-muted-foreground",children:e.cost})]}),(0,N.jsxs)("div",{className:"text-right",children:[(0,N.jsxs)("p",{className:"text-sm",children:[e.usage,"%"]}),N.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:N.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${e.usage}%`}})})]})]},t))})})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{className:"text-base",children:"Error Summary"})}),N.jsx(ak.aY,{children:N.jsx("div",{className:"space-y-3",children:[{error:"Rate Limit Exceeded",count:12,severity:"medium"},{error:"Database Timeout",count:8,severity:"high"},{error:"Invalid API Key",count:5,severity:"low"},{error:"Model Unavailable",count:3,severity:"high"}].map((e,t)=>(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex-1",children:[N.jsx("p",{className:"text-sm font-medium",children:e.error}),N.jsx(E.C,{variant:"high"===e.severity?"destructive":"medium"===e.severity?"secondary":"outline",className:"text-xs mt-1",children:e.severity})]}),N.jsx("span",{className:"text-sm font-medium",children:e.count})]},t))})})]})]})]})}),N.jsx(k.nU,{value:"reports",className:"flex-1 m-0 p-4",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full",children:[N.jsx("div",{className:"xl:col-span-2",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ak.ll,{className:"text-base",children:"Available Reports"}),(0,N.jsxs)(C.z,{size:"sm",children:[N.jsx(d8,{className:"h-4 w-4 mr-1"}),"Schedule Report"]})]})}),N.jsx(ak.aY,{className:"pt-0",children:N.jsx(aC.x,{className:"h-[calc(100vh-350px)]",children:N.jsx("div",{className:"space-y-3",children:i.map(e=>(0,N.jsxs)("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${n===e.id?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>s(e.id),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[c(e.type),N.jsx("span",{className:"font-medium",children:e.name}),N.jsx(E.C,{className:d(e.type),children:e.type})]}),u(e.status)]}),N.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-xs text-muted-foreground",children:[(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Schedule:"})," ",e.schedule]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Format:"})," ",e.format]}),(0,N.jsxs)("div",{children:[N.jsx("span",{className:"font-medium",children:"Updated:"})," ",e.lastUpdated.toLocaleDateString()]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(aq,{className:"h-3 w-3 mr-1"}),"View"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(is,{className:"h-3 w-3 mr-1"}),"Download"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"h-7",children:[N.jsx(dX,{className:"h-3 w-3 mr-1"}),"Share"]})]})]},e.id))})})})]})}),N.jsx("div",{children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{className:"pb-3",children:N.jsx(ak.ll,{className:"text-base",children:"Report Preview"})}),N.jsx(ak.aY,{className:"pt-0",children:n?N.jsx(aC.x,{className:"h-[calc(100vh-450px)]",children:(()=>{let e=i.find(e=>e.id===n);return e?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Name"}),N.jsx("p",{className:"text-sm",children:e.name})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Description"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Type"}),N.jsx(E.C,{className:`${d(e.type)} mt-1`,children:e.type})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Status"}),N.jsx("div",{className:"mt-1",children:u(e.status)})]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Configuration"}),(0,N.jsxs)("div",{className:"space-y-2 mt-2 text-sm",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Schedule:"}),N.jsx("span",{children:e.schedule})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Format:"}),N.jsx("span",{children:e.format})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-muted-foreground",children:"Last Updated:"}),N.jsx("span",{children:e.lastUpdated.toLocaleDateString()})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{className:"text-sm font-medium",children:"Report Preview"}),(0,N.jsxs)("div",{className:"mt-2 p-3 bg-muted rounded",children:[(0,N.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:["Sample data for ",e.name]}),(0,N.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{children:"Total Executions:"}),N.jsx("span",{children:"1,247"})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{children:"Success Rate:"}),N.jsx("span",{children:"98.2%"})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{children:"Avg Response:"}),N.jsx("span",{children:"245ms"})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[N.jsx("span",{children:"Total Cost:"}),N.jsx("span",{children:"$1,234"})]})]})]})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,N.jsxs)(C.z,{size:"sm",className:"w-full",children:[N.jsx(aq,{className:"h-3 w-3 mr-1"}),"View Full Report"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(is,{className:"h-3 w-3 mr-1"}),"Download Report"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(aW.Z,{className:"h-3 w-3 mr-1"}),"Configure"]}),(0,N.jsxs)(C.z,{size:"sm",variant:"outline",className:"w-full",children:[N.jsx(dX,{className:"h-3 w-3 mr-1"}),"Share Report"]})]})]}):null})()}):N.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-450px)] text-muted-foreground",children:"Select a report to preview"})})]})})]})}),N.jsx(k.nU,{value:"custom",className:"flex-1 m-0 p-4",children:N.jsx("div",{className:"max-w-4xl mx-auto",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Create Custom Report"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Report Name"}),N.jsx(ig,{placeholder:"Enter report name...",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Report Type"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Performance"}),N.jsx("option",{children:"Usage"}),N.jsx("option",{children:"Cost"}),N.jsx("option",{children:"Errors"}),N.jsx("option",{children:"Custom"})]})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Description"}),N.jsx(ig,{placeholder:"Brief description of the report...",className:"mt-1"})]}),(0,N.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Data Source"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Workflow Logs"}),N.jsx("option",{children:"Performance Metrics"}),N.jsx("option",{children:"Usage Statistics"}),N.jsx("option",{children:"Cost Data"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Schedule"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Manual"}),N.jsx("option",{children:"Hourly"}),N.jsx("option",{children:"Daily"}),N.jsx("option",{children:"Weekly"}),N.jsx("option",{children:"Monthly"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Format"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Dashboard"}),N.jsx("option",{children:"PDF"}),N.jsx("option",{children:"CSV"}),N.jsx("option",{children:"JSON"})]})]})]}),N.jsx(C.z,{children:"Create Report"})]})]})})}),N.jsx(k.nU,{value:"settings",className:"flex-1 m-0 p-4",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Report Settings"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Default Date Range"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"Last 7 days"}),N.jsx("option",{children:"Last 30 days"}),N.jsx("option",{children:"Last 90 days"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Auto-refresh Interval"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"5 minutes"}),N.jsx("option",{children:"15 minutes"}),N.jsx("option",{children:"1 hour"}),N.jsx("option",{children:"Manual"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Export Format"}),(0,N.jsxs)("select",{className:"w-full mt-1 p-2 border rounded",children:[N.jsx("option",{children:"PDF"}),N.jsx("option",{children:"CSV"}),N.jsx("option",{children:"JSON"}),N.jsx("option",{children:"Excel"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Email Notifications"}),(0,N.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[N.jsx("input",{type:"checkbox",defaultChecked:!0}),N.jsx("span",{className:"text-sm",children:"Send email notifications for scheduled reports"})]})]})]})]})})]})})]})}let un=(0,aE.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),us=(0,aE.Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ur=(0,aE.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),ua=(0,aE.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);function ui(){let[e,t]=(0,S.useState)("general"),[n,s]=(0,S.useState)(!1),[r,a]=(0,S.useState)(!1),[i,l]=(0,S.useState)({general:{workspaceName:"My Workspace",description:"AI workflow automation workspace",timezone:"America/New_York",language:"English",theme:"system"},models:{defaultProvider:"openai",openaiApiKey:"sk-...hidden...",anthropicApiKey:"",cohereApiKey:"",defaultModel:"gpt-4",defaultTemperature:.7,defaultMaxTokens:1e3},deployment:{autoDeployOnSave:!1,defaultEnvironment:"development",enableCaching:!0,cacheTimeout:300,rateLimitPerMinute:1e3,enableAnalytics:!0},notifications:{emailNotifications:!0,deploymentAlerts:!0,errorAlerts:!0,usageAlerts:!0,weeklyReports:!1,slackWebhook:""},security:{apiKeyRotation:"manual",sessionTimeout:24,enableMFA:!1,ipWhitelist:"",auditLogging:!0}}),o=(e,t,n)=>{l(s=>({...s,[e]:{...s[e],[t]:n}})),a(!0)};return(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[N.jsx(aW.Z,{className:"h-5 w-5"}),"Workspace Settings"]}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure your workspace preferences and integrations"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[r&&N.jsx(E.C,{variant:"outline",className:"text-orange-600",children:"Unsaved changes"}),(0,N.jsxs)(C.z,{variant:"outline",size:"sm",onClick:()=>{a(!1)},disabled:!r,children:[N.jsx(im,{className:"h-4 w-4 mr-1"}),"Reset"]}),(0,N.jsxs)(C.z,{size:"sm",onClick:()=>{console.log("Saving settings:",i),a(!1)},disabled:!r,children:[N.jsx(aQ,{className:"h-4 w-4 mr-1"}),"Save Changes"]})]})]})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:e,onValueChange:t,className:"h-full flex flex-col",children:[(0,N.jsxs)(k.dr,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0",children:[N.jsx(k.SP,{value:"general",className:"rounded-none",children:"General"}),N.jsx(k.SP,{value:"models",className:"rounded-none",children:"AI Models"}),N.jsx(k.SP,{value:"deployment",className:"rounded-none",children:"Deployment"}),N.jsx(k.SP,{value:"notifications",className:"rounded-none",children:"Notifications"}),N.jsx(k.SP,{value:"security",className:"rounded-none",children:"Security"})]}),N.jsx(aC.x,{className:"flex-1",children:(0,N.jsxs)("div",{className:"p-6",children:[N.jsx(k.nU,{value:"general",className:"m-0",children:(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(un,{className:"h-5 w-5"}),"Workspace Information"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Workspace Name"}),N.jsx(ig,{value:i.general.workspaceName,onChange:e=>o("general","workspaceName",e.target.value),className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Description"}),N.jsx(iN,{value:i.general.description,onChange:e=>o("general","description",e.target.value),className:"mt-1",placeholder:"Describe your workspace..."})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Timezone"}),(0,N.jsxs)("select",{value:i.general.timezone,onChange:e=>o("general","timezone",e.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{value:"America/New_York",children:"Eastern Time"}),N.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),N.jsx("option",{value:"America/Chicago",children:"Central Time"}),N.jsx("option",{value:"Europe/London",children:"GMT"}),N.jsx("option",{value:"Europe/Berlin",children:"CET"}),N.jsx("option",{value:"Asia/Tokyo",children:"JST"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Language"}),(0,N.jsxs)("select",{value:i.general.language,onChange:e=>o("general","language",e.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{value:"English",children:"English"}),N.jsx("option",{value:"Spanish",children:"Espa\xf1ol"}),N.jsx("option",{value:"French",children:"Fran\xe7ais"}),N.jsx("option",{value:"German",children:"Deutsch"}),N.jsx("option",{value:"Japanese",children:""})]})]})]})]})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(us,{className:"h-5 w-5"}),"Appearance"]})}),N.jsx(ak.aY,{children:(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Theme"}),(0,N.jsxs)("select",{value:i.general.theme,onChange:e=>o("general","theme",e.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{value:"system",children:"System"}),N.jsx("option",{value:"light",children:"Light"}),N.jsx("option",{value:"dark",children:"Dark"})]})]})})]})]})}),N.jsx(k.nU,{value:"models",className:"m-0",children:(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(ur,{className:"h-5 w-5"}),"API Keys"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"OpenAI API Key"}),(0,N.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[N.jsx(ig,{type:n?"text":"password",value:i.models.openaiApiKey,onChange:e=>o("models","openaiApiKey",e.target.value),placeholder:"sk-...",className:"flex-1"}),N.jsx(C.z,{variant:"outline",size:"sm",onClick:()=>s(!n),children:n?N.jsx(ii,{className:"h-4 w-4"}):N.jsx(aq,{className:"h-4 w-4"})})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Anthropic API Key"}),N.jsx(ig,{type:"password",value:i.models.anthropicApiKey,onChange:e=>o("models","anthropicApiKey",e.target.value),placeholder:"sk-ant-...",className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Cohere API Key"}),N.jsx(ig,{type:"password",value:i.models.cohereApiKey,onChange:e=>o("models","cohereApiKey",e.target.value),placeholder:"Enter Cohere API key...",className:"mt-1"})]})]})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(aA.Z,{className:"h-5 w-5"}),"Default Model Settings"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Default Provider"}),(0,N.jsxs)("select",{value:i.models.defaultProvider,onChange:e=>o("models","defaultProvider",e.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{value:"openai",children:"OpenAI"}),N.jsx("option",{value:"anthropic",children:"Anthropic"}),N.jsx("option",{value:"cohere",children:"Cohere"}),N.jsx("option",{value:"huggingface",children:"Hugging Face"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Default Model"}),(0,N.jsxs)("select",{value:i.models.defaultModel,onChange:e=>o("models","defaultModel",e.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{value:"gpt-4",children:"GPT-4"}),N.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),N.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),N.jsx("option",{value:"claude-3-opus",children:"Claude 3 Opus"}),N.jsx("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"})]})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Default Temperature"}),N.jsx(ig,{type:"number",step:"0.1",min:"0",max:"1",value:i.models.defaultTemperature,onChange:e=>o("models","defaultTemperature",parseFloat(e.target.value)),className:"mt-1"})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Default Max Tokens"}),N.jsx(ig,{type:"number",value:i.models.defaultMaxTokens,onChange:e=>o("models","defaultMaxTokens",parseInt(e.target.value)),className:"mt-1"})]})]})]})]})]})}),N.jsx(k.nU,{value:"deployment",className:"m-0",children:(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(dW.Z,{className:"h-5 w-5"}),"Deployment Settings"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Auto-deploy on Save"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically deploy workflows when saved"})]}),N.jsx("input",{type:"checkbox",checked:i.deployment.autoDeployOnSave,onChange:e=>o("deployment","autoDeployOnSave",e.target.checked)})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Default Environment"}),(0,N.jsxs)("select",{value:i.deployment.defaultEnvironment,onChange:e=>o("deployment","defaultEnvironment",e.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{value:"development",children:"Development"}),N.jsx("option",{value:"staging",children:"Staging"}),N.jsx("option",{value:"production",children:"Production"})]})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Enable Caching"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache responses to improve performance"})]}),N.jsx("input",{type:"checkbox",checked:i.deployment.enableCaching,onChange:e=>o("deployment","enableCaching",e.target.checked)})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Cache Timeout (seconds)"}),N.jsx(ig,{type:"number",value:i.deployment.cacheTimeout,onChange:e=>o("deployment","cacheTimeout",parseInt(e.target.value)),className:"mt-1"})]})]})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Performance & Limits"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Rate Limit (requests per minute)"}),N.jsx(ig,{type:"number",value:i.deployment.rateLimitPerMinute,onChange:e=>o("deployment","rateLimitPerMinute",parseInt(e.target.value)),className:"mt-1"})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Enable Analytics"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Collect usage and performance analytics"})]}),N.jsx("input",{type:"checkbox",checked:i.deployment.enableAnalytics,onChange:e=>o("deployment","enableAnalytics",e.target.checked)})]})]})]})]})}),N.jsx(k.nU,{value:"notifications",className:"m-0",children:(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(ua,{className:"h-5 w-5"}),"Notification Preferences"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Email Notifications"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),N.jsx("input",{type:"checkbox",checked:i.notifications.emailNotifications,onChange:e=>o("notifications","emailNotifications",e.target.checked)})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{className:"space-y-3",children:[N.jsx("h4",{className:"font-medium",children:"Alert Types"}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ib,{children:"Deployment Alerts"}),N.jsx("input",{type:"checkbox",checked:i.notifications.deploymentAlerts,onChange:e=>o("notifications","deploymentAlerts",e.target.checked)})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ib,{children:"Error Alerts"}),N.jsx("input",{type:"checkbox",checked:i.notifications.errorAlerts,onChange:e=>o("notifications","errorAlerts",e.target.checked)})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ib,{children:"Usage Alerts"}),N.jsx("input",{type:"checkbox",checked:i.notifications.usageAlerts,onChange:e=>o("notifications","usageAlerts",e.target.checked)})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[N.jsx(ib,{children:"Weekly Reports"}),N.jsx("input",{type:"checkbox",checked:i.notifications.weeklyReports,onChange:e=>o("notifications","weeklyReports",e.target.checked)})]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Slack Webhook URL"}),N.jsx(ig,{value:i.notifications.slackWebhook,onChange:e=>o("notifications","slackWebhook",e.target.value),placeholder:"https://hooks.slack.com/services/...",className:"mt-1"}),N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Optional: Receive notifications in Slack"})]})]})]})}),N.jsx(k.nU,{value:"security",className:"m-0",children:(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:(0,N.jsxs)(ak.ll,{className:"flex items-center gap-2",children:[N.jsx(aU,{className:"h-5 w-5"}),"Security Settings"]})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"API Key Rotation"}),(0,N.jsxs)("select",{value:i.security.apiKeyRotation,onChange:e=>o("security","apiKeyRotation",e.target.value),className:"w-full mt-1 p-2 border rounded-md",children:[N.jsx("option",{value:"manual",children:"Manual"}),N.jsx("option",{value:"30days",children:"Every 30 days"}),N.jsx("option",{value:"90days",children:"Every 90 days"}),N.jsx("option",{value:"365days",children:"Yearly"})]})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Session Timeout (hours)"}),N.jsx(ig,{type:"number",value:i.security.sessionTimeout,onChange:e=>o("security","sessionTimeout",parseInt(e.target.value)),className:"mt-1"})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Enable Multi-Factor Authentication"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Require MFA for all users"})]}),N.jsx("input",{type:"checkbox",checked:i.security.enableMFA,onChange:e=>o("security","enableMFA",e.target.checked)})]}),(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"IP Whitelist"}),N.jsx(iN,{value:i.security.ipWhitelist,onChange:e=>o("security","ipWhitelist",e.target.value),placeholder:"192.168.1.0/24 10.0.0.0/8",className:"mt-1"}),N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"One IP or CIDR per line. Leave empty to allow all IPs."})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[N.jsx(ib,{children:"Audit Logging"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Log all user actions for compliance"})]}),N.jsx("input",{type:"checkbox",checked:i.security.auditLogging,onChange:e=>o("security","auditLogging",e.target.checked)})]})]})]}),(0,N.jsxs)(ak.Zb,{children:[N.jsx(ak.Ol,{children:N.jsx(ak.ll,{children:"Data Management"})}),(0,N.jsxs)(ak.aY,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)(C.z,{variant:"outline",children:[N.jsx(is,{className:"h-4 w-4 mr-2"}),"Export Data"]}),(0,N.jsxs)(C.z,{variant:"outline",children:[N.jsx(it,{className:"h-4 w-4 mr-2"}),"Import Data"]})]}),N.jsx(M.Z,{}),(0,N.jsxs)("div",{children:[(0,N.jsxs)(C.z,{variant:"destructive",className:"w-full",children:[N.jsx(iE.Z,{className:"h-4 w-4 mr-2"}),"Delete Workspace"]}),N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This action cannot be undone. All data will be permanently deleted."})]})]})]})]})})]})})]})})]})}function ul({workflowId:e}){let[t,n]=(0,S.useState)("flows"),{workspace:s}=function(e){let[t,n]=(0,S.useState)(null),[s,r]=(0,S.useState)([]),[a,i]=(0,S.useState)(null),[l,o]=(0,S.useState)(!0),[c,d]=(0,S.useState)(null),u=async e=>{o(!0);try{let t=await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
            query GetWorkspace($id: ID!) {
              workspace(id: $id) {
                id
                name
                slug
                description
                avatar
                plan
                createdAt
                updatedAt
                members {
                  id
                  role
                  permissions
                  user {
                    id
                    name
                    email
                    avatar
                  }
                }
              }
            }
          `,variables:{id:e}})}),s=await t.json();if(s.errors)throw Error(s.errors[0].message);let r=s.data.workspace;n({...r,settings:{allowPublicWorkflows:!0,requireApprovalForDeployments:!1,enableAnalytics:!0,retentionDays:30,integrationSettings:{}}});let a=localStorage.getItem("userId");if(a){let e=r.members.find(e=>e.user.id===a);i(e||null)}}catch(e){d(e instanceof Error?e.message:"Failed to load workspace")}finally{o(!1)}},m=e=>{if(!a)return!1;let t={owner:["*"],admin:["read","write","deploy","manage_members"],member:["read","write","deploy"],viewer:["read"]}[a.role]||[];return t.includes("*")||t.includes(e)};return{workspace:t,workspaces:s,currentMember:a,isLoading:l,error:c,loadWorkspace:u,updateWorkspace:async(e,t)=>{try{let s=await fetch("/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
            mutation UpdateWorkspace($id: ID!, $input: UpdateWorkspaceInput!) {
              updateWorkspace(id: $id, input: $input) {
                id
                name
                slug
                description
                avatar
                updatedAt
              }
            }
          `,variables:{id:e,input:t}})}),a=await s.json();if(a.errors)throw Error(a.errors[0].message);let i=a.data.updateWorkspace;n(e=>e?{...e,...i}:null),r(t=>t.map(t=>t.id===e?{...t,...i}:t))}catch(e){d(e instanceof Error?e.message:"Failed to update workspace")}},switchWorkspace:e=>{s.find(t=>t.id===e)&&u(e)},hasPermission:m,canManageWorkspace:()=>m("*")||a?.role==="owner"||a?.role==="admin",canDeploy:()=>m("deploy")||m("*"),canWrite:()=>m("write")||m("*")}}(),{workflow:r,isLoading:a}=i$();return a?N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,N.jsxs)("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b bg-background/95 backdrop-blur",children:N.jsx("div",{className:"container mx-auto px-4 py-3",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex items-center gap-4",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx(iH.Z,{className:"h-6 w-6 text-primary"}),N.jsx("h1",{className:"text-xl font-bold",children:"Studio"})]}),N.jsx(M.Z,{orientation:"vertical",className:"h-6"}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-sm text-muted-foreground",children:"Workspace:"}),N.jsx(E.C,{variant:"outline",children:s?.name})]}),r&&(0,N.jsxs)(N.Fragment,{children:[N.jsx(M.Z,{orientation:"vertical",className:"h-6"}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-sm text-muted-foreground",children:"Flow:"}),N.jsx("span",{className:"font-medium",children:r.name}),N.jsx(E.C,{variant:"published"===r.status?"default":"secondary",children:r.status})]})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(aQ,{className:"h-4 w-4 mr-2"}),"Save"]}),(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(iq,{className:"h-4 w-4 mr-2"}),"Test"]}),(0,N.jsxs)(C.z,{variant:"outline",size:"sm",children:[N.jsx(ir,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,N.jsxs)(C.z,{size:"sm",children:[N.jsx(dL.Z,{className:"h-4 w-4 mr-2"}),"Deploy"]})]})]})})}),N.jsx("div",{className:"flex-1 overflow-hidden",children:(0,N.jsxs)(k.mQ,{value:t,onValueChange:n,className:"h-full flex flex-col",children:[N.jsx("div",{className:"border-b",children:(0,N.jsxs)(k.dr,{className:"grid w-full grid-cols-12 h-12",children:[(0,N.jsxs)(k.SP,{value:"flows",className:"flex items-center gap-2",children:[N.jsx(iH.Z,{className:"h-4 w-4"}),"Flows"]}),(0,N.jsxs)(k.SP,{value:"agents",className:"flex items-center gap-2",children:[N.jsx(aT.Z,{className:"h-4 w-4"}),"Agents"]}),(0,N.jsxs)(k.SP,{value:"prompts",className:"flex items-center gap-2",children:[N.jsx(aP,{className:"h-4 w-4"}),"Prompts"]}),(0,N.jsxs)(k.SP,{value:"tools",className:"flex items-center gap-2",children:[N.jsx(d4,{className:"h-4 w-4"}),"Tools"]}),(0,N.jsxs)(k.SP,{value:"context",className:"flex items-center gap-2",children:[N.jsx(aO.Z,{className:"h-4 w-4"}),"Context"]}),(0,N.jsxs)(k.SP,{value:"tests",className:"flex items-center gap-2",children:[N.jsx(iq,{className:"h-4 w-4"}),"Tests"]}),(0,N.jsxs)(k.SP,{value:"deployments",className:"flex items-center gap-2",children:[N.jsx(dL.Z,{className:"h-4 w-4"}),"Deploy"]}),(0,N.jsxs)(k.SP,{value:"logs",className:"flex items-center gap-2",children:[N.jsx(d6,{className:"h-4 w-4"}),"Logs"]}),(0,N.jsxs)(k.SP,{value:"reports",className:"flex items-center gap-2",children:[N.jsx(aR.Z,{className:"h-4 w-4"}),"Reports"]}),(0,N.jsxs)(k.SP,{value:"settings",className:"flex items-center gap-2",children:[N.jsx(aW.Z,{className:"h-4 w-4"}),"Settings"]})]})}),(0,N.jsxs)("div",{className:"flex-1 overflow-hidden",children:[N.jsx(k.nU,{value:"flows",className:"h-full m-0 p-0",children:N.jsx(iF,{workflowId:e})}),N.jsx(k.nU,{value:"agents",className:"h-full m-0 p-4",children:N.jsx(d1,{})}),N.jsx(k.nU,{value:"prompts",className:"h-full m-0 p-4",children:N.jsx(dQ,{})}),N.jsx(k.nU,{value:"tools",className:"h-full m-0 p-4",children:N.jsx(d3,{})}),N.jsx(k.nU,{value:"context",className:"h-full m-0 p-4",children:N.jsx(dq,{})}),N.jsx(k.nU,{value:"tests",className:"h-full m-0 p-4",children:N.jsx(iY,{workflowId:e})}),N.jsx(k.nU,{value:"deployments",className:"h-full m-0 p-4",children:N.jsx(dV,{workflowId:e})}),N.jsx(k.nU,{value:"logs",className:"h-full m-0 p-4",children:N.jsx(d7,{})}),N.jsx(k.nU,{value:"reports",className:"h-full m-0 p-4",children:N.jsx(ut,{})}),N.jsx(k.nU,{value:"settings",className:"h-full m-0 p-4",children:N.jsx(ui,{})})]})]})})]})}},3648:(e,t,n)=>{"use strict";var s=n(3677),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useState,i=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),s=a({inst:{value:n,getSnapshot:t}}),r=s[0].inst,d=s[1];return l(function(){r.value=n,r.getSnapshot=t,c(r)&&d({inst:r})},[e,n,t]),i(function(){return c(r)&&d({inst:r}),e(function(){c(r)&&d({inst:r})})},[e]),o(n),n};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},1348:(e,t,n)=>{"use strict";var s=n(3677),r=n(1746),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,l=s.useRef,o=s.useEffect,c=s.useMemo,d=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var u=l(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var h=i(e,(u=c(function(){function e(e){if(!o){if(o=!0,i=e,e=s(e),void 0!==r&&m.hasValue){var t=m.value;if(r(t,e))return l=t}return l=e}if(t=l,a(i,e))return t;var n=s(e);return void 0!==r&&r(t,n)?(i=e,t):(i=e,l=n)}var i,l,o=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,s,r]))[0],u[1]);return o(function(){m.hasValue=!0,m.value=h},[h]),d(h),h}},1746:(e,t,n)=>{"use strict";e.exports=n(3648)},9957:(e,t,n)=>{"use strict";e.exports=n(1348)},5639:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var s=n(9013);let r=(0,n(3189).createProxy)(String.raw`/home/runner/work/lamatic-clone/lamatic-clone/apps/web/src/components/studio/studio-interface.tsx#StudioInterface`);function a(){return s.jsx("div",{className:"h-full",children:s.jsx(r,{})})}},7346:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[630,548,36],()=>n(7011));module.exports=s})();